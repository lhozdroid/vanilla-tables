{
  "version": 3,
  "sources": ["../src/index.js", "../src/i18n/default.i18n.js", "../src/core/default-options.js", "../src/core/renderers/shell-renderer.js", "../src/core/renderers/header-renderer.js", "../src/core/renderers/body-renderer.js", "../src/core/renderers/footer-renderer.js", "../src/core/themes/theme-manager.js", "../src/core/renderer.js", "../src/core/parallel/projection-worker-pool.js", "../src/core/state-store.js", "../src/utils/deep-merge.js", "../src/utils/event-emitter.js", "../src/core/data-sources/client-data-source.js", "../src/core/data-sources/server-data-source.js", "../src/core/data-sources/create-data-source.js", "../src/core/sync/state-sync.js", "../src/core/vanilla-table.js", "../src/plugins/striped-rows.js", "../src/plugins/theme-plugin.js", "../src/plugins/bootstrap-theme.js", "../src/plugins/bulma-theme.js", "../src/plugins/mui-theme.js", "../src/plugins/tailwind-theme.js", "../src/plugins/actions-dropdown.js", "../src/adapters/server-adapters.js"],
  "sourcesContent": ["import { VanillaTable } from './core/vanilla-table.js';\nimport { stripedRowsPlugin } from './plugins/striped-rows.js';\nimport { themePlugin } from './plugins/theme-plugin.js';\nimport { bootstrapThemePlugin } from './plugins/bootstrap-theme.js';\nimport { bulmaThemePlugin } from './plugins/bulma-theme.js';\nimport { muiThemePlugin } from './plugins/mui-theme.js';\nimport { tailwindThemePlugin } from './plugins/tailwind-theme.js';\nimport { actionsDropdownPlugin } from './plugins/actions-dropdown.js';\nimport { createRestAdapter, createGraphQLAdapter, createCursorAdapter } from './adapters/server-adapters.js';\n\nexport { VanillaTable, stripedRowsPlugin, themePlugin, bootstrapThemePlugin, bulmaThemePlugin, muiThemePlugin, tailwindThemePlugin, actionsDropdownPlugin, createRestAdapter, createGraphQLAdapter, createCursorAdapter };\n\n/**\n * Creates and initializes a table instance.\n *\n * @param {HTMLElement} element\n * @param {Record<string, any>[]} rows\n * @param {Record<string, any>} [options]\n * @returns {VanillaTable}\n */\nexport function createVanillaTable(element, rows, options) {\n    return new VanillaTable(element, rows, options).init();\n}\n", "export const defaultI18n = {\n    search: 'Search',\n    filter: 'Filter',\n    rows: 'Rows',\n    actions: 'Actions',\n    loading: 'Loading...',\n    empty: 'No results found',\n    pageInfo: 'Page {page} of {totalPages} ({totalRows} rows)',\n    first: 'First',\n    prev: 'Previous',\n    next: 'Next',\n    last: 'Last'\n};\n", "import { defaultI18n } from '../i18n/default.i18n.js';\n\n/**\n * Defines baseline plugin options.\n */\nexport const defaultOptions = {\n    pageSize: 10,\n    pageSizeOptions: [10, 25, 50, 100],\n    searchable: true,\n    columnFilters: true,\n    sortable: true,\n    multiSort: true,\n    maxSorts: 3,\n    pagination: true,\n    initialSort: null,\n    debounceMs: 120,\n    fixedHeader: false,\n    fixedFooter: false,\n    fixedColumns: 0,\n    fixedTopRows: 0,\n    expandableRows: false,\n    editableRows: false,\n    editableColumns: {},\n    rowIdKey: 'id',\n    serverSide: false,\n    fetchData: null,\n    virtualScroll: {\n        enabled: false,\n        rowHeight: 40,\n        overscan: 6,\n        height: 420,\n        adaptiveOverscan: true\n    },\n    virtualColumns: {\n        enabled: false,\n        width: 180,\n        overscan: 2\n    },\n    parallel: {\n        enabled: true,\n        threshold: 20000,\n        workers: 'auto',\n        timeoutMs: 4000,\n        retries: 1,\n        typedColumns: true\n    },\n    persistence: {\n        enabled: false,\n        storageKey: null\n    },\n    urlSync: {\n        enabled: false,\n        param: 'vt'\n    },\n    columnResize: true,\n    columnReorder: true,\n    rowActions: [],\n    events: {\n        debug: false\n    },\n    themeClasses: {},\n    expandRow: null,\n    sanitizeHtml: null,\n    i18n: defaultI18n,\n    labels: {\n        search: defaultI18n.search,\n        filter: defaultI18n.filter,\n        rows: defaultI18n.rows,\n        actions: defaultI18n.actions,\n        loading: defaultI18n.loading,\n        pageInfo: ({ page, totalPages, totalRows }) => defaultI18n.pageInfo.replace('{page}', String(page)).replace('{totalPages}', String(totalPages)).replace('{totalRows}', String(totalRows)),\n        empty: defaultI18n.empty,\n        first: defaultI18n.first,\n        prev: defaultI18n.prev,\n        next: defaultI18n.next,\n        last: defaultI18n.last\n    },\n    columns: []\n};\n", "/**\n * Renders static shell markup and resolves DOM references.\n */\nexport class ShellRenderer {\n    /**\n     * Creates a shell renderer instance.\n     *\n     * @param {{ root: HTMLElement, options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ root, options, theme }) {\n        /** @type {HTMLElement} */\n        this.root = root;\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n    }\n\n    /**\n     * Mounts static shell structure.\n     *\n     * @returns {Record<string, HTMLElement>}\n     */\n    mount() {\n        const labels = this.options.labels || {};\n        this.root.innerHTML = `\n      <div class=\"${this.theme.classOf('shell', 'vt-shell')}\">\n        <div class=\"${this.theme.classOf('controls', 'vt-controls')}\">\n          <label class=\"${this.theme.classOf('sizeWrap', 'vt-size-wrap')}\">\n            <span>${escapeHtml(String(labels.rows ?? ''))}</span>\n            <select class=\"${this.theme.classOf('sizeSelect', 'vt-size')}\"></select>\n          </label>\n          <label class=\"${this.theme.classOf('searchWrap', 'vt-search-wrap')}\">\n            <span>${escapeHtml(String(labels.search ?? ''))}</span>\n            <input class=\"${this.theme.classOf('searchInput', 'vt-search')}\" type=\"search\" placeholder=\"Type to filter...\" />\n          </label>\n        </div>\n        <div class=\"${this.theme.classOf('tableWrap', 'vt-table-wrap')}\" style=\"${this.options.virtualScroll.enabled ? `height:${this.options.virtualScroll.height}px;overflow:auto;` : ''}\">\n          <table class=\"${this.theme.classOf('table', 'vt-table')}\" role=\"grid\" aria-rowcount=\"-1\">\n            <thead></thead>\n            <tbody></tbody>\n          </table>\n        </div>\n        <div class=\"${this.theme.classOf('footer', 'vt-footer')} ${this.options.fixedFooter ? this.theme.classOf('fixedFooter', 'vt-fixed-footer') : ''}\">\n          <span class=\"${this.theme.classOf('info', 'vt-info')}\"></span>\n          <div class=\"${this.theme.classOf('paginationGroup', 'vt-pagination-group')}\">\n            <button class=\"${this.theme.classOf('firstButton', 'vt-page-btn vt-first')}\" type=\"button\">${escapeHtml(String(labels.first ?? ''))}</button>\n            <button class=\"${this.theme.classOf('prevButton', 'vt-page-btn vt-prev')}\" type=\"button\">${escapeHtml(String(labels.prev ?? ''))}</button>\n            <button class=\"${this.theme.classOf('nextButton', 'vt-page-btn vt-next')}\" type=\"button\">${escapeHtml(String(labels.next ?? ''))}</button>\n            <button class=\"${this.theme.classOf('lastButton', 'vt-page-btn vt-last')}\" type=\"button\">${escapeHtml(String(labels.last ?? ''))}</button>\n          </div>\n        </div>\n      </div>\n    `;\n\n        const refs = {\n            search: this.root.querySelector('.vt-search'),\n            pageSize: this.root.querySelector('.vt-size'),\n            tableWrap: this.root.querySelector('.vt-table-wrap'),\n            table: this.root.querySelector('.vt-table'),\n            thead: this.root.querySelector('thead'),\n            tbody: this.root.querySelector('tbody'),\n            info: this.root.querySelector('.vt-info'),\n            first: this.root.querySelector('.vt-first'),\n            prev: this.root.querySelector('.vt-prev'),\n            next: this.root.querySelector('.vt-next'),\n            last: this.root.querySelector('.vt-last')\n        };\n\n        const pageSizes = normalizePageSizeOptions(this.options.pageSizeOptions);\n        refs.pageSize.innerHTML = pageSizes.map((size) => `<option value=\"${size}\">${size}</option>`).join('');\n        refs.pageSize.value = String(normalizePageSize(this.options.pageSize));\n\n        if (!this.options.searchable) {\n            refs.search.closest('.vt-search-wrap').style.display = 'none';\n        }\n\n        if (!this.options.pagination) {\n            this.root.querySelector('.vt-footer').style.display = 'none';\n        }\n\n        return refs;\n    }\n}\n\n/**\n * Escapes HTML-sensitive characters.\n *\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHtml(value) {\n    return value.replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;').replaceAll('\"', '&quot;').replaceAll(\"'\", '&#039;');\n}\n\n/**\n * Normalizes one page size value.\n *\n * @param {unknown} value\n * @returns {number}\n */\nfunction normalizePageSize(value) {\n    const parsed = Number(value);\n    if (!Number.isFinite(parsed)) return 1;\n    return Math.max(1, Math.floor(parsed));\n}\n\n/**\n * Normalizes page size option list.\n *\n * @param {unknown[]} values\n * @returns {number[]}\n */\nfunction normalizePageSizeOptions(values) {\n    if (!Array.isArray(values) || !values.length) return [10, 25, 50, 100];\n    const normalized = values.map((value) => normalizePageSize(value));\n    return [...new Set(normalized)];\n}\n", "/**\n * Renders table header with sort and filter controls.\n */\nexport class HeaderRenderer {\n    /**\n     * Creates a header renderer instance.\n     *\n     * @param {{ options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ options, theme }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n    }\n\n    /**\n     * Renders header rows.\n     *\n     * @param {HTMLTableSectionElement} thead\n     * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n     * @param {Record<string, string>} columnFilters\n     * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n     * @param {Record<string, number>} columnWidths\n     * @param {{ start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean }} columnWindow\n     * @returns {void}\n     */\n    render(thead, columns, sortState, columnFilters, applyFixedColumn, columnWidths, columnWindow) {\n        const headRows = [];\n        const sortRow = document.createElement('tr');\n        sortRow.setAttribute('role', 'row');\n        const visibleColumns = columnWindow?.enabled ? columns.slice(columnWindow.start, columnWindow.end) : columns;\n\n        if (this.options.expandableRows) {\n            const expandHeader = document.createElement('th');\n            expandHeader.className = this.theme.classOf('headerCell', 'vt-header-cell');\n            sortRow.appendChild(expandHeader);\n        }\n\n        if (columnWindow?.enabled && columnWindow.leftWidth > 0) {\n            sortRow.appendChild(createSpacerHeader(columnWindow.leftWidth));\n        }\n\n        visibleColumns.forEach((column, index) => {\n            const th = document.createElement('th');\n            th.className = this.theme.classOf('headerCell', 'vt-header-cell');\n            th.dataset.key = column.key;\n            th.draggable = Boolean(this.options.columnReorder);\n            th.tabIndex = 0;\n            th.setAttribute('role', 'columnheader');\n            const baseIndex = columnWindow?.enabled ? columnWindow.start + index : index;\n            applyFixedColumn(th, baseIndex + (this.options.expandableRows ? 1 : 0));\n\n            if (columnWidths[column.key]) {\n                th.style.width = `${columnWidths[column.key]}px`;\n            }\n\n            const button = document.createElement('button');\n            button.type = 'button';\n            button.className = this.theme.classOf('sortTrigger', 'vt-sort-trigger');\n            button.dataset.key = column.key;\n\n            const sortIndex = sortState.findIndex((item) => item.key === column.key);\n            const sortMeta = sortIndex >= 0 ? sortState[sortIndex] : null;\n            const marker = sortMeta ? (sortMeta.direction === 'asc' ? ` \u25B2${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}` : ` \u25BC${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}`) : '';\n\n            button.textContent = `${column.label}${marker}`;\n            button.disabled = column.sortable === false || !this.options.sortable;\n            th.setAttribute('aria-sort', sortMeta ? (sortMeta.direction === 'asc' ? 'ascending' : 'descending') : 'none');\n            th.appendChild(button);\n\n            if (this.options.columnResize) {\n                const resizeHandle = document.createElement('span');\n                resizeHandle.className = this.theme.classOf('resizeHandle', 'vt-resize-handle');\n                resizeHandle.dataset.key = column.key;\n                resizeHandle.tabIndex = 0;\n                resizeHandle.setAttribute('role', 'separator');\n                resizeHandle.setAttribute('aria-orientation', 'vertical');\n                th.appendChild(resizeHandle);\n            }\n\n            sortRow.appendChild(th);\n        });\n\n        if (columnWindow?.enabled && columnWindow.rightWidth > 0) {\n            sortRow.appendChild(createSpacerHeader(columnWindow.rightWidth));\n        }\n\n        if (this.options.rowActions.length) {\n            const actionTh = document.createElement('th');\n            actionTh.textContent = this.options.labels.actions;\n            actionTh.className = this.theme.classOf('actionHeader', 'vt-actions-header');\n            sortRow.appendChild(actionTh);\n        }\n\n        headRows.push(sortRow);\n\n        if (this.options.columnFilters) {\n            const filterRow = document.createElement('tr');\n            filterRow.className = this.theme.classOf('filterRow', 'vt-filter-row');\n            filterRow.setAttribute('role', 'row');\n\n            if (this.options.expandableRows) {\n                const expandFilterHeader = document.createElement('th');\n                expandFilterHeader.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n                filterRow.appendChild(expandFilterHeader);\n            }\n\n            if (columnWindow?.enabled && columnWindow.leftWidth > 0) {\n                filterRow.appendChild(createSpacerHeader(columnWindow.leftWidth));\n            }\n\n            visibleColumns.forEach((column, index) => {\n                const th = document.createElement('th');\n                th.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n                const baseIndex = columnWindow?.enabled ? columnWindow.start + index : index;\n                applyFixedColumn(th, baseIndex + (this.options.expandableRows ? 1 : 0));\n                if (column.filterable === false) {\n                    filterRow.appendChild(th);\n                    return;\n                }\n\n                const input = document.createElement('input');\n                input.className = this.theme.classOf('columnFilter', 'vt-column-filter');\n                input.placeholder = `${this.options.labels.filter} ${column.label}`;\n                input.value = columnFilters[column.key] || '';\n                input.dataset.key = column.key;\n                th.appendChild(input);\n                filterRow.appendChild(th);\n            });\n\n            if (columnWindow?.enabled && columnWindow.rightWidth > 0) {\n                filterRow.appendChild(createSpacerHeader(columnWindow.rightWidth));\n            }\n\n            if (this.options.rowActions.length) {\n                filterRow.appendChild(document.createElement('th'));\n            }\n\n            headRows.push(filterRow);\n        }\n\n        thead.innerHTML = '';\n        headRows.forEach((row) => {\n            thead.appendChild(row);\n        });\n\n        if (this.options.fixedHeader) {\n            appendClassNames(thead, this.theme.classOf('fixedHeader', 'vt-fixed-header'));\n        }\n    }\n}\n\n/**\n * Creates one spacer header cell used for column virtualization.\n *\n * @param {number} width\n * @returns {HTMLTableCellElement}\n */\nfunction createSpacerHeader(width) {\n    const th = document.createElement('th');\n    th.className = 'vt-col-spacer';\n    th.style.width = `${width}px`;\n    th.style.minWidth = `${width}px`;\n    th.style.padding = '0';\n    th.style.border = 'none';\n    return th;\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n", "/**\n * Renders table body rows, expansion rows, and editable cell state.\n */\nexport class BodyRenderer {\n    /**\n     * Creates a body renderer instance.\n     *\n     * @param {{ options: Record<string, any>, hooks: Record<string, Function>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ options, hooks, theme }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {Record<string, Function>} */\n        this.hooks = hooks;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n        /** @type {Map<string, HTMLTableRowElement>} */\n        this.rowNodeCache = new Map();\n    }\n\n    /**\n     * Renders visible table body content.\n     *\n     * @param {HTMLTableSectionElement} tbody\n     * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n     * @param {Record<string, any>[]} rows\n     * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number } }} meta\n     * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n     * @returns {void}\n     */\n    render(tbody, columns, rows, meta, applyFixedColumn) {\n        const columnWindow = meta.columnWindow || { enabled: false, start: 0, end: columns.length, leftWidth: 0, rightWidth: 0, totalColumns: columns.length };\n        const visibleColumns = columnWindow.enabled ? columns.slice(columnWindow.start, columnWindow.end) : columns;\n        const fragment = document.createDocumentFragment();\n        const postRenderRows = [];\n\n        if (!rows.length) {\n            const tr = document.createElement('tr');\n            tr.setAttribute('role', 'row');\n            const td = document.createElement('td');\n            td.setAttribute('role', 'gridcell');\n            td.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            td.className = this.theme.classOf('emptyCell', 'vt-empty');\n            td.textContent = this.options.labels.empty;\n            tr.appendChild(td);\n            fragment.appendChild(tr);\n            tbody.replaceChildren(fragment);\n            return;\n        }\n\n        const renderSlice = meta.virtualization.enabled ? rows.slice(meta.virtualization.start, meta.virtualization.end) : rows;\n\n        if (meta.virtualization.enabled && meta.virtualization.start > 0) {\n            const topSpacer = document.createElement('tr');\n            topSpacer.className = 'vt-virtual-top';\n            const topCell = document.createElement('td');\n            topCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            topCell.style.height = `${meta.virtualization.start * meta.virtualization.rowHeight}px`;\n            topCell.style.padding = '0';\n            topCell.style.border = 'none';\n            topSpacer.appendChild(topCell);\n            fragment.appendChild(topSpacer);\n        }\n\n        renderSlice.forEach((row, localIndex) => {\n            const index = meta.virtualization.enabled ? meta.virtualization.start + localIndex : localIndex;\n            const rowId = meta.getRowId(row, index);\n            const tr = this.rowNodeCache.get(rowId) || document.createElement('tr');\n            tr.className = this.theme.classOf('bodyRow', 'vt-row');\n            tr.dataset.rowId = rowId;\n            tr.setAttribute('role', 'row');\n            tr.replaceChildren();\n\n            if (this.options.fixedTopRows && index < this.options.fixedTopRows) {\n                appendClassNames(tr, this.theme.classOf('fixedTopRow', 'vt-fixed-top-row'));\n            }\n\n            if (this.options.expandableRows) {\n                const expandTd = document.createElement('td');\n                expandTd.className = this.theme.classOf('expandCell', 'vt-expand-cell');\n                applyFixedColumn(expandTd, 0);\n\n                const expandButton = document.createElement('button');\n                expandButton.type = 'button';\n                expandButton.className = this.theme.classOf('expandTrigger', 'vt-expand-trigger');\n                expandButton.dataset.rowId = rowId;\n                expandButton.textContent = meta.expandedRowIds.has(rowId) ? '\u2212' : '+';\n                expandButton.setAttribute('aria-expanded', String(meta.expandedRowIds.has(rowId)));\n                expandTd.appendChild(expandButton);\n                tr.appendChild(expandTd);\n            }\n\n            if (columnWindow.enabled && columnWindow.leftWidth > 0) {\n                tr.appendChild(createSpacerCell(columnWindow.leftWidth));\n            }\n\n            visibleColumns.forEach((column, columnIndex) => {\n                const td = document.createElement('td');\n                td.className = this.theme.classOf('bodyCell', 'vt-cell');\n                td.setAttribute('role', 'gridcell');\n                td.dataset.key = column.key;\n                td.dataset.rowId = rowId;\n                const baseIndex = columnWindow.enabled ? columnWindow.start + columnIndex : columnIndex;\n                applyFixedColumn(td, baseIndex + (this.options.expandableRows ? 1 : 0));\n\n                if (meta.columnWidths[column.key]) {\n                    td.style.width = `${meta.columnWidths[column.key]}px`;\n                }\n\n                const raw = row[column.key];\n                if (column.render) {\n                    setCellContent(td, column.render(raw, row), this.options.sanitizeHtml);\n                } else {\n                    td.textContent = String(raw ?? '');\n                }\n\n                const isEditable = meta.editableRows && column.editable !== false && meta.editableColumns[column.key] !== false;\n                if (isEditable) {\n                    appendClassNames(td, this.theme.classOf('editableCell', 'vt-cell-editable'));\n                }\n\n                tr.appendChild(td);\n            });\n\n            if (columnWindow.enabled && columnWindow.rightWidth > 0) {\n                tr.appendChild(createSpacerCell(columnWindow.rightWidth));\n            }\n\n            if (this.options.rowActions.length) {\n                const actionTd = document.createElement('td');\n                actionTd.className = this.theme.classOf('actionsCell', 'vt-actions-cell');\n                actionTd.setAttribute('role', 'gridcell');\n                this.options.rowActions.forEach((action) => {\n                    const button = document.createElement('button');\n                    button.type = 'button';\n                    button.className = `${this.theme.classOf('actionButton', 'vt-action-btn')} ${action.className || ''}`.trim();\n                    button.dataset.actionId = action.id;\n                    button.dataset.rowId = rowId;\n                    button.textContent = action.label;\n                    actionTd.appendChild(button);\n                });\n                tr.appendChild(actionTd);\n            }\n\n            fragment.appendChild(tr);\n            this.rowNodeCache.set(rowId, tr);\n            postRenderRows.push({ row, element: tr });\n\n            if (this.options.expandableRows && meta.expandedRowIds.has(rowId) && meta.expandRow) {\n                const expanded = document.createElement('tr');\n                expanded.className = this.theme.classOf('expandRow', 'vt-expand-row');\n                const expandedCell = document.createElement('td');\n                expandedCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + 1 + (this.options.rowActions.length ? 1 : 0);\n                expandedCell.className = this.theme.classOf('expandContent', 'vt-expand-content');\n                setCellContent(expandedCell, meta.expandRow(row), this.options.sanitizeHtml);\n                expanded.appendChild(expandedCell);\n                fragment.appendChild(expanded);\n            }\n        });\n\n        if (meta.virtualization.enabled && meta.virtualization.end < rows.length) {\n            const bottomSpacer = document.createElement('tr');\n            bottomSpacer.className = 'vt-virtual-bottom';\n            const bottomCell = document.createElement('td');\n            bottomCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            bottomCell.style.height = `${(rows.length - meta.virtualization.end) * meta.virtualization.rowHeight}px`;\n            bottomCell.style.padding = '0';\n            bottomCell.style.border = 'none';\n            bottomSpacer.appendChild(bottomCell);\n            fragment.appendChild(bottomSpacer);\n        }\n\n        tbody.replaceChildren(fragment);\n        postRenderRows.forEach(({ row, element }) => {\n            this.hooks.afterRowRender?.({ row, element });\n        });\n        this.trimRowCache();\n    }\n\n    /**\n     * Clears stale cached row elements to bound memory growth.\n     *\n     * @returns {void}\n     */\n    trimRowCache() {\n        if (this.rowNodeCache.size <= 2000) return;\n        const keep = new Map();\n        for (const [key, value] of this.rowNodeCache.entries()) {\n            if (keep.size >= 1000) break;\n            keep.set(key, value);\n        }\n        this.rowNodeCache = keep;\n    }\n}\n\n/**\n * Sets cell content using optional sanitization for HTML string values.\n *\n * @param {HTMLElement} cell\n * @param {string | Node | null | undefined} content\n * @param {((html: string) => string) | null | undefined} sanitizer\n * @returns {void}\n */\nfunction setCellContent(cell, content, sanitizer) {\n    if (content instanceof Node) {\n        cell.replaceChildren(content);\n        return;\n    }\n\n    const html = String(content ?? '');\n    if (typeof sanitizer === 'function') {\n        cell.innerHTML = sanitizer(html);\n        return;\n    }\n\n    cell.innerHTML = html;\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n\n/**\n * Creates one body spacer cell for virtualized columns.\n *\n * @param {number} width\n * @returns {HTMLTableCellElement}\n */\nfunction createSpacerCell(width) {\n    const td = document.createElement('td');\n    td.className = 'vt-col-spacer';\n    td.style.width = `${width}px`;\n    td.style.minWidth = `${width}px`;\n    td.style.padding = '0';\n    td.style.border = 'none';\n    return td;\n}\n", "/**\n * Renders footer pagination summary and control state.\n */\nexport class FooterRenderer {\n    /**\n     * Creates a footer renderer instance.\n     *\n     * @param {{ options: Record<string, any> }} config\n     */\n    constructor({ options }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n    }\n\n    /**\n     * Renders footer state.\n     *\n     * @param {{ info: HTMLElement, first: HTMLButtonElement, prev: HTMLButtonElement, next: HTMLButtonElement, last: HTMLButtonElement }} refs\n     * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n     * @returns {void}\n     */\n    render(refs, { page, totalPages, totalRows, loading }) {\n        refs.info.textContent = loading ? this.options.labels.loading : this.options.labels.pageInfo({ page, totalPages, totalRows });\n        refs.first.disabled = Boolean(loading) || page <= 1;\n        refs.prev.disabled = Boolean(loading) || page <= 1;\n        refs.next.disabled = Boolean(loading) || page >= totalPages;\n        refs.last.disabled = Boolean(loading) || page >= totalPages;\n    }\n}\n", "/**\n * Resolves theme class names from semantic keys.\n */\nexport class ThemeManager {\n    /**\n     * Creates a theme manager instance.\n     *\n     * @param {Record<string, string>} classes\n     */\n    constructor(classes = {}) {\n        /** @type {Record<string, string>} */\n        this.classes = classes;\n    }\n\n    /**\n     * Replaces stored theme classes.\n     *\n     * @param {Record<string, string>} classes\n     * @returns {void}\n     */\n    setClasses(classes) {\n        this.classes = classes || {};\n    }\n\n    /**\n     * Returns composed class names for a semantic key.\n     *\n     * @param {string} key\n     * @param {string} base\n     * @returns {string}\n     */\n    classOf(key, base) {\n        const extra = this.classes?.[key];\n        return extra ? `${base} ${extra}` : base;\n    }\n}\n", "import { ShellRenderer } from './renderers/shell-renderer.js';\nimport { HeaderRenderer } from './renderers/header-renderer.js';\nimport { BodyRenderer } from './renderers/body-renderer.js';\nimport { FooterRenderer } from './renderers/footer-renderer.js';\nimport { ThemeManager } from './themes/theme-manager.js';\n\n/**\n * Coordinates specialized renderers for shell, header, body, and footer.\n */\nexport class Renderer {\n    /**\n     * Creates a renderer instance.\n     *\n     * @param {{ root: HTMLElement, options: Record<string, any>, hooks: Record<string, Function> }} config\n     */\n    constructor({ root, options, hooks }) {\n        /** @type {HTMLElement} */\n        this.root = root;\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {Record<string, Function>} */\n        this.hooks = hooks;\n        /** @type {Record<string, HTMLElement>} */\n        this.refs = {};\n\n        /** @type {ThemeManager} */\n        this.theme = new ThemeManager(this.options.themeClasses);\n        /** @type {ShellRenderer} */\n        this.shellRenderer = new ShellRenderer({ root: this.root, options: this.options, theme: this.theme });\n        /** @type {HeaderRenderer} */\n        this.headerRenderer = new HeaderRenderer({ options: this.options, theme: this.theme });\n        /** @type {BodyRenderer} */\n        this.bodyRenderer = new BodyRenderer({ options: this.options, hooks: this.hooks, theme: this.theme });\n        /** @type {FooterRenderer} */\n        this.footerRenderer = new FooterRenderer({ options: this.options });\n    }\n\n    /**\n     * Updates renderer options.\n     *\n     * @param {Record<string, any>} options\n     * @returns {void}\n     */\n    setOptions(options) {\n        this.options = options;\n        this.theme.setClasses(this.options.themeClasses);\n        this.shellRenderer.options = this.options;\n        this.headerRenderer.options = this.options;\n        this.bodyRenderer.options = this.options;\n        this.footerRenderer.options = this.options;\n    }\n\n    /**\n     * Mounts the base table shell.\n     *\n     * @returns {void}\n     */\n    mount() {\n        this.refs = this.shellRenderer.mount();\n    }\n\n    /**\n     * Renders header content.\n     *\n     * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n     * @param {Record<string, string>} columnFilters\n     * @param {Record<string, number>} columnWidths\n     * @param {{ start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean }} columnWindow\n     * @returns {void}\n     */\n    renderHeader(columns, sortState, columnFilters, columnWidths, columnWindow) {\n        this.headerRenderer.render(\n            this.refs.thead,\n            columns,\n            sortState,\n            columnFilters,\n            (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, columnWidths),\n            columnWidths,\n            columnWindow\n        );\n    }\n\n    /**\n     * Renders body content.\n     *\n     * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n     * @param {Record<string, any>[]} rows\n     * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number }, columnWindow: { start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean } }} meta\n     * @returns {void}\n     */\n    renderBody(columns, rows, meta) {\n        this.bodyRenderer.render(this.refs.tbody, columns, rows, meta, (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, meta.columnWidths));\n    }\n\n    /**\n     * Renders footer content.\n     *\n     * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n     * @returns {void}\n     */\n    renderFooter(details) {\n        this.footerRenderer.render(\n            {\n                info: this.refs.info,\n                first: this.refs.first,\n                prev: this.refs.prev,\n                next: this.refs.next,\n                last: this.refs.last\n            },\n            details\n        );\n    }\n\n    /**\n     * Applies sticky positioning for fixed columns.\n     *\n     * @param {HTMLElement} cell\n     * @param {number} visualIndex\n     * @param {{ key: string }[]} columns\n     * @param {Record<string, number>} columnWidths\n     * @returns {void}\n     */\n    applyFixedColumn(cell, visualIndex, columns, columnWidths) {\n        if (!this.options.fixedColumns || visualIndex >= this.options.fixedColumns) {\n            return;\n        }\n\n        let left = 0;\n        for (let i = 0; i < visualIndex; i += 1) {\n            const key = columns[i]?.key;\n            left += key && columnWidths[key] ? columnWidths[key] : 180;\n        }\n\n        cell.style.position = 'sticky';\n        cell.style.left = `${left}px`;\n        cell.style.zIndex = '2';\n        appendClassNames(cell, this.theme.classOf('fixedColumn', 'vt-fixed-column'));\n    }\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n", "/**\n * Executes filter/search/sort projections across worker shards.\n */\nexport class ProjectionWorkerPool {\n    /**\n     * Creates a worker pool instance.\n     *\n     * @param {{ size: number, timeoutMs?: number, retries?: number }} config\n     */\n    constructor({ size, timeoutMs, retries }) {\n        /** @type {number} */\n        this.size = Math.max(1, Number(size || 1));\n        /** @type {{ worker: Worker }[]} */\n        this.workers = [];\n        /** @type {Map<number, { resolve: (value: any) => void, reject: (reason: any) => void }>} */\n        this.pending = new Map();\n        /** @type {number} */\n        this.nextId = 1;\n        /** @type {number} */\n        this.timeoutMs = Math.max(50, Number(timeoutMs || 4000));\n        /** @type {number} */\n        this.retries = Math.max(0, Math.floor(Number(retries || 1)));\n        /** @type {Record<string, any>[]} */\n        this.rows = [];\n\n        for (let i = 0; i < this.size; i += 1) {\n            this.workers.push({ worker: this.createWorker() });\n        }\n    }\n\n    /**\n     * Terminates all worker instances.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        for (const slot of this.workers) {\n            slot.worker.terminate();\n        }\n        this.workers = [];\n        this.pending.clear();\n    }\n\n    /**\n     * Distributes rows across workers.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {Promise<void>}\n     */\n    setRows(rows) {\n        const data = Array.isArray(rows) ? rows : [];\n        this.rows = data;\n        const shardSize = Math.ceil((data.length || 1) / this.workers.length);\n\n        return Promise.all(\n            this.workers.map((slot, index) => {\n                const start = index * shardSize;\n                const end = Math.min(start + shardSize, data.length);\n                return this.runTask(slot.worker, {\n                    type: 'setRows',\n                    rows: data.slice(start, end),\n                    offset: start\n                }).then(() => {});\n            })\n        ).then(() => {});\n    }\n\n    /**\n     * Computes filtered/sorted row indices using worker shards.\n     *\n     * @param {{ keys: string[], searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }} query\n     * @returns {Promise<number[]>}\n     */\n    project(query) {\n        return Promise.all(\n            this.workers.map((slot) =>\n                this.runTask(slot.worker, {\n                    type: 'project',\n                    keys: query.keys,\n                    searchTerm: query.searchTerm,\n                    columnFilters: query.columnFilters,\n                    sorts: query.sorts\n                })\n            )\n        ).then((chunks) => this.mergeChunks(chunks, query.sorts));\n    }\n\n    /**\n     * Creates one worker with inline projection logic.\n     *\n     * @returns {Worker}\n     */\n    createWorker() {\n        const worker = new Worker(getWorkerUrl());\n        worker.onmessage = (event) => {\n            const payload = event.data || {};\n            const pending = this.pending.get(payload.id);\n            if (!pending) return;\n\n            this.pending.delete(payload.id);\n            if (payload.error) {\n                pending.reject(new Error(payload.error));\n                return;\n            }\n            pending.resolve(payload.result);\n        };\n        worker.onerror = () => {\n            this.pending.forEach(({ reject }) => reject(new Error('projection worker failed')));\n            this.pending.clear();\n        };\n        return worker;\n    }\n\n    /**\n     * Runs one task on a worker and resolves by task id.\n     *\n     * @param {Worker} worker\n     * @param {Record<string, any>} payload\n     * @returns {Promise<any>}\n     */\n    runTask(worker, payload) {\n        return this.runTaskAttempt(worker, payload, this.retries);\n    }\n\n    /**\n     * Runs one task with retry and timeout guards.\n     *\n     * @param {Worker} worker\n     * @param {Record<string, any>} payload\n     * @param {number} retriesLeft\n     * @returns {Promise<any>}\n     */\n    runTaskAttempt(worker, payload, retriesLeft) {\n        const id = this.nextId;\n        this.nextId += 1;\n        let timeoutHandle;\n\n        return new Promise((resolve, reject) => {\n            const onReject = (error) => {\n                clearTimeout(timeoutHandle);\n                if (retriesLeft > 0) {\n                    this.runTaskAttempt(worker, payload, retriesLeft - 1)\n                        .then(resolve)\n                        .catch(reject);\n                    return;\n                }\n                reject(error);\n            };\n\n            const onResolve = (result) => {\n                clearTimeout(timeoutHandle);\n                resolve(result);\n            };\n\n            this.pending.set(id, { resolve: onResolve, reject: onReject });\n            timeoutHandle = setTimeout(() => {\n                this.pending.delete(id);\n                onReject(new Error(`projection worker timeout after ${this.timeoutMs}ms`));\n            }, this.timeoutMs);\n            worker.postMessage({\n                ...payload,\n                id\n            });\n        });\n    }\n\n    /**\n     * Merges per-shard result chunks into one globally ordered index array.\n     *\n     * @param {number[][]} chunks\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @returns {number[]}\n     */\n    mergeChunks(chunks, sorts) {\n        if (!Array.isArray(chunks) || !chunks.length) return [];\n        if (!Array.isArray(sorts) || !sorts.length) return chunks.flat();\n\n        const pointers = new Int32Array(chunks.length);\n        const output = [];\n\n        while (true) {\n            let bestChunk = -1;\n            let bestIndex = -1;\n\n            for (let i = 0; i < chunks.length; i += 1) {\n                const pointer = pointers[i];\n                const chunk = chunks[i];\n                if (pointer >= chunk.length) continue;\n\n                const currentIndex = chunk[pointer];\n                if (bestChunk === -1) {\n                    bestChunk = i;\n                    bestIndex = currentIndex;\n                    continue;\n                }\n\n                const comparison = compareRowsBySorts(this.rows[currentIndex], this.rows[bestIndex], sorts);\n                if (comparison < 0 || (comparison === 0 && currentIndex < bestIndex)) {\n                    bestChunk = i;\n                    bestIndex = currentIndex;\n                }\n            }\n\n            if (bestChunk === -1) break;\n            output.push(bestIndex);\n            pointers[bestChunk] += 1;\n        }\n\n        return output;\n    }\n}\n\n/** @type {string | null} */\nlet cachedWorkerUrl = null;\n\n/**\n * Returns a blob URL for the projection worker implementation.\n *\n * @returns {string}\n */\nfunction getWorkerUrl() {\n    if (cachedWorkerUrl) return cachedWorkerUrl;\n\n    const source = `\n    const toText = (value) => String(value ?? '').toLowerCase();\n\n    let rows = [];\n    let offset = 0;\n    let textColumns = new Map();\n    let numericColumns = new Map();\n\n    const getTextColumn = (key) => {\n      if (textColumns.has(key)) return textColumns.get(key);\n      const values = new Array(rows.length);\n      for (let i = 0; i < rows.length; i += 1) {\n        values[i] = toText(rows[i] && rows[i][key]);\n      }\n      textColumns.set(key, values);\n      return values;\n    };\n\n    const getNumericColumn = (key) => {\n      if (numericColumns.has(key)) return numericColumns.get(key);\n      const values = new Float64Array(rows.length);\n      const flags = new Uint8Array(rows.length);\n      for (let i = 0; i < rows.length; i += 1) {\n        const parsed = Number(rows[i] && rows[i][key]);\n        if (Number.isFinite(parsed)) {\n          values[i] = parsed;\n          flags[i] = 1;\n        }\n      }\n      const output = { values, flags };\n      numericColumns.set(key, output);\n      return output;\n    };\n\n    self.onmessage = (event) => {\n      const data = event.data || {};\n\n      try {\n        if (data.type === 'setRows') {\n          rows = Array.isArray(data.rows) ? data.rows : [];\n          offset = Number(data.offset || 0);\n          textColumns = new Map();\n          numericColumns = new Map();\n          self.postMessage({ id: data.id, result: true });\n          return;\n        }\n\n        if (data.type === 'project') {\n          const keys = Array.isArray(data.keys) ? data.keys : [];\n          const searchTerm = toText(data.searchTerm || '');\n          const sorts = Array.isArray(data.sorts) ? data.sorts : [];\n          const filters = data.columnFilters && typeof data.columnFilters === 'object'\n            ? data.columnFilters\n            : {};\n          const filterEntries = Object.entries(filters);\n          const output = [];\n          const textByKey = new Map();\n          const numericByKey = new Map();\n          const getText = (key) => {\n            if (textByKey.has(key)) return textByKey.get(key);\n            const values = getTextColumn(key);\n            textByKey.set(key, values);\n            return values;\n          };\n          const getNumeric = (key) => {\n            if (numericByKey.has(key)) return numericByKey.get(key);\n            const values = getNumericColumn(key);\n            numericByKey.set(key, values);\n            return values;\n          };\n\n          for (let i = 0; i < rows.length; i += 1) {\n            let matchesFilters = true;\n\n            for (const [key, term] of filterEntries) {\n              if (!getText(key)[i].includes(toText(term))) {\n                matchesFilters = false;\n                break;\n              }\n            }\n            if (!matchesFilters) continue;\n\n            if (!searchTerm) {\n              output.push(offset + i);\n              continue;\n            }\n\n            let matchesSearch = false;\n            for (const key of keys) {\n              if (getText(key)[i].includes(searchTerm)) {\n                matchesSearch = true;\n                break;\n              }\n            }\n            if (matchesSearch) output.push(offset + i);\n          }\n\n          if (sorts.length > 0) {\n            output.sort((leftIndex, rightIndex) => {\n              const leftRowIndex = leftIndex - offset;\n              const rightRowIndex = rightIndex - offset;\n              for (const sort of sorts) {\n                const numeric = getNumeric(sort.key);\n                const text = getText(sort.key);\n                let cmp = 0;\n                const bothNumeric = numeric.flags[leftRowIndex] && numeric.flags[rightRowIndex];\n                if (bothNumeric) {\n                  cmp = numeric.values[leftRowIndex] - numeric.values[rightRowIndex];\n                } else {\n                  const leftText = text[leftRowIndex];\n                  const rightText = text[rightRowIndex];\n                  if (leftText < rightText) cmp = -1;\n                  else if (leftText > rightText) cmp = 1;\n                }\n\n                if (cmp !== 0) return sort.direction === 'desc' ? -cmp : cmp;\n              }\n              return leftIndex - rightIndex;\n            });\n          }\n\n          self.postMessage({ id: data.id, result: output });\n          return;\n        }\n\n        self.postMessage({ id: data.id, result: null });\n      } catch (error) {\n        self.postMessage({ id: data.id, error: error && error.message ? error.message : 'worker error' });\n      }\n    };\n  `;\n\n    cachedWorkerUrl = URL.createObjectURL(new Blob([source], { type: 'application/javascript' }));\n    return cachedWorkerUrl;\n}\n\n/**\n * Compares two rows by sort definitions.\n *\n * @param {Record<string, any>} leftRow\n * @param {Record<string, any>} rightRow\n * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n * @returns {number}\n */\nfunction compareRowsBySorts(leftRow, rightRow, sorts) {\n    for (const sort of sorts) {\n        const leftRaw = leftRow?.[sort.key];\n        const rightRaw = rightRow?.[sort.key];\n        const leftNum = Number(leftRaw);\n        const rightNum = Number(rightRaw);\n        const leftFinite = Number.isFinite(leftNum);\n        const rightFinite = Number.isFinite(rightNum);\n\n        let comparison = 0;\n        if (leftFinite && rightFinite) {\n            comparison = leftNum - rightNum;\n        } else {\n            const leftText = String(leftRaw ?? '').toLowerCase();\n            const rightText = String(rightRaw ?? '').toLowerCase();\n            if (leftText < rightText) comparison = -1;\n            else if (leftText > rightText) comparison = 1;\n        }\n\n        if (comparison !== 0) {\n            return sort.direction === 'desc' ? -comparison : comparison;\n        }\n    }\n\n    return 0;\n}\n", "import { ProjectionWorkerPool } from './parallel/projection-worker-pool.js';\n\n/**\n * Stores and computes table state projections.\n */\nexport class StateStore {\n    /**\n     * Creates a state store.\n     *\n     * @param {{ rows: Record<string, any>[], pageSize: number, initialSort: { key: string, direction?: 'asc'|'desc' } | null, parallel?: { enabled?: boolean, threshold?: number, workers?: number|'auto', timeoutMs?: number, retries?: number } }} config\n     */\n    constructor({ rows, pageSize, initialSort, parallel }) {\n        /** @type {Record<string, any>[]} */\n        this.rows = rows;\n        /** @type {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }} */\n        this.state = {\n            page: 1,\n            pageSize: normalizePageSize(pageSize),\n            searchTerm: '',\n            columnFilters: {},\n            sorts: initialSort ? [{ key: initialSort.key, direction: initialSort.direction || 'asc' }] : [],\n            columnOrder: [],\n            columnWidths: {},\n            columnVisibility: {}\n        };\n\n        /** @type {number} */\n        this.rowsVersion = 0;\n        /** @type {number} */\n        this.revision = 0;\n        /** @type {{ rowsVersion: number, columnsKey: string, searchTerm: string, filtersKey: string, rows: Record<string, any>[] } | null} */\n        this.filterCache = null;\n        /** @type {{ rowsVersion: number, columnsKey: string, sortsKey: string, comparator: (left: number, right: number) => number, sourceText: Map<string, string[]>, sourceNumeric: Map<string, { values: Float64Array, flags: Uint8Array }> } | null} */\n        this.sortComparatorCache = null;\n        /** @type {{ revision: number, columnsKey: string, rows: Record<string, any>[] } | null} */\n        this.projectionCache = null;\n        /** @type {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> } | null} */\n        this.columnIndexCache = null;\n        const parallelWorkers = resolveParallelWorkers(parallel?.workers);\n        /** @type {{ enabled: boolean, threshold: number, workers: number, timeoutMs: number, retries: number }} */\n        this.parallel = {\n            enabled: parallel?.enabled !== false,\n            threshold: Math.max(1000, Number(parallel?.threshold ?? 20000)),\n            workers: parallelWorkers,\n            timeoutMs: Math.max(50, Number(parallel?.timeoutMs ?? 4000)),\n            retries: Math.max(0, Math.floor(Number(parallel?.retries ?? 1)))\n        };\n        /** @type {ProjectionWorkerPool | null} */\n        this.projectionWorkerPool = null;\n        /** @type {Promise<void>} */\n        this.projectionWorkerReady = Promise.resolve();\n\n        if (this.parallel.enabled && typeof Worker !== 'undefined') {\n            this.projectionWorkerPool = new ProjectionWorkerPool({\n                size: this.parallel.workers,\n                timeoutMs: this.parallel.timeoutMs,\n                retries: this.parallel.retries\n            });\n            this.projectionWorkerReady = this.projectionWorkerPool.setRows(this.rows).catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n            });\n        }\n    }\n\n    /**\n     * Sets the full rows array.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {void}\n     */\n    setRows(rows) {\n        this.rows = Array.isArray(rows) ? rows : [];\n        this.rowsVersion += 1;\n        this.invalidateFiltersAndProjection();\n        this.columnIndexCache = null;\n        this.syncWorkerRows();\n    }\n\n    /**\n     * Sets the global search term.\n     *\n     * @param {string} searchTerm\n     * @returns {void}\n     */\n    setSearchTerm(searchTerm) {\n        this.state.searchTerm = (searchTerm || '').toLowerCase().trim();\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Sets a per-column filter term.\n     *\n     * @param {string} key\n     * @param {string} value\n     * @returns {void}\n     */\n    setColumnFilter(key, value) {\n        const normalized = (value || '').toLowerCase().trim();\n        if (!normalized) {\n            delete this.state.columnFilters[key];\n        } else {\n            this.state.columnFilters[key] = normalized;\n        }\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Clears all active filters.\n     *\n     * @returns {void}\n     */\n    clearFilters() {\n        this.state.searchTerm = '';\n        this.state.columnFilters = {};\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Sets the active page index.\n     *\n     * @param {number} page\n     * @returns {void}\n     */\n    setPage(page) {\n        this.state.page = normalizePage(page);\n    }\n\n    /**\n     * Sets the page size and resets pagination.\n     *\n     * @param {number} pageSize\n     * @returns {void}\n     */\n    setPageSize(pageSize) {\n        this.state.pageSize = normalizePageSize(pageSize);\n        this.state.page = 1;\n    }\n\n    /**\n     * Toggles column sort direction.\n     *\n     * @param {string} key\n     * @param {boolean} additive\n     * @param {number} maxSorts\n     * @returns {void}\n     */\n    toggleSort(key, additive, maxSorts) {\n        const existingIndex = this.state.sorts.findIndex((item) => item.key === key);\n\n        if (!additive) {\n            if (existingIndex === -1) {\n                this.state.sorts = [{ key, direction: 'asc' }];\n            } else {\n                const current = this.state.sorts[existingIndex];\n                this.state.sorts = [{ key, direction: current.direction === 'asc' ? 'desc' : 'asc' }];\n            }\n            this.invalidateProjection();\n            return;\n        }\n\n        if (existingIndex === -1) {\n            this.state.sorts.push({ key, direction: 'asc' });\n            if (this.state.sorts.length > maxSorts) {\n                this.state.sorts.shift();\n            }\n            this.invalidateProjection();\n            return;\n        }\n\n        const current = this.state.sorts[existingIndex];\n        this.state.sorts[existingIndex] = {\n            key,\n            direction: current.direction === 'asc' ? 'desc' : 'asc'\n        };\n        this.invalidateProjection();\n    }\n\n    /**\n     * Sets absolute sort state.\n     *\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @returns {void}\n     */\n    setSorts(sorts) {\n        this.state.sorts = Array.isArray(sorts) ? sorts : [];\n        this.state.page = 1;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Clears active sorts.\n     *\n     * @returns {void}\n     */\n    clearSorts() {\n        this.state.sorts = [];\n        this.state.page = 1;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Sets ordered column keys.\n     *\n     * @param {string[]} order\n     * @returns {void}\n     */\n    setColumnOrder(order) {\n        this.state.columnOrder = Array.isArray(order) ? [...order] : [];\n    }\n\n    /**\n     * Sets one column width in pixels.\n     *\n     * @param {string} key\n     * @param {number} width\n     * @returns {void}\n     */\n    setColumnWidth(key, width) {\n        const normalized = Math.max(60, Math.round(width || 0));\n        this.state.columnWidths[key] = normalized;\n    }\n\n    /**\n     * Sets column visibility by key.\n     *\n     * @param {string} key\n     * @param {boolean} visible\n     * @returns {void}\n     */\n    setColumnVisibility(key, visible) {\n        this.state.columnVisibility[key] = Boolean(visible);\n    }\n\n    /**\n     * Applies a state payload.\n     *\n     * @param {Partial<{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }>} payload\n     * @returns {void}\n     */\n    setState(payload) {\n        if (!payload) return;\n        let affectsProjection = false;\n        let affectsFilters = false;\n        if (typeof payload.page === 'number') this.state.page = normalizePage(payload.page);\n        if (typeof payload.pageSize === 'number') this.state.pageSize = normalizePageSize(payload.pageSize);\n        if (typeof payload.searchTerm === 'string') {\n            this.state.searchTerm = payload.searchTerm.toLowerCase().trim();\n            affectsProjection = true;\n            affectsFilters = true;\n        }\n        if (payload.columnFilters && typeof payload.columnFilters === 'object') {\n            const nextFilters = {};\n            for (const [key, value] of Object.entries(payload.columnFilters)) {\n                const normalized = String(value ?? '')\n                    .toLowerCase()\n                    .trim();\n                if (normalized) {\n                    nextFilters[key] = normalized;\n                }\n            }\n            this.state.columnFilters = nextFilters;\n            affectsProjection = true;\n            affectsFilters = true;\n        }\n        if (Array.isArray(payload.sorts)) {\n            this.state.sorts = [...payload.sorts];\n            affectsProjection = true;\n        }\n        if (Array.isArray(payload.columnOrder)) this.state.columnOrder = [...payload.columnOrder];\n        if (payload.columnWidths && typeof payload.columnWidths === 'object') {\n            this.state.columnWidths = { ...payload.columnWidths };\n        }\n        if (payload.columnVisibility && typeof payload.columnVisibility === 'object') {\n            this.state.columnVisibility = { ...payload.columnVisibility };\n        }\n        if (affectsFilters) {\n            this.invalidateFiltersAndProjection();\n        } else if (affectsProjection) {\n            this.invalidateProjection();\n        }\n    }\n\n    /**\n     * Returns serializable state.\n     *\n     * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }}\n     */\n    getState() {\n        return {\n            page: this.state.page,\n            pageSize: this.state.pageSize,\n            searchTerm: this.state.searchTerm,\n            columnFilters: { ...this.state.columnFilters },\n            sorts: [...this.state.sorts],\n            columnOrder: [...this.state.columnOrder],\n            columnWidths: { ...this.state.columnWidths },\n            columnVisibility: { ...this.state.columnVisibility }\n        };\n    }\n\n    /**\n     * Returns ordered columns based on current state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ key: string }[]}\n     */\n    getOrderedColumns(columns) {\n        if (!this.state.columnOrder.length) return columns;\n\n        const map = new Map(columns.map((column) => [column.key, column]));\n        const ordered = this.state.columnOrder.map((key) => map.get(key)).filter(Boolean);\n        const selected = new Set(ordered.map((column) => column.key));\n        const rest = columns.filter((column) => !selected.has(column.key));\n        return [...ordered, ...rest];\n    }\n\n    /**\n     * Returns visible columns based on visibility map.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ key: string }[]}\n     */\n    getVisibleColumns(columns) {\n        return columns.filter((column) => this.state.columnVisibility[column.key] !== false);\n    }\n\n    /**\n     * Returns query payload for server-side fetches.\n     *\n     * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }}\n     */\n    getQuery() {\n        return {\n            page: this.state.page,\n            pageSize: this.state.pageSize,\n            searchTerm: this.state.searchTerm,\n            columnFilters: { ...this.state.columnFilters },\n            sorts: [...this.state.sorts]\n        };\n    }\n\n    /**\n     * Returns rows visible for the current state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n     */\n    getVisibleRows(columns) {\n        const sorted = this.getProjectedRows(columns);\n        const { page, pageSize } = this.state;\n        const start = (page - 1) * pageSize;\n        return {\n            rows: sorted.slice(start, start + pageSize),\n            totalRows: sorted.length,\n            totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n        };\n    }\n\n    /**\n     * Returns rows visible for the current state, using worker projection when enabled.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getVisibleRowsAsync(columns) {\n        return this.getProjectedRowsAsync(columns).then((sorted) => {\n            const { page, pageSize } = this.state;\n            const start = (page - 1) * pageSize;\n            return {\n                rows: sorted.slice(start, start + pageSize),\n                totalRows: sorted.length,\n                totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n            };\n        });\n    }\n\n    /**\n     * Filters rows using column-level filters.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applyColumnFilters(rows, columns) {\n        const columnSet = new Set(columns.map((item) => item.key));\n        const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n        if (!activeFilters.length) return rows;\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const filterColumns = activeFilters.map(([key, term]) => ({\n                term,\n                text: this.getIndexedText(index, key)\n            }));\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matches = true;\n                for (const filterColumn of filterColumns) {\n                    if (!filterColumn.text[i].includes(filterColumn.term)) {\n                        matches = false;\n                        break;\n                    }\n                }\n                if (matches) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matches = true;\n            for (const [key, term] of activeFilters) {\n                if (\n                    !String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(term)\n                ) {\n                    matches = false;\n                    break;\n                }\n            }\n            if (matches) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Filters rows using a case-insensitive contains match.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySearch(rows, columns) {\n        if (!this.state.searchTerm) return rows;\n\n        const keys = columns.map((column) => column.key);\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const searchKeys = this.getSearchableKeys(index, keys, this.state.searchTerm);\n            const searchColumns = searchKeys.map((key) => this.getIndexedText(index, key));\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matches = false;\n                for (const searchColumn of searchColumns) {\n                    if (searchColumn[i].includes(this.state.searchTerm)) {\n                        matches = true;\n                        break;\n                    }\n                }\n                if (matches) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matches = false;\n            for (const key of keys) {\n                if (\n                    String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(this.state.searchTerm)\n                ) {\n                    matches = true;\n                    break;\n                }\n            }\n            if (matches) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Sorts rows by the active sort configuration.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySort(rows, columns) {\n        return this.applySortWithCache(rows, columns);\n    }\n\n    /**\n     * Invalidates cached row projections.\n     *\n     * @returns {void}\n     */\n    invalidateProjection() {\n        this.revision += 1;\n        this.projectionCache = null;\n        this.sortComparatorCache = null;\n    }\n\n    /**\n     * Invalidates cached filtered and projected rows.\n     *\n     * @returns {void}\n     */\n    invalidateFiltersAndProjection() {\n        this.filterCache = null;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Syncs worker shards with current source rows.\n     *\n     * @returns {void}\n     */\n    syncWorkerRows() {\n        if (!this.projectionWorkerPool) return;\n\n        this.projectionWorkerReady = this.projectionWorkerPool.setRows(this.rows).catch(() => {\n            this.projectionWorkerPool?.destroy();\n            this.projectionWorkerPool = null;\n        });\n    }\n\n    /**\n     * Returns whether current query should run in worker shards.\n     *\n     * @returns {boolean}\n     */\n    canUseWorkerProjection() {\n        if (!this.projectionWorkerPool) return false;\n        if (this.rows.length < this.parallel.threshold) return false;\n        const hasFilters = Boolean(this.state.searchTerm) || Boolean(Object.keys(this.state.columnFilters).length);\n        const hasSorts = Boolean(this.state.sorts.length);\n        if (!hasFilters && !hasSorts) return false;\n        return true;\n    }\n\n    /**\n     * Disposes worker resources.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.projectionWorkerPool?.destroy();\n        this.projectionWorkerPool = null;\n    }\n\n    /**\n     * Returns sorted+filtered projection for current query state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    getProjectedRows(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.projectionCache && this.projectionCache.revision === this.revision && this.projectionCache.columnsKey === columnsKey) {\n            return this.projectionCache.rows;\n        }\n\n        const filtered = this.getFilteredRows(columns, columnsKey);\n        const sorted = this.applySortWithCache(filtered, columns);\n        if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n            const index = this.getColumnIndex(columns);\n            for (const column of columns) {\n                this.getIndexedText(index, column.key);\n                this.getIndexedNumeric(index, column.key);\n                this.hasAlphaValues(index, column.key);\n            }\n        }\n        this.projectionCache = {\n            revision: this.revision,\n            columnsKey,\n            rows: sorted\n        };\n        return sorted;\n    }\n\n    /**\n     * Returns sorted+filtered projection, optionally using worker projection.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getProjectedRowsAsync(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.projectionCache && this.projectionCache.revision === this.revision && this.projectionCache.columnsKey === columnsKey) {\n            return Promise.resolve(this.projectionCache.rows);\n        }\n\n        if (this.canUseWorkerProjection()) {\n            return this.getProjectedRowsFromWorkers(columns, columnsKey);\n        }\n\n        return this.getFilteredRowsWithWorkersAsync(columns, columnsKey).then((filtered) => {\n            const sorted = this.applySortWithCache(filtered, columns);\n            if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n                const index = this.getColumnIndex(columns);\n                for (const column of columns) {\n                    this.getIndexedText(index, column.key);\n                    this.getIndexedNumeric(index, column.key);\n                    this.hasAlphaValues(index, column.key);\n                }\n            }\n            this.projectionCache = {\n                revision: this.revision,\n                columnsKey,\n                rows: sorted\n            };\n            return sorted;\n        });\n    }\n\n    /**\n     * Returns projection rows computed by worker shards.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getProjectedRowsFromWorkers(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n\n        return this.projectionWorkerReady\n            .then(() =>\n                this.projectionWorkerPool.project({\n                    keys: columns.map((column) => column.key),\n                    searchTerm,\n                    columnFilters: this.state.columnFilters,\n                    sorts: this.state.sorts\n                })\n            )\n            .then((indices) => {\n                const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                this.projectionCache = {\n                    revision: this.revision,\n                    columnsKey,\n                    rows\n                };\n                return rows;\n            })\n            .catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n                return Promise.resolve(this.getProjectedRows(columns));\n            });\n    }\n\n    /**\n     * Returns filtered rows for active filter/search state.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Record<string, any>[]}\n     */\n    getFilteredRows(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n        if (this.filterCache && this.filterCache.rowsVersion === this.rowsVersion && this.filterCache.columnsKey === columnsKey && this.filterCache.searchTerm === searchTerm && this.filterCache.filtersKey === filtersKey) {\n            return this.filterCache.rows;\n        }\n\n        const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n        const rows = this.applyFiltersAndSearch(baseRows, columns);\n        this.filterCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            searchTerm,\n            filtersKey,\n            rows\n        };\n        return rows;\n    }\n\n    /**\n     * Returns filtered rows, using worker shards when configured.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getFilteredRowsWithWorkersAsync(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n        if (this.filterCache && this.filterCache.rowsVersion === this.rowsVersion && this.filterCache.columnsKey === columnsKey && this.filterCache.searchTerm === searchTerm && this.filterCache.filtersKey === filtersKey) {\n            return Promise.resolve(this.filterCache.rows);\n        }\n\n        if (!this.canUseWorkerProjection()) {\n            const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n            const rows = this.applyFiltersAndSearch(baseRows, columns);\n            this.filterCache = {\n                rowsVersion: this.rowsVersion,\n                columnsKey,\n                searchTerm,\n                filtersKey,\n                rows\n            };\n            return Promise.resolve(rows);\n        }\n\n        return this.projectionWorkerReady\n            .then(() =>\n                this.projectionWorkerPool.project({\n                    keys: columns.map((column) => column.key),\n                    searchTerm,\n                    columnFilters: this.state.columnFilters,\n                    sorts: []\n                })\n            )\n            .then((indices) => {\n                const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                return rows;\n            })\n            .catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n\n                const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n                const rows = this.applyFiltersAndSearch(baseRows, columns);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                return rows;\n            });\n    }\n\n    /**\n     * Applies column filters and global search in one pass.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applyFiltersAndSearch(rows, columns) {\n        const keys = columns.map((column) => column.key);\n        const columnSet = new Set(keys);\n        const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n        const searchTerm = this.state.searchTerm;\n\n        if (!activeFilters.length && !searchTerm) return rows;\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const filterColumns = activeFilters.map(([key, term]) => ({\n                term,\n                text: this.getIndexedText(index, key)\n            }));\n            const searchColumns = searchTerm ? this.getSearchableKeys(index, keys, searchTerm).map((key) => this.getIndexedText(index, key)) : null;\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matchesFilters = true;\n                for (const filterColumn of filterColumns) {\n                    if (!filterColumn.text[i].includes(filterColumn.term)) {\n                        matchesFilters = false;\n                        break;\n                    }\n                }\n                if (!matchesFilters) continue;\n\n                if (!searchColumns) {\n                    output.push(rows[i]);\n                    continue;\n                }\n\n                let matchesSearch = false;\n                for (const searchColumn of searchColumns) {\n                    if (searchColumn[i].includes(searchTerm)) {\n                        matchesSearch = true;\n                        break;\n                    }\n                }\n                if (matchesSearch) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matchesFilters = true;\n            for (const [key, term] of activeFilters) {\n                if (\n                    !String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(term)\n                ) {\n                    matchesFilters = false;\n                    break;\n                }\n            }\n            if (!matchesFilters) continue;\n\n            if (!searchTerm) {\n                output.push(row);\n                continue;\n            }\n\n            let matchesSearch = false;\n            for (const key of keys) {\n                if (\n                    String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(searchTerm)\n                ) {\n                    matchesSearch = true;\n                    break;\n                }\n            }\n            if (matchesSearch) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Applies sort rules using pre-normalized arrays and stable merge sort.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySortWithCache(rows, columns) {\n        if (!this.state.sorts.length) return rows;\n\n        const columnSet = new Set(columns.map((item) => item.key));\n        const sorts = this.state.sorts.filter((item) => columnSet.has(item.key));\n        if (!sorts.length) return rows;\n\n        const rowCount = rows.length;\n        const order = Array.from({ length: rowCount }).map((_, index) => index);\n        const comparator = this.getCompiledSortComparator(columns, sorts, rows);\n\n        if (rowCount < 5000) {\n            mergeSort(order, comparator);\n        } else {\n            order.sort(comparator);\n        }\n\n        const output = new Array(rowCount);\n        for (let i = 0; i < rowCount; i += 1) {\n            output[i] = rows[order[i]];\n        }\n        return output;\n    }\n\n    /**\n     * Returns a narrowed base row set for incremental query updates when possible.\n     *\n     * @param {string} columnsKey\n     * @param {string} searchTerm\n     * @param {string} filtersKey\n     * @returns {Record<string, any>[]}\n     */\n    resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey) {\n        if (!this.filterCache) return this.rows;\n        if (this.filterCache.rowsVersion !== this.rowsVersion) return this.rows;\n        if (this.filterCache.columnsKey !== columnsKey) return this.rows;\n        if (!isIncrementalRefinement(this.filterCache.searchTerm, searchTerm)) return this.rows;\n        if (!isIncrementalFilterRefinement(this.filterCache.filtersKey, filtersKey)) return this.rows;\n        return this.filterCache.rows;\n    }\n\n    /**\n     * Returns a compiled row-index comparator for the current sort state.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @param {Record<string, any>[]} rows\n     * @returns {(left: number, right: number) => number}\n     */\n    getCompiledSortComparator(columns, sorts, rows) {\n        const columnsKey = this.getColumnsKey(columns);\n        const sortsKey = serializeSorts(sorts);\n        const index = this.getColumnIndex(columns);\n        if (this.sortComparatorCache && this.sortComparatorCache.rowsVersion === this.rowsVersion && this.sortComparatorCache.columnsKey === columnsKey && this.sortComparatorCache.sortsKey === sortsKey) {\n            return this.buildLocalComparator(this.sortComparatorCache.comparator, rows, index.rowIndex);\n        }\n\n        const sourceText = new Map();\n        const sourceNumeric = new Map();\n        for (const sort of sorts) {\n            sourceText.set(sort.key, this.getIndexedText(index, sort.key));\n            sourceNumeric.set(sort.key, this.getIndexedNumeric(index, sort.key));\n        }\n\n        const comparator = (leftSourceIndex, rightSourceIndex) => {\n            for (const sort of sorts) {\n                const numeric = sourceNumeric.get(sort.key);\n                const text = sourceText.get(sort.key);\n                const bothNumeric = numeric.flags[leftSourceIndex] && numeric.flags[rightSourceIndex];\n                let cmp = 0;\n                if (bothNumeric) {\n                    cmp = numeric.values[leftSourceIndex] - numeric.values[rightSourceIndex];\n                } else {\n                    const leftText = text[leftSourceIndex];\n                    const rightText = text[rightSourceIndex];\n                    if (leftText < rightText) cmp = -1;\n                    else if (leftText > rightText) cmp = 1;\n                }\n                if (cmp !== 0) return sort.direction === 'desc' ? -cmp : cmp;\n            }\n            return leftSourceIndex - rightSourceIndex;\n        };\n\n        this.sortComparatorCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            sortsKey,\n            comparator,\n            sourceText,\n            sourceNumeric\n        };\n        return this.buildLocalComparator(comparator, rows, index.rowIndex);\n    }\n\n    /**\n     * Maps source-index comparator to local row-order comparator.\n     *\n     * @param {(leftSourceIndex: number, rightSourceIndex: number) => number} sourceComparator\n     * @param {Record<string, any>[]} rows\n     * @param {WeakMap<Record<string, any>, number>} rowIndex\n     * @returns {(left: number, right: number) => number}\n     */\n    buildLocalComparator(sourceComparator, rows, rowIndex) {\n        return (leftIndex, rightIndex) => {\n            const leftSource = rowIndex.get(rows[leftIndex]);\n            const rightSource = rowIndex.get(rows[rightIndex]);\n            if (leftSource === undefined || rightSource === undefined) {\n                return leftIndex - rightIndex;\n            }\n            const cmp = sourceComparator(leftSource, rightSource);\n            if (cmp !== 0) return cmp;\n            return leftIndex - rightIndex;\n        };\n    }\n\n    /**\n     * Returns canonical key string for a column set.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {string}\n     */\n    getColumnsKey(columns) {\n        return columns.map((column) => column.key).join('|');\n    }\n\n    /**\n     * Serializes active filters for cache keying.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {string}\n     */\n    serializeActiveFilters(columns) {\n        const columnSet = new Set(columns.map((item) => item.key));\n        const active = Object.entries(this.state.columnFilters)\n            .filter(([key]) => columnSet.has(key))\n            .sort(([leftKey], [rightKey]) => compareText(leftKey, rightKey));\n        if (!active.length) return '';\n        return active.map(([key, value]) => `${key}:${value}`).join('|');\n    }\n\n    /**\n     * Returns normalized text index for current rows and columns.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> }}\n     */\n    getColumnIndex(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.columnIndexCache && this.columnIndexCache.rowsVersion === this.rowsVersion && this.columnIndexCache.columnsKey === columnsKey && this.columnIndexCache.rows === this.rows) {\n            return this.columnIndexCache;\n        }\n\n        const rowIndex = new WeakMap();\n        for (let i = 0; i < this.rows.length; i += 1) {\n            rowIndex.set(this.rows[i], i);\n        }\n\n        this.columnIndexCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            rows: this.rows,\n            textByKey: new Map(),\n            rowIndex,\n            numericByKey: new Map(),\n            hasAlphaByKey: new Map()\n        };\n        return this.columnIndexCache;\n    }\n\n    /**\n     * Returns normalized text values for one indexed column.\n     *\n     * @param {{ rows: Record<string, any>[], textByKey: Map<string, string[]> }} index\n     * @param {string} key\n     * @returns {string[]}\n     */\n    getIndexedText(index, key) {\n        const cached = index.textByKey.get(key);\n        if (cached) return cached;\n\n        const values = new Array(index.rows.length);\n        for (let i = 0; i < index.rows.length; i += 1) {\n            values[i] = String(index.rows[i]?.[key] ?? '').toLowerCase();\n        }\n        index.textByKey.set(key, values);\n        return values;\n    }\n\n    /**\n     * Returns normalized numeric values and finite flags for one indexed column.\n     *\n     * @param {{ rows: Record<string, any>[], numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }> }} index\n     * @param {string} key\n     * @returns {{ values: Float64Array, flags: Uint8Array }}\n     */\n    getIndexedNumeric(index, key) {\n        const cached = index.numericByKey.get(key);\n        if (cached) return cached;\n\n        const values = new Float64Array(index.rows.length);\n        const flags = new Uint8Array(index.rows.length);\n        for (let i = 0; i < index.rows.length; i += 1) {\n            const parsed = Number(index.rows[i]?.[key]);\n            if (Number.isFinite(parsed)) {\n                values[i] = parsed;\n                flags[i] = 1;\n            }\n        }\n\n        const next = { values, flags };\n        index.numericByKey.set(key, next);\n        return next;\n    }\n\n    /**\n     * Returns search keys optimized for the current term.\n     *\n     * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n     * @param {string[]} keys\n     * @param {string} term\n     * @returns {string[]}\n     */\n    getSearchableKeys(index, keys, term) {\n        if (!HAS_ALPHA_RE.test(term)) return keys;\n\n        const filtered = keys.filter((key) => this.hasAlphaValues(index, key));\n        return filtered.length ? filtered : keys;\n    }\n\n    /**\n     * Returns whether a column can contain alphabetic characters.\n     *\n     * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n     * @param {string} key\n     * @returns {boolean}\n     */\n    hasAlphaValues(index, key) {\n        const cached = index.hasAlphaByKey.get(key);\n        if (cached !== undefined) return cached;\n\n        const values = this.getIndexedText(index, key);\n        let hasAlpha = false;\n        for (let i = 0; i < values.length; i += 1) {\n            if (HAS_ALPHA_RE.test(values[i])) {\n                hasAlpha = true;\n                break;\n            }\n        }\n\n        index.hasAlphaByKey.set(key, hasAlpha);\n        return hasAlpha;\n    }\n}\n\n/**\n * Normalizes a page number into a valid positive integer.\n *\n * @param {number} page\n * @returns {number}\n */\nfunction normalizePage(page) {\n    if (!Number.isFinite(page)) return 1;\n    return Math.max(1, Math.floor(page));\n}\n\n/**\n * Normalizes a page size into a valid positive integer.\n *\n * @param {number} pageSize\n * @returns {number}\n */\nfunction normalizePageSize(pageSize) {\n    if (!Number.isFinite(pageSize)) return 1;\n    return Math.max(1, Math.floor(pageSize));\n}\n\n/** @type {RegExp} */\nconst HAS_ALPHA_RE = /[a-z]/;\n\n/**\n * Compares two lowercase text values.\n *\n * @param {string} left\n * @param {string} right\n * @returns {number}\n */\nfunction compareText(left, right) {\n    if (left < right) return -1;\n    if (left > right) return 1;\n    return 0;\n}\n\n/**\n * Returns whether next query is a narrowing form of previous.\n *\n * @param {string} previous\n * @param {string} next\n * @returns {boolean}\n */\nfunction isIncrementalRefinement(previous, next) {\n    return next.startsWith(previous);\n}\n\n/**\n * Returns whether next active filter set refines previous.\n *\n * @param {string} previous\n * @param {string} next\n * @returns {boolean}\n */\nfunction isIncrementalFilterRefinement(previous, next) {\n    if (!previous) return true;\n    if (!next) return false;\n    const previousEntries = previous.split('|').filter(Boolean);\n    const nextEntries = new Map(next.split('|').filter(Boolean).map((entry) => {\n        const separator = entry.indexOf(':');\n        const key = separator >= 0 ? entry.slice(0, separator) : entry;\n        const value = separator >= 0 ? entry.slice(separator + 1) : '';\n        return [key, value];\n    }));\n    for (const entry of previousEntries) {\n        const separator = entry.indexOf(':');\n        const key = separator >= 0 ? entry.slice(0, separator) : entry;\n        const value = separator >= 0 ? entry.slice(separator + 1) : '';\n        const nextValue = nextEntries.get(key);\n        if (typeof nextValue !== 'string') return false;\n        if (!nextValue.startsWith(value)) return false;\n    }\n    return true;\n}\n\n/**\n * Serializes sort definitions for cache keying.\n *\n * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n * @returns {string}\n */\nfunction serializeSorts(sorts) {\n    return sorts.map((sort) => `${sort.key}:${sort.direction}`).join('|');\n}\n\n/**\n * Performs stable merge sort on index arrays using a shared scratch buffer.\n *\n * @param {number[]} items\n * @param {(left: number, right: number) => number} compare\n * @returns {void}\n */\nfunction mergeSort(items, compare) {\n    const size = items.length;\n    if (size < 2) return;\n\n    const buffer = new Array(size);\n    let width = 1;\n\n    while (width < size) {\n        for (let start = 0; start < size; start += width * 2) {\n            const middle = Math.min(start + width, size);\n            const end = Math.min(start + width * 2, size);\n            let left = start;\n            let right = middle;\n            let write = start;\n\n            while (left < middle && right < end) {\n                if (compare(items[left], items[right]) <= 0) {\n                    buffer[write] = items[left];\n                    left += 1;\n                } else {\n                    buffer[write] = items[right];\n                    right += 1;\n                }\n                write += 1;\n            }\n\n            while (left < middle) {\n                buffer[write] = items[left];\n                left += 1;\n                write += 1;\n            }\n            while (right < end) {\n                buffer[write] = items[right];\n                right += 1;\n                write += 1;\n            }\n        }\n\n        for (let i = 0; i < size; i += 1) {\n            items[i] = buffer[i];\n        }\n        width *= 2;\n    }\n}\n\n/**\n * Resolves configured parallel worker count.\n *\n * @param {number | string | undefined} input\n * @returns {number}\n */\nfunction resolveParallelWorkers(input) {\n    if (typeof input === 'number' && Number.isFinite(input)) {\n        return Math.max(1, Math.floor(input));\n    }\n\n    if (input === 'auto' || input == null) {\n        const cores = typeof navigator !== 'undefined' && Number.isFinite(navigator.hardwareConcurrency) ? navigator.hardwareConcurrency : 4;\n        return Math.max(2, Math.min(8, Math.floor(cores) - 1));\n    }\n\n    const numeric = Number(input);\n    if (Number.isFinite(numeric)) {\n        return Math.max(1, Math.floor(numeric));\n    }\n    return 4;\n}\n", "/**\n * Merges two plain objects recursively.\n *\n * @param {Record<string, any>} base\n * @param {Record<string, any>} extra\n * @returns {Record<string, any>}\n */\nexport function deepMerge(base, extra) {\n    const output = { ...base };\n\n    for (const key of Object.keys(extra || {})) {\n        const baseValue = output[key];\n        const extraValue = extra[key];\n\n        if (isObject(baseValue) && isObject(extraValue)) {\n            output[key] = deepMerge(baseValue, extraValue);\n        } else {\n            output[key] = extraValue;\n        }\n    }\n\n    return output;\n}\n\n/**\n * Checks whether a value is a non-array object.\n *\n * @param {unknown} value\n * @returns {boolean}\n */\nfunction isObject(value) {\n    return value !== null && typeof value === 'object' && !Array.isArray(value);\n}\n", "/**\n * Provides a minimal publish-subscribe event bus.\n */\nexport class EventEmitter {\n    /**\n     * Creates a new event emitter instance.\n     */\n    constructor() {\n        /** @type {Map<string, Function[]>} */\n        this.listeners = new Map();\n    }\n\n    /**\n     * Registers an event callback.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {() => void}\n     */\n    on(event, callback) {\n        const list = this.listeners.get(event) || [];\n        list.push(callback);\n        this.listeners.set(event, list);\n        return () => this.off(event, callback);\n    }\n\n    /**\n     * Removes an event callback.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {void}\n     */\n    off(event, callback) {\n        const list = this.listeners.get(event);\n        if (!list) return;\n        this.listeners.set(\n            event,\n            list.filter((item) => item !== callback)\n        );\n    }\n\n    /**\n     * Emits an event payload to registered listeners.\n     *\n     * @param {string} event\n     * @param {any} payload\n     * @returns {void}\n     */\n    emit(event, payload) {\n        const list = this.listeners.get(event);\n        if (!list) return;\n        for (const callback of list) callback(payload);\n    }\n}\n", "/**\n * Resolves client-side table view projections.\n */\nexport class ClientDataSource {\n    /**\n     * Creates a client data source instance.\n     *\n     * @param {{ store: import('../state-store.js').StateStore }} config\n     */\n    constructor({ store }) {\n        /** @type {import('../state-store.js').StateStore} */\n        this.store = store;\n    }\n\n    /**\n     * Resolves table view data.\n     *\n     * @param {{ columns: { key: string }[] }} context\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getView({ columns }) {\n        if (typeof this.store.getVisibleRowsAsync === 'function' && typeof this.store.canUseWorkerProjection === 'function' && this.store.canUseWorkerProjection()) {\n            return this.store.getVisibleRowsAsync(columns);\n        }\n        return Promise.resolve(this.store.getVisibleRows(columns));\n    }\n}\n", "/**\n * Resolves server-side table view projections.\n */\nexport class ServerDataSource {\n    /**\n     * Creates a server data source instance.\n     *\n     * @param {{ store: import('../state-store.js').StateStore, fetchData: Function | null, onLoadingChange: (loading: boolean) => void }} config\n     */\n    constructor({ store, fetchData, onLoadingChange }) {\n        /** @type {import('../state-store.js').StateStore} */\n        this.store = store;\n        /** @type {Function | null} */\n        this.fetchData = fetchData;\n        /** @type {(loading: boolean) => void} */\n        this.onLoadingChange = onLoadingChange;\n    }\n\n    /**\n     * Resolves table view data.\n     *\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getView() {\n        if (typeof this.fetchData !== 'function') {\n            return Promise.reject(new Error('VanillaTable serverSide mode requires options.fetchData(query).'));\n        }\n\n        this.onLoadingChange(true);\n\n        const query = this.store.getQuery();\n        return Promise.resolve(this.fetchData(query))\n            .then((response) => {\n                const rows = Array.isArray(response?.rows) ? response.rows : [];\n                const totalRows = Number(response?.totalRows || rows.length);\n                this.store.setRows(rows);\n\n                return {\n                    rows,\n                    totalRows,\n                    totalPages: Math.max(1, Math.ceil(totalRows / this.store.state.pageSize))\n                };\n            })\n            .finally(() => {\n                this.onLoadingChange(false);\n            });\n    }\n}\n", "import { ClientDataSource } from './client-data-source.js';\nimport { ServerDataSource } from './server-data-source.js';\n\n/**\n * Creates a data source strategy for current options.\n *\n * @param {{ options: Record<string, any>, store: import('../state-store.js').StateStore, onLoadingChange: (loading: boolean) => void }} config\n * @returns {ClientDataSource | ServerDataSource}\n */\nexport function createDataSource({ options, store, onLoadingChange }) {\n    if (options.serverSide) {\n        return new ServerDataSource({\n            store,\n            fetchData: options.fetchData,\n            onLoadingChange\n        });\n    }\n\n    return new ClientDataSource({ store });\n}\n", "/**\n * Synchronizes table state with URL and local storage.\n */\nexport class StateSync {\n    /**\n     * Creates state sync instance.\n     *\n     * @param {{ persistence: { enabled: boolean, storageKey: string | null }, urlSync: { enabled: boolean, param: string }, tableId: string }} config\n     */\n    constructor({ persistence, urlSync, tableId }) {\n        /** @type {{ enabled: boolean, storageKey: string | null }} */\n        this.persistence = persistence;\n        /** @type {{ enabled: boolean, param: string }} */\n        this.urlSync = urlSync;\n        /** @type {string} */\n        this.tableId = tableId;\n    }\n\n    /**\n     * Loads stored or URL state payload.\n     *\n     * @returns {Record<string, any>}\n     */\n    load() {\n        const fromUrl = this.loadFromUrl();\n        const fromStorage = this.loadFromStorage();\n        return {\n            ...fromStorage,\n            ...fromUrl\n        };\n    }\n\n    /**\n     * Persists state to configured sinks.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    save(state) {\n        if (this.persistence.enabled) {\n            this.saveToStorage(state);\n        }\n\n        if (this.urlSync.enabled) {\n            this.saveToUrl(state);\n        }\n    }\n\n    /**\n     * Loads state from local storage.\n     *\n     * @returns {Record<string, any>}\n     */\n    loadFromStorage() {\n        if (!this.persistence.enabled || typeof window === 'undefined') return {};\n        const key = this.getStorageKey();\n\n        try {\n            const raw = window.localStorage.getItem(key);\n            if (!raw) return {};\n            const parsed = JSON.parse(raw);\n            return parsed && typeof parsed === 'object' ? parsed : {};\n        } catch {\n            return {};\n        }\n    }\n\n    /**\n     * Saves state to local storage.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    saveToStorage(state) {\n        if (typeof window === 'undefined') return;\n\n        try {\n            window.localStorage.setItem(this.getStorageKey(), JSON.stringify(state));\n        } catch {\n            // Ignores storage write failures.\n        }\n    }\n\n    /**\n     * Loads state payload from URL param.\n     *\n     * @returns {Record<string, any>}\n     */\n    loadFromUrl() {\n        if (!this.urlSync.enabled || typeof window === 'undefined') return {};\n\n        try {\n            const params = new URLSearchParams(window.location.search);\n            const encoded = params.get(this.urlSync.param || 'vt');\n            if (!encoded) return {};\n            const json = decodeURIComponent(encoded);\n            const parsed = JSON.parse(json);\n            return parsed && typeof parsed === 'object' ? parsed : {};\n        } catch {\n            return {};\n        }\n    }\n\n    /**\n     * Saves state payload to URL param.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    saveToUrl(state) {\n        if (typeof window === 'undefined') return;\n\n        try {\n            const params = new URLSearchParams(window.location.search);\n            params.set(this.urlSync.param || 'vt', encodeURIComponent(JSON.stringify(state)));\n            const next = `${window.location.pathname}?${params.toString()}${window.location.hash}`;\n            window.history.replaceState({}, '', next);\n        } catch {\n            // Ignores URL sync failures.\n        }\n    }\n\n    /**\n     * Returns storage key.\n     *\n     * @returns {string}\n     */\n    getStorageKey() {\n        return this.persistence.storageKey || `vanilla-tables:${this.tableId}`;\n    }\n}\n", "import { defaultOptions } from './default-options.js';\nimport { Renderer } from './renderer.js';\nimport { StateStore } from './state-store.js';\nimport { deepMerge } from '../utils/deep-merge.js';\nimport { EventEmitter } from '../utils/event-emitter.js';\nimport { createDataSource } from './data-sources/create-data-source.js';\nimport { StateSync } from './sync/state-sync.js';\n\n/**\n * Coordinates state, rendering, and plugin extensions.\n */\nexport class VanillaTable {\n    /**\n     * Creates a table instance.\n     *\n     * @param {HTMLElement} element\n     * @param {Record<string, any>[]} rows\n     * @param {Record<string, any>} [options]\n     */\n    constructor(element, rows, options = {}) {\n        if (!(element instanceof HTMLElement)) {\n            throw new Error('VanillaTable requires a valid HTMLElement as first argument.');\n        }\n\n        /** @type {HTMLElement} */\n        this.root = element;\n        /** @type {Record<string, any>[]} */\n        this.rows = Array.isArray(rows) ? rows : [];\n        /** @type {Record<string, any>} */\n        this.options = deepMerge(defaultOptions, options);\n        this.options.i18n = {\n            ...defaultOptions.i18n,\n            ...(this.options.i18n || {})\n        };\n        this.options.labels = {\n            ...this.options.labels,\n            search: this.options.i18n.search || this.options.labels.search,\n            filter: this.options.i18n.filter || this.options.labels.filter,\n            rows: this.options.i18n.rows || this.options.labels.rows,\n            actions: this.options.i18n.actions || this.options.labels.actions,\n            loading: this.options.i18n.loading || this.options.labels.loading,\n            empty: this.options.i18n.empty || this.options.labels.empty,\n            first: this.options.i18n.first || this.options.labels.first,\n            prev: this.options.i18n.prev || this.options.labels.prev,\n            next: this.options.i18n.next || this.options.labels.next,\n            last: this.options.i18n.last || this.options.labels.last,\n            pageInfo:\n                typeof this.options.i18n.pageInfo === 'string'\n                    ? ({ page, totalPages, totalRows }) => this.options.i18n.pageInfo.replace('{page}', String(page)).replace('{totalPages}', String(totalPages)).replace('{totalRows}', String(totalRows))\n                    : this.options.labels.pageInfo\n        };\n\n        if (!this.options.columns.length) {\n            this.options.columns = inferColumns(this.rows);\n        }\n\n        /** @type {EventEmitter} */\n        this.events = new EventEmitter();\n        /** @type {Record<string, Function>} */\n        this.hooks = {};\n        /** @type {StateStore} */\n        this.store = new StateStore({\n            rows: this.rows,\n            pageSize: this.options.pageSize,\n            initialSort: this.options.initialSort,\n            parallel: this.options.parallel\n        });\n\n        const initialOrder = this.options.columns.map((column) => column.key);\n        this.store.setColumnOrder(initialOrder);\n\n        /** @type {Renderer} */\n        this.renderer = new Renderer({ root: element, options: this.options, hooks: this.hooks });\n        /** @type {ReturnType<typeof createDataSource>} */\n        this.dataSource = createDataSource({\n            options: this.options,\n            store: this.store,\n            onLoadingChange: (loading) => this.handleLoadingChange(loading)\n        });\n\n        /** @type {StateSync} */\n        this.stateSync = new StateSync({\n            persistence: this.options.persistence,\n            urlSync: this.options.urlSync,\n            tableId: this.getTableId()\n        });\n\n        /** @type {Set<string>} */\n        this.expandedRowIds = new Set();\n        /** @type {number | null} */\n        this.searchTimer = null;\n        /** @type {boolean} */\n        this.loading = false;\n        /** @type {Record<string, any>} */\n        this.lastView = { rows: [], totalRows: 0, totalPages: 1 };\n        /** @type {number | null} */\n        this.lastAnimationFrame = null;\n        /** @type {{ enabled: boolean, start: number, end: number, rowHeight: number }} */\n        this.virtualization = {\n            enabled: Boolean(this.options.virtualScroll.enabled),\n            start: 0,\n            end: this.options.pageSize,\n            rowHeight: this.options.virtualScroll.rowHeight\n        };\n        /** @type {{ enabled: boolean, start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number }} */\n        this.columnVirtualization = {\n            enabled: Boolean(this.options.virtualColumns?.enabled),\n            start: 0,\n            end: this.options.columns.length,\n            leftWidth: 0,\n            rightWidth: 0,\n            totalColumns: this.options.columns.length\n        };\n        /** @type {{ lastTop: number, lastAt: number, dynamicOverscan: number }} */\n        this.scrollProfile = {\n            lastTop: 0,\n            lastAt: 0,\n            dynamicOverscan: this.options.virtualScroll.overscan\n        };\n\n        this.applySyncedState();\n    }\n\n    /**\n     * Initializes DOM and listeners.\n     *\n     * @returns {VanillaTable}\n     */\n    init() {\n        this.renderer.mount();\n        this.bindEvents();\n        void this.refresh();\n        this.emitEvent('init', { instance: this });\n        return this;\n    }\n\n    /**\n     * Re-renders current state to the DOM.\n     *\n     * @returns {Promise<void>}\n     */\n    refresh() {\n        let columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n\n        return this.dataSource\n            .getView({ columns })\n            .then((view) => {\n                if (!columns.length && view.rows.length) {\n                    this.options.columns = inferColumns(view.rows);\n                    this.store.setColumnOrder(this.options.columns.map((column) => column.key));\n                    columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n                }\n\n                if (this.store.state.page > view.totalPages) {\n                    this.store.setPage(view.totalPages);\n                    return this.refresh();\n                }\n\n                this.lastView = view;\n                this.virtualization = this.computeVirtualWindow(view.rows.length);\n\n                this.columnVirtualization = this.computeColumnWindow(columns);\n                this.renderer.renderHeader(columns, this.store.state.sorts, this.store.state.columnFilters, this.store.state.columnWidths, this.columnVirtualization);\n                this.renderer.renderBody(columns, view.rows, {\n                    expandedRowIds: this.expandedRowIds,\n                    getRowId: (row, index) => this.getRowId(row, index),\n                    expandRow: this.options.expandRow,\n                    editableRows: this.options.editableRows,\n                    editableColumns: this.options.editableColumns,\n                    columnWidths: this.store.state.columnWidths,\n                    virtualization: this.virtualization,\n                    columnWindow: this.columnVirtualization\n                });\n                this.renderer.renderFooter({\n                    page: this.store.state.page,\n                    totalPages: view.totalPages,\n                    totalRows: view.totalRows,\n                    loading: this.loading\n                });\n                this.renderer.refs.table?.setAttribute('aria-rowcount', String(view.totalRows));\n\n                this.persistState();\n                this.emitEvent('change', { state: this.getState(), view });\n                this.emitEvent('state:change', this.getState());\n            })\n            .catch((error) => {\n                this.emitEvent('error', { error });\n            });\n    }\n\n    /**\n     * Handles data loading state transitions.\n     *\n     * @param {boolean} loading\n     * @returns {void}\n     */\n    handleLoadingChange(loading) {\n        this.loading = loading;\n        this.renderer.renderFooter({\n            page: this.store.state.page,\n            totalPages: 1,\n            totalRows: 0,\n            loading\n        });\n        this.emitEvent('loading:change', { loading });\n    }\n\n    /**\n     * Attaches DOM event handlers.\n     *\n     * @returns {void}\n     */\n    bindEvents() {\n        this.bindSearchEvents();\n        this.bindSortEvents();\n        this.bindFilterEvents();\n        this.bindPaginationEvents();\n        this.bindExpandEvents();\n        this.bindEditEvents();\n        this.bindActionEvents();\n        this.bindColumnResizeEvents();\n        this.bindColumnReorderEvents();\n        this.bindVirtualScrollEvents();\n        this.bindKeyboardA11yEvents();\n    }\n\n    /**\n     * Attaches search input handlers.\n     *\n     * @returns {void}\n     */\n    bindSearchEvents() {\n        this.renderer.refs.search?.addEventListener('input', (event) => {\n            if (this.searchTimer) clearTimeout(this.searchTimer);\n\n            const applySearch = () => {\n                this.store.setSearchTerm(event.target.value);\n                this.emitEvent('search:change', { term: this.store.state.searchTerm });\n                this.scheduleRefresh(false);\n            };\n\n            if (this.options.debounceMs <= 0) {\n                applySearch();\n                return;\n            }\n\n            this.searchTimer = setTimeout(applySearch, this.options.debounceMs);\n        });\n    }\n\n    /**\n     * Attaches sort handlers.\n     *\n     * @returns {void}\n     */\n    bindSortEvents() {\n        this.renderer.refs.thead?.addEventListener('click', (event) => {\n            const button = event.target.closest('.vt-sort-trigger');\n            if (!button || button.disabled) return;\n            this.store.toggleSort(button.dataset.key, this.options.multiSort && event.shiftKey, this.options.maxSorts);\n            this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches filter handlers.\n     *\n     * @returns {void}\n     */\n    bindFilterEvents() {\n        this.renderer.refs.thead?.addEventListener('input', (event) => {\n            const input = event.target.closest('.vt-column-filter');\n            if (!input) return;\n            this.store.setColumnFilter(input.dataset.key, input.value);\n            this.emitEvent('filter:change', {\n                key: input.dataset.key,\n                value: this.store.state.columnFilters[input.dataset.key] || ''\n            });\n            this.scheduleRefresh(false);\n        });\n    }\n\n    /**\n     * Attaches pagination handlers.\n     *\n     * @returns {void}\n     */\n    bindPaginationEvents() {\n        this.renderer.refs.pageSize?.addEventListener('change', (event) => {\n            this.store.setPageSize(Number(event.target.value));\n            this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n            void this.refresh();\n        });\n\n        this.renderer.refs.prev?.addEventListener('click', () => {\n            this.store.setPage(this.store.state.page - 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.next?.addEventListener('click', () => {\n            this.store.setPage(this.store.state.page + 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.first?.addEventListener('click', () => {\n            this.store.setPage(1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.last?.addEventListener('click', () => {\n            this.store.setPage(this.lastView.totalPages || 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches row expansion handlers.\n     *\n     * @returns {void}\n     */\n    bindExpandEvents() {\n        this.renderer.refs.tbody?.addEventListener('click', (event) => {\n            const trigger = event.target.closest('.vt-expand-trigger');\n            if (!trigger) return;\n            const rowId = trigger.dataset.rowId;\n            this.toggleRow(rowId);\n        });\n    }\n\n    /**\n     * Attaches inline edit handlers.\n     *\n     * @returns {void}\n     */\n    bindEditEvents() {\n        this.renderer.refs.tbody?.addEventListener('dblclick', (event) => {\n            if (!this.options.editableRows) return;\n\n            const cell = event.target.closest('.vt-cell-editable');\n            if (!cell || cell.querySelector('input')) return;\n\n            const rowId = cell.dataset.rowId;\n            const key = cell.dataset.key;\n            const row = this.findRowById(rowId);\n            if (!row) return;\n\n            const input = document.createElement('input');\n            input.type = 'text';\n            input.value = String(row[key] ?? '');\n            input.className = 'vt-inline-input';\n            cell.innerHTML = '';\n            cell.appendChild(input);\n            input.focus();\n\n            const submit = () => {\n                row[key] = input.value;\n                this.emitEvent('edit', { rowId, row, key, value: input.value });\n                this.emitEvent('row:edit', { rowId, row, key, value: input.value });\n                void this.refresh();\n            };\n\n            input.addEventListener('blur', submit, { once: true });\n            input.addEventListener('keydown', (keyboardEvent) => {\n                if (keyboardEvent.key === 'Enter') {\n                    input.blur();\n                }\n            });\n        });\n    }\n\n    /**\n     * Attaches row action handlers.\n     *\n     * @returns {void}\n     */\n    bindActionEvents() {\n        this.renderer.refs.tbody?.addEventListener('click', (event) => {\n            const actionButton = event.target.closest('.vt-action-btn');\n            if (!actionButton) return;\n\n            const rowId = actionButton.dataset.rowId;\n            const actionId = actionButton.dataset.actionId;\n            const row = this.findRowById(rowId);\n            const action = this.options.rowActions.find((item) => item.id === actionId);\n            if (!action || !row) return;\n\n            Promise.resolve(action.onClick ? action.onClick({ row, rowId, actionId, table: this, event }) : null).finally(() => {\n                this.emitEvent('row:action', { row, rowId, actionId });\n            });\n        });\n    }\n\n    /**\n     * Attaches column resize handlers.\n     *\n     * @returns {void}\n     */\n    bindColumnResizeEvents() {\n        if (!this.options.columnResize) return;\n\n        this.renderer.refs.thead?.addEventListener('mousedown', (event) => {\n            const handle = event.target.closest('.vt-resize-handle');\n            if (!handle) return;\n\n            event.preventDefault();\n\n            const key = handle.dataset.key;\n            const startX = event.clientX;\n            const startWidth = this.store.state.columnWidths[key] || this.renderer.refs.thead.querySelector(`th[data-key=\"${key}\"]`)?.getBoundingClientRect().width || 180;\n\n            const onMove = (moveEvent) => {\n                const nextWidth = startWidth + (moveEvent.clientX - startX);\n                this.store.setColumnWidth(key, nextWidth);\n                this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n                void this.refresh();\n            };\n\n            const onUp = () => {\n                window.removeEventListener('mousemove', onMove);\n                window.removeEventListener('mouseup', onUp);\n                this.persistState();\n            };\n\n            window.addEventListener('mousemove', onMove);\n            window.addEventListener('mouseup', onUp);\n        });\n    }\n\n    /**\n     * Attaches column reorder handlers.\n     *\n     * @returns {void}\n     */\n    bindColumnReorderEvents() {\n        if (!this.options.columnReorder) return;\n\n        let draggingKey = null;\n\n        this.renderer.refs.thead?.addEventListener('dragstart', (event) => {\n            const th = event.target.closest('th[data-key]');\n            if (!th) return;\n            draggingKey = th.dataset.key;\n            event.dataTransfer.effectAllowed = 'move';\n        });\n\n        this.renderer.refs.thead?.addEventListener('dragover', (event) => {\n            if (!draggingKey) return;\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'move';\n        });\n\n        this.renderer.refs.thead?.addEventListener('drop', (event) => {\n            if (!draggingKey) return;\n            event.preventDefault();\n\n            const targetTh = event.target.closest('th[data-key]');\n            if (!targetTh) return;\n\n            const targetKey = targetTh.dataset.key;\n            if (!targetKey || targetKey === draggingKey) return;\n\n            const current = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n            const next = current.filter((key) => key !== draggingKey);\n            const targetIndex = next.indexOf(targetKey);\n            next.splice(targetIndex, 0, draggingKey);\n\n            this.store.setColumnOrder(next);\n            this.emitEvent('column:reorder', { order: next });\n            void this.refresh();\n            draggingKey = null;\n        });\n\n        this.renderer.refs.thead?.addEventListener('dragend', () => {\n            draggingKey = null;\n        });\n    }\n\n    /**\n     * Attaches virtual scroll handlers.\n     *\n     * @returns {void}\n     */\n    bindVirtualScrollEvents() {\n        if (!this.options.virtualScroll.enabled && !this.options.virtualColumns?.enabled) return;\n\n        this.renderer.refs.tableWrap?.addEventListener('scroll', () => {\n            const wrap = this.renderer.refs.tableWrap;\n            if (this.options.virtualScroll.adaptiveOverscan && wrap) {\n                const now = (typeof performance !== 'undefined' ? performance.now() : Date.now());\n                const deltaTop = Math.abs(wrap.scrollTop - this.scrollProfile.lastTop);\n                const deltaTime = Math.max(1, now - this.scrollProfile.lastAt);\n                const velocity = deltaTop / deltaTime;\n                const boost = Math.min(20, Math.floor(velocity * 16));\n                this.scrollProfile.dynamicOverscan = Math.max(this.options.virtualScroll.overscan, this.options.virtualScroll.overscan + boost);\n                this.scrollProfile.lastTop = wrap.scrollTop;\n                this.scrollProfile.lastAt = now;\n            }\n            if (this.lastAnimationFrame) {\n                cancelAnimationFrame(this.lastAnimationFrame);\n            }\n            this.lastAnimationFrame = requestAnimationFrame(() => {\n                this.scheduleRefresh(true);\n            });\n        });\n    }\n\n    /**\n     * Schedules one refresh using animation or idle callbacks.\n     *\n     * @param {boolean} urgent\n     * @returns {void}\n     */\n    scheduleRefresh(urgent) {\n        if (urgent || typeof requestIdleCallback !== 'function') {\n            void this.refresh();\n            return;\n        }\n        requestIdleCallback(() => {\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches keyboard accessibility handlers.\n     *\n     * @returns {void}\n     */\n    bindKeyboardA11yEvents() {\n        this.renderer.refs.thead?.addEventListener('keydown', (event) => {\n            const resizeHandle = event.target.closest('.vt-resize-handle');\n            if (resizeHandle && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n                event.preventDefault();\n                const key = resizeHandle.dataset.key;\n                const current = this.store.state.columnWidths[key] || 180;\n                const delta = event.key === 'ArrowLeft' ? -16 : 16;\n                this.setColumnWidth(key, current + delta);\n                return;\n            }\n\n            const th = event.target.closest('th[data-key]');\n            if (!th || !this.options.columnReorder) return;\n\n            if (event.altKey && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n                event.preventDefault();\n                const currentOrder = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n                const key = th.dataset.key;\n                const index = currentOrder.indexOf(key);\n                if (index < 0) return;\n\n                const targetIndex = event.key === 'ArrowLeft' ? Math.max(0, index - 1) : Math.min(currentOrder.length - 1, index + 1);\n                if (targetIndex === index) return;\n\n                const next = [...currentOrder];\n                next.splice(index, 1);\n                next.splice(targetIndex, 0, key);\n                this.reorderColumns(next);\n            }\n        });\n    }\n\n    /**\n     * Sets table data and refreshes.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {Promise<void>}\n     */\n    setData(rows) {\n        this.rows = Array.isArray(rows) ? rows : [];\n        this.store.setRows(this.rows);\n        this.store.setPage(1);\n        this.emitEvent('data:set', { count: this.rows.length });\n        return this.refresh();\n    }\n\n    /**\n     * Adds one row.\n     *\n     * @param {Record<string, any>} row\n     * @returns {Promise<void>}\n     */\n    addRow(row) {\n        this.store.setRows([...this.store.rows, row]);\n        this.emitEvent('data:add', { row });\n        return this.refresh();\n    }\n\n    /**\n     * Removes one row by identifier.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    removeRowById(rowId) {\n        this.store.setRows(this.store.rows.filter((row, index) => this.getRowId(row, index) !== String(rowId)));\n        this.emitEvent('data:remove', { rowId });\n        return this.refresh();\n    }\n\n    /**\n     * Sets global search term.\n     *\n     * @param {string} term\n     * @returns {Promise<void>}\n     */\n    search(term) {\n        this.store.setSearchTerm(term);\n        this.emitEvent('search:change', { term: this.store.state.searchTerm });\n        return this.refresh();\n    }\n\n    /**\n     * Sets one column filter.\n     *\n     * @param {string} key\n     * @param {string} value\n     * @returns {Promise<void>}\n     */\n    filterBy(key, value) {\n        this.store.setColumnFilter(key, value);\n        this.emitEvent('filter:change', { key, value: this.store.state.columnFilters[key] || '' });\n        return this.refresh();\n    }\n\n    /**\n     * Clears all filters.\n     *\n     * @returns {Promise<void>}\n     */\n    clearFilters() {\n        this.store.clearFilters();\n        this.emitEvent('filter:clear', {});\n        return this.refresh();\n    }\n\n    /**\n     * Sets one sort rule.\n     *\n     * @param {string} key\n     * @param {'asc'|'desc'} [direction]\n     * @param {boolean} [additive]\n     * @returns {Promise<void>}\n     */\n    sortBy(key, direction = 'asc', additive = false) {\n        if (!additive) {\n            this.store.setSorts([{ key, direction }]);\n        } else {\n            const next = [...this.store.state.sorts.filter((item) => item.key !== key), { key, direction }];\n            this.store.setSorts(next.slice(-this.options.maxSorts));\n        }\n        this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n        return this.refresh();\n    }\n\n    /**\n     * Clears sort state.\n     *\n     * @returns {Promise<void>}\n     */\n    clearSort() {\n        this.store.clearSorts();\n        this.emitEvent('sort:clear', {});\n        return this.refresh();\n    }\n\n    /**\n     * Goes to one page.\n     *\n     * @param {number} page\n     * @returns {Promise<void>}\n     */\n    goToPage(page) {\n        this.store.setPage(page);\n        this.emitEvent('page:change', { page: this.store.state.page });\n        return this.refresh();\n    }\n\n    /**\n     * Sets page size.\n     *\n     * @param {number} pageSize\n     * @returns {Promise<void>}\n     */\n    setPageSize(pageSize) {\n        this.store.setPageSize(pageSize);\n        this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n        return this.refresh();\n    }\n\n    /**\n     * Expands one row.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    expandRow(rowId) {\n        this.expandedRowIds.add(String(rowId));\n        this.emitEvent('row:expand', { rowId: String(rowId) });\n        return this.refresh();\n    }\n\n    /**\n     * Collapses one row.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    collapseRow(rowId) {\n        this.expandedRowIds.delete(String(rowId));\n        this.emitEvent('row:collapse', { rowId: String(rowId) });\n        return this.refresh();\n    }\n\n    /**\n     * Toggles one row expansion state.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    toggleRow(rowId) {\n        const normalized = String(rowId);\n        if (this.expandedRowIds.has(normalized)) {\n            return this.collapseRow(normalized);\n        }\n        return this.expandRow(normalized);\n    }\n\n    /**\n     * Expands all current rows.\n     *\n     * @returns {Promise<void>}\n     */\n    expandAllRows() {\n        this.store.rows.forEach((row, index) => {\n            this.expandedRowIds.add(this.getRowId(row, index));\n        });\n        this.emitEvent('row:expandAll', {});\n        return this.refresh();\n    }\n\n    /**\n     * Collapses all rows.\n     *\n     * @returns {Promise<void>}\n     */\n    collapseAllRows() {\n        this.expandedRowIds.clear();\n        this.emitEvent('row:collapseAll', {});\n        return this.refresh();\n    }\n\n    /**\n     * Updates one cell value.\n     *\n     * @param {string} rowId\n     * @param {string} key\n     * @param {any} value\n     * @returns {Promise<void>}\n     */\n    updateCell(rowId, key, value) {\n        const row = this.findRowById(String(rowId));\n        if (!row) return Promise.resolve();\n        row[key] = value;\n        this.emitEvent('edit', { rowId: String(rowId), row, key, value });\n        this.emitEvent('row:edit', { rowId: String(rowId), row, key, value });\n        return this.refresh();\n    }\n\n    /**\n     * Sets editable mode for one column.\n     *\n     * @param {string} key\n     * @param {boolean} editable\n     * @returns {Promise<void>}\n     */\n    setColumnEditable(key, editable) {\n        this.options.columns = this.options.columns.map((column) => (column.key === key ? { ...column, editable } : column));\n        this.options.editableColumns[key] = editable;\n        this.emitEvent('column:editable', { key, editable });\n        return this.refresh();\n    }\n\n    /**\n     * Sets one column width.\n     *\n     * @param {string} key\n     * @param {number} width\n     * @returns {Promise<void>}\n     */\n    setColumnWidth(key, width) {\n        this.store.setColumnWidth(key, width);\n        this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n        return this.refresh();\n    }\n\n    /**\n     * Reorders columns by key array.\n     *\n     * @param {string[]} order\n     * @returns {Promise<void>}\n     */\n    reorderColumns(order) {\n        this.store.setColumnOrder(order);\n        this.emitEvent('column:reorder', { order: [...order] });\n        return this.refresh();\n    }\n\n    /**\n     * Sets visibility for one column.\n     *\n     * @param {string} key\n     * @param {boolean} visible\n     * @returns {Promise<void>}\n     */\n    setColumnVisibility(key, visible) {\n        this.store.setColumnVisibility(key, visible);\n        this.emitEvent('column:visibility', { key, visible: Boolean(visible) });\n        return this.refresh();\n    }\n\n    /**\n     * Toggles visibility for one column.\n     *\n     * @param {string} key\n     * @returns {Promise<void>}\n     */\n    toggleColumnVisibility(key) {\n        const next = this.store.state.columnVisibility[key] === false;\n        return this.setColumnVisibility(key, next);\n    }\n\n    /**\n     * Applies theme classes and re-renders.\n     *\n     * @param {Record<string, string>} classes\n     * @returns {Promise<VanillaTable>}\n     */\n    setThemeClasses(classes) {\n        this.options.themeClasses = {\n            ...this.options.themeClasses,\n            ...(classes || {})\n        };\n        this.renderer.setOptions(this.options);\n        this.renderer.mount();\n        this.bindEvents();\n        return this.refresh().then(() => this);\n    }\n\n    /**\n     * Returns current serializable state.\n     *\n     * @returns {Record<string, any>}\n     */\n    getState() {\n        return {\n            ...this.store.getState(),\n            expandedRowIds: [...this.expandedRowIds]\n        };\n    }\n\n    /**\n     * Applies one state payload.\n     *\n     * @param {Record<string, any>} payload\n     * @returns {Promise<void>}\n     */\n    setState(payload) {\n        this.store.setState(payload);\n        if (Array.isArray(payload?.expandedRowIds)) {\n            this.expandedRowIds = new Set(payload.expandedRowIds.map((value) => String(value)));\n        }\n        return this.refresh();\n    }\n\n    /**\n     * Returns latest view payload.\n     *\n     * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n     */\n    getView() {\n        return this.lastView;\n    }\n\n    /**\n     * Returns all current source rows.\n     *\n     * @returns {Record<string, any>[]}\n     */\n    getRows() {\n        return this.store.rows;\n    }\n\n    /**\n     * Subscribes to lifecycle events.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {() => void}\n     */\n    on(event, callback) {\n        return this.events.on(event, callback);\n    }\n\n    /**\n     * Applies a plugin function to the instance.\n     *\n     * @param {(table: VanillaTable) => void} plugin\n     * @returns {VanillaTable}\n     */\n    use(plugin) {\n        plugin(this);\n        return this;\n    }\n\n    /**\n     * Registers a render lifecycle hook.\n     *\n     * @param {string} name\n     * @param {(context: any) => void} callback\n     * @returns {VanillaTable}\n     */\n    registerHook(name, callback) {\n        this.hooks[name] = callback;\n        return this;\n    }\n\n    /**\n     * Clears rendered markup and emits destroy event.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.searchTimer) {\n            clearTimeout(this.searchTimer);\n            this.searchTimer = null;\n        }\n        if (this.lastAnimationFrame) {\n            cancelAnimationFrame(this.lastAnimationFrame);\n            this.lastAnimationFrame = null;\n        }\n        this.store.destroy();\n        this.root.innerHTML = '';\n        this.emitEvent('destroy', {});\n    }\n\n    /**\n     * Resolves a row identifier.\n     *\n     * @param {Record<string, any>} row\n     * @param {number} index\n     * @returns {string}\n     */\n    getRowId(row, index) {\n        const value = row[this.options.rowIdKey];\n        return String(value ?? `${index}`);\n    }\n\n    /**\n     * Finds a row by string identifier.\n     *\n     * @param {string} rowId\n     * @returns {Record<string, any> | undefined}\n     */\n    findRowById(rowId) {\n        return this.store.rows.find((row, index) => this.getRowId(row, index) === rowId);\n    }\n\n    /**\n     * Emits one event payload.\n     *\n     * @param {string} event\n     * @param {any} payload\n     * @returns {void}\n     */\n    emitEvent(event, payload) {\n        this.events.emit(event, payload);\n        if (this.options.events.debug && typeof console !== 'undefined') {\n            console.debug(`[vanilla-tables] ${event}`, payload);\n        }\n    }\n\n    /**\n     * Persists current state via configured sync backends.\n     *\n     * @returns {void}\n     */\n    persistState() {\n        this.stateSync.save(this.getState());\n    }\n\n    /**\n     * Applies synced state from storage and URL.\n     *\n     * @returns {void}\n     */\n    applySyncedState() {\n        const synced = this.stateSync.load();\n        this.store.setState(synced);\n        if (Array.isArray(synced?.expandedRowIds)) {\n            this.expandedRowIds = new Set(synced.expandedRowIds.map((value) => String(value)));\n        }\n    }\n\n    /**\n     * Computes virtual scroll window.\n     *\n     * @param {number} totalRows\n     * @returns {{ enabled: boolean, start: number, end: number, rowHeight: number }}\n     */\n    computeVirtualWindow(totalRows) {\n        if (!this.options.virtualScroll.enabled || !this.renderer.refs.tableWrap) {\n            return {\n                enabled: false,\n                start: 0,\n                end: totalRows,\n                rowHeight: this.options.virtualScroll.rowHeight\n            };\n        }\n\n        const wrap = this.renderer.refs.tableWrap;\n        const rowHeight = this.options.virtualScroll.rowHeight;\n        const overscan = this.options.virtualScroll.adaptiveOverscan ? this.scrollProfile.dynamicOverscan : this.options.virtualScroll.overscan;\n        const visibleCount = Math.ceil((wrap.clientHeight || this.options.virtualScroll.height) / rowHeight);\n        const start = Math.max(0, Math.floor(wrap.scrollTop / rowHeight) - overscan);\n        const end = Math.min(totalRows, start + visibleCount + overscan * 2);\n\n        return {\n            enabled: true,\n            start,\n            end,\n            rowHeight\n        };\n    }\n\n    /**\n     * Computes virtual column window.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ enabled: boolean, start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number }}\n     */\n    computeColumnWindow(columns) {\n        if (!this.options.virtualColumns?.enabled || !this.renderer.refs.tableWrap) {\n            return {\n                enabled: false,\n                start: 0,\n                end: columns.length,\n                leftWidth: 0,\n                rightWidth: 0,\n                totalColumns: columns.length\n            };\n        }\n\n        const wrap = this.renderer.refs.tableWrap;\n        const defaultWidth = Math.max(40, Number(this.options.virtualColumns.width || 180));\n        const overscan = Math.max(0, Number(this.options.virtualColumns.overscan || 0));\n        const widths = columns.map((column) => this.store.state.columnWidths[column.key] || defaultWidth);\n        const targetStart = wrap.scrollLeft;\n        const targetEnd = wrap.scrollLeft + wrap.clientWidth;\n        let acc = 0;\n        let firstVisible = 0;\n        while (firstVisible < widths.length && acc + widths[firstVisible] < targetStart) {\n            acc += widths[firstVisible];\n            firstVisible += 1;\n        }\n        let accEnd = acc;\n        let lastVisible = firstVisible;\n        while (lastVisible < widths.length && accEnd < targetEnd) {\n            accEnd += widths[lastVisible];\n            lastVisible += 1;\n        }\n\n        const start = Math.max(0, firstVisible - overscan);\n        const end = Math.min(widths.length, lastVisible + overscan);\n        const leftWidth = widths.slice(0, start).reduce((sum, value) => sum + value, 0);\n        const rightWidth = widths.slice(end).reduce((sum, value) => sum + value, 0);\n\n        return {\n            enabled: true,\n            start,\n            end,\n            leftWidth,\n            rightWidth,\n            totalColumns: columns.length\n        };\n    }\n\n    /**\n     * Resolves a stable table id used for state sync.\n     *\n     * @returns {string}\n     */\n    getTableId() {\n        if (this.root.id) return this.root.id;\n        const token = Math.random().toString(36).slice(2, 10);\n        return `vt-${token}`;\n    }\n}\n\n/**\n * Infers column metadata from the first data row.\n *\n * @param {Record<string, any>[]} rows\n * @returns {{ key: string, label: string, editable: boolean }[]}\n */\nfunction inferColumns(rows) {\n    if (!rows.length) return [];\n\n    return Object.keys(rows[0]).map((key) => ({\n        key,\n        label: key.charAt(0).toUpperCase() + key.slice(1),\n        editable: true\n    }));\n}\n", "/**\n * Creates a plugin that applies striping classes to rendered rows.\n *\n * @param {{ className?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function stripedRowsPlugin(options = {}) {\n    const className = options.className || 'vt-row-striped';\n\n    return (table) => {\n        table.registerHook('afterRowRender', ({ element }) => {\n            const index = Array.from(element.parentElement.children).indexOf(element);\n            if (index % 2 === 1) {\n                element.classList.add(className);\n            }\n        });\n    };\n}\n", "/**\n * Creates a theme plugin that maps semantic keys to CSS classes.\n *\n * @param {Record<string, string>} classes\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function themePlugin(classes) {\n    return (table) => {\n        table.setThemeClasses(classes || {});\n    };\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bootstrap-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bootstrapThemePlugin() {\n    return themePlugin({\n        shell: 'border-0 rounded-0 bg-transparent',\n        controls: 'd-flex flex-wrap gap-2 align-items-center justify-content-between w-100',\n        searchWrap: 'd-inline-flex align-items-center gap-2',\n        sizeWrap: 'd-inline-flex align-items-center gap-2',\n        searchInput: 'form-control form-control-sm',\n        sizeSelect: 'form-select form-select-sm',\n        tableWrap: 'table-responsive',\n        table: 'table table-hover table-striped mb-0',\n        sortTrigger: 'btn btn-sm p-0 border-0 bg-transparent text-body fw-semibold',\n        actionHeader: 'text-body fw-semibold small',\n        columnFilter: 'form-control form-control-sm',\n        actionSelect: 'form-select form-select-sm w-auto',\n        actionButton: 'btn btn-outline-secondary btn-sm',\n        footer: 'd-flex justify-content-between align-items-center mt-2',\n        paginationGroup: 'd-inline-flex align-items-center gap-2 ms-auto',\n        firstButton: 'btn btn-outline-secondary btn-sm',\n        prevButton: 'btn btn-outline-secondary btn-sm',\n        nextButton: 'btn btn-outline-secondary btn-sm',\n        lastButton: 'btn btn-outline-secondary btn-sm',\n        expandTrigger: 'btn btn-outline-primary btn-sm',\n        editableCell: 'bg-light-subtle'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bulma-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bulmaThemePlugin() {\n    return themePlugin({\n        shell: 'is-block',\n        controls: 'level is-mobile mb-3',\n        searchWrap: 'field has-addons',\n        sizeWrap: 'field has-addons',\n        searchInput: 'input is-small',\n        sizeSelect: 'select is-small',\n        tableWrap: 'table-container',\n        table: 'table is-fullwidth is-hoverable is-striped',\n        sortTrigger: 'button is-white is-small',\n        columnFilter: 'input is-small',\n        footer: 'level mt-3',\n        paginationGroup: 'buttons are-small',\n        firstButton: 'button is-light is-small',\n        prevButton: 'button is-light is-small',\n        nextButton: 'button is-light is-small',\n        lastButton: 'button is-light is-small',\n        expandTrigger: 'button is-info is-light is-small',\n        editableCell: 'has-background-light',\n        actionButton: 'button is-small is-primary is-light',\n        actionSelect: 'select is-small',\n        actionHeader: 'has-text-weight-semibold',\n        fixedHeader: 'has-background-white-ter',\n        fixedFooter: 'has-background-white-ter'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Material UI-like utility class theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function muiThemePlugin() {\n    return themePlugin({\n        shell: 'MuiBox-root',\n        controls: 'MuiToolbar-root MuiToolbar-gutters',\n        searchWrap: 'MuiFormControl-root',\n        sizeWrap: 'MuiFormControl-root',\n        searchInput: 'MuiInputBase-input MuiInputBase-sizeSmall',\n        sizeSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n        tableWrap: 'MuiTableContainer-root',\n        table: 'MuiTable-root',\n        headerCell: 'MuiTableCell-root MuiTableCell-head',\n        bodyCell: 'MuiTableCell-root',\n        sortTrigger: 'mui-sort-trigger',\n        columnFilter: 'MuiInputBase-input MuiInputBase-sizeSmall',\n        footer: 'MuiToolbar-root MuiToolbar-gutters',\n        paginationGroup: 'MuiPagination-root',\n        firstButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        prevButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        nextButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        lastButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        expandTrigger: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        editableCell: 'MuiTableCell-editable',\n        actionButton: 'MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-sizeSmall',\n        actionSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n        actionHeader: 'MuiTableCell-root MuiTableCell-head',\n        fixedHeader: 'MuiTable-stickyHeader',\n        fixedFooter: 'MuiTableFooter-root',\n        fixedColumn: 'MuiTableCell-sticky'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Tailwind-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function tailwindThemePlugin() {\n    return themePlugin({\n        shell: 'block',\n        controls: 'flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 p-3',\n        searchWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n        sizeWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n        searchInput: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n        sizeSelect: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n        tableWrap: 'overflow-x-auto',\n        table: 'min-w-full divide-y divide-slate-200',\n        headerCell: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n        bodyRow: 'border-b border-slate-100',\n        bodyCell: 'px-3 py-2 text-sm text-slate-800',\n        sortTrigger: 'inline-flex items-center gap-1 text-xs font-semibold text-slate-700 hover:text-slate-900',\n        columnFilter: 'w-full rounded-md border border-slate-300 px-2 py-1 text-sm',\n        filterRow: 'bg-white',\n        filterHeaderCell: 'bg-white px-3 py-2',\n        footer: 'flex items-center justify-between gap-2 border-t border-slate-200 p-3',\n        paginationGroup: 'inline-flex items-center gap-2 ml-auto',\n        firstButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        prevButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        nextButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        lastButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        info: 'text-sm text-slate-600',\n        expandTrigger: 'rounded-md border border-slate-300 px-2 py-0.5 text-sm hover:bg-slate-50',\n        editableCell: 'bg-amber-50',\n        actionsCell: 'px-3 py-2',\n        actionButton: 'rounded-md border border-slate-300 px-2 py-1 text-xs hover:bg-slate-50',\n        actionSelect: 'rounded-md border border-slate-300 bg-white px-2 py-1 text-sm',\n        actionHeader: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n        emptyCell: 'px-3 py-6 text-center text-sm text-slate-500',\n        expandContent: 'bg-slate-50 px-3 py-2 text-sm text-slate-700',\n        fixedHeader: 'sticky top-0 z-10',\n        fixedFooter: 'sticky bottom-0 z-10 bg-white',\n        fixedColumn: 'bg-white'\n    });\n}\n", "/**\n * Creates a plugin that renders row actions as a compact dropdown.\n *\n * @param {{ placeholder?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function actionsDropdownPlugin(options = {}) {\n    return (table) => {\n        table.registerHook('afterRowRender', ({ element }) => {\n            const cell = element.querySelector('.vt-actions-cell');\n            if (!cell) return;\n\n            const buttons = [...cell.querySelectorAll('.vt-action-btn')];\n            if (buttons.length < 2) return;\n\n            const select = document.createElement('select');\n            select.className = table.renderer?.theme?.classOf ? table.renderer.theme.classOf('actionSelect', 'vt-action-select') : 'vt-action-select';\n\n            const placeholder = document.createElement('option');\n            placeholder.value = '';\n            placeholder.textContent = options.placeholder || 'Actions';\n            select.appendChild(placeholder);\n\n            buttons.forEach((button) => {\n                const option = document.createElement('option');\n                option.value = button.dataset.actionId || '';\n                option.textContent = button.textContent || button.dataset.actionId || '';\n                select.appendChild(option);\n            });\n\n            select.addEventListener('change', () => {\n                const id = select.value;\n                if (!id) return;\n\n                const rowId = element.dataset.rowId;\n                const row = table.findRowById(rowId);\n                const action = table.options.rowActions.find((item) => item.id === id);\n                if (action && row) {\n                    Promise.resolve(action.onClick ? action.onClick({ row, rowId, actionId: id, table, event: new Event('change') }) : null).finally(() => {\n                        table.emitEvent('row:action', { row, rowId, actionId: id });\n                        table.refresh();\n                    });\n                }\n\n                select.value = '';\n            });\n\n            cell.innerHTML = '';\n            cell.appendChild(select);\n        });\n    };\n}\n", "/**\n * Creates a REST fetch adapter.\n *\n * @param {{ endpoint: string, method?: 'GET'|'POST', headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(query: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createRestAdapter({ endpoint, method = 'GET', headers = {}, mapResponse }) {\n    return (query) => {\n        const upper = method.toUpperCase();\n        const isGet = upper === 'GET';\n\n        let url = endpoint;\n        const init = {\n            method: upper,\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers\n            }\n        };\n\n        if (isGet) {\n            const params = new URLSearchParams({ q: JSON.stringify(query) });\n            url = `${endpoint}${endpoint.includes('?') ? '&' : '?'}${params.toString()}`;\n        } else {\n            init.body = JSON.stringify(query);\n        }\n\n        return fetch(url, init)\n            .then((response) => response.json())\n            .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n    };\n}\n\n/**\n * Creates a GraphQL fetch adapter.\n *\n * @param {{ endpoint: string, query: string, variablesKey?: string, headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createGraphQLAdapter({ endpoint, query, variablesKey = 'tableQuery', headers = {}, mapResponse }) {\n    return (tableQuery) =>\n        fetch(endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers\n            },\n            body: JSON.stringify({\n                query,\n                variables: {\n                    [variablesKey]: tableQuery\n                }\n            })\n        })\n            .then((response) => response.json())\n            .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n}\n\n/**\n * Creates a cursor pagination adapter.\n *\n * @param {{ fetchPage: (args: { cursor: string | null, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }) => Promise<{ rows: any[], nextCursor: string | null, totalRows?: number }> }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createCursorAdapter({ fetchPage }) {\n    let lastCursor = null;\n\n    return (tableQuery) => {\n        if (tableQuery.page <= 1) {\n            lastCursor = null;\n        }\n\n        return Promise.resolve(\n            fetchPage({\n                cursor: lastCursor,\n                pageSize: tableQuery.pageSize,\n                searchTerm: tableQuery.searchTerm,\n                columnFilters: tableQuery.columnFilters,\n                sorts: tableQuery.sorts\n            })\n        ).then((result) => {\n            lastCursor = result.nextCursor || null;\n            return {\n                rows: result.rows || [],\n                totalRows: Number(result.totalRows || (result.rows || []).length)\n            };\n        });\n    };\n}\n"],
  "mappings": "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",
  "names": ["index_exports", "__export", "VanillaTable", "actionsDropdownPlugin", "bootstrapThemePlugin", "bulmaThemePlugin", "createCursorAdapter", "createGraphQLAdapter", "createRestAdapter", "createVanillaTable", "muiThemePlugin", "stripedRowsPlugin", "tailwindThemePlugin", "themePlugin", "defaultI18n", "defaultOptions", "defaultI18n", "page", "totalPages", "totalRows", "ShellRenderer", "root", "options", "theme", "labels", "escapeHtml", "refs", "pageSizes", "normalizePageSizeOptions", "size", "normalizePageSize", "value", "parsed", "values", "normalized", "HeaderRenderer", "options", "theme", "thead", "columns", "sortState", "columnFilters", "applyFixedColumn", "columnWidths", "columnWindow", "headRows", "sortRow", "visibleColumns", "expandHeader", "createSpacerHeader", "column", "index", "th", "baseIndex", "button", "sortIndex", "item", "sortMeta", "marker", "resizeHandle", "actionTh", "filterRow", "expandFilterHeader", "input", "row", "appendClassNames", "width", "element", "classNames", "name", "BodyRenderer", "options", "hooks", "theme", "tbody", "columns", "rows", "meta", "applyFixedColumn", "columnWindow", "visibleColumns", "fragment", "postRenderRows", "tr", "td", "renderSlice", "topSpacer", "topCell", "row", "localIndex", "index", "rowId", "appendClassNames", "expandTd", "expandButton", "createSpacerCell", "column", "columnIndex", "baseIndex", "raw", "setCellContent", "actionTd", "action", "button", "expanded", "expandedCell", "bottomSpacer", "bottomCell", "element", "keep", "key", "value", "cell", "content", "sanitizer", "html", "classNames", "name", "width", "FooterRenderer", "options", "refs", "page", "totalPages", "totalRows", "loading", "ThemeManager", "classes", "key", "base", "extra", "Renderer", "root", "options", "hooks", "ThemeManager", "ShellRenderer", "HeaderRenderer", "BodyRenderer", "FooterRenderer", "columns", "sortState", "columnFilters", "columnWidths", "columnWindow", "cell", "visualIndex", "rows", "meta", "details", "left", "i", "key", "appendClassNames", "element", "classNames", "name", "ProjectionWorkerPool", "size", "timeoutMs", "retries", "i", "slot", "rows", "data", "shardSize", "index", "start", "end", "query", "chunks", "worker", "getWorkerUrl", "event", "payload", "pending", "reject", "retriesLeft", "id", "timeoutHandle", "resolve", "onReject", "error", "onResolve", "result", "sorts", "pointers", "output", "bestChunk", "bestIndex", "pointer", "chunk", "currentIndex", "comparison", "compareRowsBySorts", "cachedWorkerUrl", "source", "leftRow", "rightRow", "sort", "leftRaw", "rightRaw", "leftNum", "rightNum", "leftFinite", "rightFinite", "leftText", "rightText", "StateStore", "rows", "pageSize", "initialSort", "parallel", "normalizePageSize", "parallelWorkers", "resolveParallelWorkers", "ProjectionWorkerPool", "searchTerm", "key", "value", "normalized", "page", "normalizePage", "additive", "maxSorts", "existingIndex", "item", "current", "sorts", "order", "width", "visible", "payload", "affectsProjection", "affectsFilters", "nextFilters", "columns", "map", "column", "ordered", "selected", "rest", "sorted", "start", "columnSet", "activeFilters", "index", "filterColumns", "term", "output", "i", "matches", "filterColumn", "row", "keys", "searchColumns", "searchColumn", "hasFilters", "hasSorts", "columnsKey", "filtered", "filtersKey", "indices", "baseRows", "matchesFilters", "matchesSearch", "rowCount", "_", "comparator", "mergeSort", "isIncrementalRefinement", "isIncrementalFilterRefinement", "sortsKey", "serializeSorts", "sourceText", "sourceNumeric", "sort", "leftSourceIndex", "rightSourceIndex", "numeric", "text", "bothNumeric", "cmp", "leftText", "rightText", "sourceComparator", "rowIndex", "leftIndex", "rightIndex", "leftSource", "rightSource", "active", "leftKey", "rightKey", "compareText", "cached", "values", "flags", "parsed", "next", "HAS_ALPHA_RE", "hasAlpha", "left", "right", "previous", "previousEntries", "nextEntries", "entry", "separator", "nextValue", "items", "compare", "size", "buffer", "middle", "end", "write", "input", "cores", "deepMerge", "base", "extra", "output", "key", "baseValue", "extraValue", "isObject", "value", "EventEmitter", "event", "callback", "list", "item", "payload", "ClientDataSource", "store", "columns", "ServerDataSource", "store", "fetchData", "onLoadingChange", "query", "response", "rows", "totalRows", "createDataSource", "options", "store", "onLoadingChange", "ServerDataSource", "ClientDataSource", "StateSync", "persistence", "urlSync", "tableId", "fromUrl", "state", "key", "raw", "parsed", "encoded", "json", "params", "next", "VanillaTable", "element", "rows", "options", "deepMerge", "defaultOptions", "page", "totalPages", "totalRows", "inferColumns", "EventEmitter", "StateStore", "initialOrder", "column", "Renderer", "createDataSource", "loading", "StateSync", "columns", "view", "row", "index", "error", "event", "applySearch", "button", "input", "trigger", "rowId", "cell", "key", "submit", "keyboardEvent", "actionButton", "actionId", "action", "item", "handle", "startX", "startWidth", "onMove", "moveEvent", "nextWidth", "onUp", "draggingKey", "th", "targetTh", "targetKey", "next", "targetIndex", "wrap", "now", "deltaTop", "deltaTime", "velocity", "boost", "urgent", "resizeHandle", "current", "delta", "currentOrder", "term", "value", "direction", "additive", "pageSize", "normalized", "editable", "width", "order", "visible", "classes", "payload", "callback", "plugin", "name", "synced", "rowHeight", "overscan", "visibleCount", "start", "end", "defaultWidth", "widths", "targetStart", "targetEnd", "acc", "firstVisible", "accEnd", "lastVisible", "leftWidth", "sum", "rightWidth", "stripedRowsPlugin", "options", "className", "table", "element", "themePlugin", "classes", "table", "bootstrapThemePlugin", "themePlugin", "bulmaThemePlugin", "themePlugin", "muiThemePlugin", "themePlugin", "tailwindThemePlugin", "themePlugin", "actionsDropdownPlugin", "options", "table", "element", "cell", "buttons", "select", "placeholder", "button", "option", "id", "rowId", "row", "action", "item", "createRestAdapter", "endpoint", "method", "headers", "mapResponse", "query", "upper", "isGet", "url", "init", "params", "response", "payload", "createGraphQLAdapter", "variablesKey", "tableQuery", "createCursorAdapter", "fetchPage", "lastCursor", "result", "createVanillaTable", "element", "rows", "options", "VanillaTable"]
}
