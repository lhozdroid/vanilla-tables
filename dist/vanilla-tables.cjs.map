{
  "version": 3,
  "sources": ["../src/index.js", "../src/i18n/default.i18n.js", "../src/core/default-options.js", "../src/core/renderers/shell-renderer.js", "../src/core/renderers/header-renderer.js", "../src/core/renderers/body-renderer.js", "../src/core/renderers/footer-renderer.js", "../src/core/themes/theme-manager.js", "../src/core/renderer.js", "../src/core/parallel/projection-worker-pool.js", "../src/core/state-store.js", "../src/utils/deep-merge.js", "../src/utils/event-emitter.js", "../src/core/data-sources/client-data-source.js", "../src/core/data-sources/server-data-source.js", "../src/core/data-sources/create-data-source.js", "../src/core/sync/state-sync.js", "../src/core/vanilla-table.js", "../src/plugins/striped-rows.js", "../src/plugins/theme-plugin.js", "../src/plugins/bootstrap-theme.js", "../src/plugins/bulma-theme.js", "../src/plugins/mui-theme.js", "../src/plugins/tailwind-theme.js", "../src/plugins/actions-dropdown.js", "../src/adapters/server-adapters.js"],
  "sourcesContent": ["import { VanillaTable } from './core/vanilla-table.js';\nimport { stripedRowsPlugin } from './plugins/striped-rows.js';\nimport { themePlugin } from './plugins/theme-plugin.js';\nimport { bootstrapThemePlugin } from './plugins/bootstrap-theme.js';\nimport { bulmaThemePlugin } from './plugins/bulma-theme.js';\nimport { muiThemePlugin } from './plugins/mui-theme.js';\nimport { tailwindThemePlugin } from './plugins/tailwind-theme.js';\nimport { actionsDropdownPlugin } from './plugins/actions-dropdown.js';\nimport { createRestAdapter, createGraphQLAdapter, createCursorAdapter } from './adapters/server-adapters.js';\n\nexport { VanillaTable, stripedRowsPlugin, themePlugin, bootstrapThemePlugin, bulmaThemePlugin, muiThemePlugin, tailwindThemePlugin, actionsDropdownPlugin, createRestAdapter, createGraphQLAdapter, createCursorAdapter };\n\n/**\n * Creates and initializes a table instance.\n *\n * @param {HTMLElement} element\n * @param {Record<string, any>[]} rows\n * @param {Record<string, any>} [options]\n * @returns {VanillaTable}\n */\nexport function createVanillaTable(element, rows, options) {\n    return new VanillaTable(element, rows, options).init();\n}\n", "export const defaultI18n = {\n    search: 'Search',\n    filter: 'Filter',\n    rows: 'Rows',\n    actions: 'Actions',\n    loading: 'Loading...',\n    empty: 'No results found',\n    pageInfo: 'Page {page} of {totalPages} ({totalRows} rows)',\n    first: 'First',\n    prev: 'Previous',\n    next: 'Next',\n    last: 'Last'\n};\n", "import { defaultI18n } from '../i18n/default.i18n.js';\n\n/**\n * Defines baseline plugin options.\n */\nexport const defaultOptions = {\n    pageSize: 10,\n    pageSizeOptions: [10, 25, 50, 100],\n    searchable: true,\n    columnFilters: true,\n    sortable: true,\n    multiSort: true,\n    maxSorts: 3,\n    pagination: true,\n    initialSort: null,\n    debounceMs: 120,\n    fixedHeader: false,\n    fixedFooter: false,\n    fixedColumns: 0,\n    fixedTopRows: 0,\n    expandableRows: false,\n    editableRows: false,\n    editableColumns: {},\n    rowIdKey: 'id',\n    serverSide: false,\n    fetchData: null,\n    virtualScroll: {\n        enabled: false,\n        rowHeight: 40,\n        overscan: 6,\n        height: 420,\n        adaptiveOverscan: true\n    },\n    virtualColumns: {\n        enabled: false,\n        width: 180,\n        overscan: 2\n    },\n    parallel: {\n        enabled: true,\n        threshold: 20000,\n        workers: 'auto',\n        timeoutMs: 4000,\n        retries: 1,\n        typedColumns: true\n    },\n    persistence: {\n        enabled: false,\n        storageKey: null\n    },\n    urlSync: {\n        enabled: false,\n        param: 'vt'\n    },\n    columnResize: true,\n    columnReorder: true,\n    rowActions: [],\n    events: {\n        debug: false\n    },\n    themeClasses: {},\n    expandRow: null,\n    sanitizeHtml: null,\n    i18n: defaultI18n,\n    labels: {\n        search: defaultI18n.search,\n        filter: defaultI18n.filter,\n        rows: defaultI18n.rows,\n        actions: defaultI18n.actions,\n        loading: defaultI18n.loading,\n        pageInfo: ({ page, totalPages, totalRows }) => defaultI18n.pageInfo.replace('{page}', String(page)).replace('{totalPages}', String(totalPages)).replace('{totalRows}', String(totalRows)),\n        empty: defaultI18n.empty,\n        first: defaultI18n.first,\n        prev: defaultI18n.prev,\n        next: defaultI18n.next,\n        last: defaultI18n.last\n    },\n    columns: []\n};\n", "/**\n * Renders static shell markup and resolves DOM references.\n */\nexport class ShellRenderer {\n    /**\n     * Creates a shell renderer instance.\n     *\n     * @param {{ root: HTMLElement, options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ root, options, theme }) {\n        /** @type {HTMLElement} */\n        this.root = root;\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n    }\n\n    /**\n     * Mounts static shell structure.\n     *\n     * @returns {Record<string, HTMLElement>}\n     */\n    mount() {\n        const labels = this.options.labels || {};\n        this.root.innerHTML = `\n      <div class=\"${this.theme.classOf('shell', 'vt-shell')}\">\n        <div class=\"${this.theme.classOf('controls', 'vt-controls')}\">\n          <label class=\"${this.theme.classOf('sizeWrap', 'vt-size-wrap')}\">\n            <span>${escapeHtml(String(labels.rows ?? ''))}</span>\n            <select class=\"${this.theme.classOf('sizeSelect', 'vt-size')}\"></select>\n          </label>\n          <label class=\"${this.theme.classOf('searchWrap', 'vt-search-wrap')}\">\n            <span>${escapeHtml(String(labels.search ?? ''))}</span>\n            <input class=\"${this.theme.classOf('searchInput', 'vt-search')}\" type=\"search\" placeholder=\"Type to filter...\" />\n          </label>\n        </div>\n        <div class=\"${this.theme.classOf('tableWrap', 'vt-table-wrap')}\" style=\"${this.options.virtualScroll.enabled ? `height:${this.options.virtualScroll.height}px;overflow:auto;` : ''}\">\n          <table class=\"${this.theme.classOf('table', 'vt-table')}\" role=\"grid\" aria-rowcount=\"-1\">\n            <thead></thead>\n            <tbody></tbody>\n          </table>\n        </div>\n        <div class=\"${this.theme.classOf('footer', 'vt-footer')} ${this.options.fixedFooter ? this.theme.classOf('fixedFooter', 'vt-fixed-footer') : ''}\">\n          <span class=\"${this.theme.classOf('info', 'vt-info')}\"></span>\n          <div class=\"${this.theme.classOf('paginationGroup', 'vt-pagination-group')}\">\n            <button class=\"${this.theme.classOf('firstButton', 'vt-page-btn vt-first')}\" type=\"button\">${escapeHtml(String(labels.first ?? ''))}</button>\n            <button class=\"${this.theme.classOf('prevButton', 'vt-page-btn vt-prev')}\" type=\"button\">${escapeHtml(String(labels.prev ?? ''))}</button>\n            <button class=\"${this.theme.classOf('nextButton', 'vt-page-btn vt-next')}\" type=\"button\">${escapeHtml(String(labels.next ?? ''))}</button>\n            <button class=\"${this.theme.classOf('lastButton', 'vt-page-btn vt-last')}\" type=\"button\">${escapeHtml(String(labels.last ?? ''))}</button>\n          </div>\n        </div>\n      </div>\n    `;\n\n        const refs = {\n            search: this.root.querySelector('.vt-search'),\n            pageSize: this.root.querySelector('.vt-size'),\n            tableWrap: this.root.querySelector('.vt-table-wrap'),\n            table: this.root.querySelector('.vt-table'),\n            thead: this.root.querySelector('thead'),\n            tbody: this.root.querySelector('tbody'),\n            info: this.root.querySelector('.vt-info'),\n            first: this.root.querySelector('.vt-first'),\n            prev: this.root.querySelector('.vt-prev'),\n            next: this.root.querySelector('.vt-next'),\n            last: this.root.querySelector('.vt-last')\n        };\n\n        const pageSizes = normalizePageSizeOptions(this.options.pageSizeOptions);\n        refs.pageSize.innerHTML = pageSizes.map((size) => `<option value=\"${size}\">${size}</option>`).join('');\n        refs.pageSize.value = String(normalizePageSize(this.options.pageSize));\n\n        if (!this.options.searchable) {\n            refs.search.closest('.vt-search-wrap').style.display = 'none';\n        }\n\n        if (!this.options.pagination) {\n            this.root.querySelector('.vt-footer').style.display = 'none';\n        }\n\n        return refs;\n    }\n}\n\n/**\n * Escapes HTML-sensitive characters.\n *\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHtml(value) {\n    return value.replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;').replaceAll('\"', '&quot;').replaceAll(\"'\", '&#039;');\n}\n\n/**\n * Normalizes one page size value.\n *\n * @param {unknown} value\n * @returns {number}\n */\nfunction normalizePageSize(value) {\n    const parsed = Number(value);\n    if (!Number.isFinite(parsed)) return 1;\n    return Math.max(1, Math.floor(parsed));\n}\n\n/**\n * Normalizes page size option list.\n *\n * @param {unknown[]} values\n * @returns {number[]}\n */\nfunction normalizePageSizeOptions(values) {\n    if (!Array.isArray(values) || !values.length) return [10, 25, 50, 100];\n    const normalized = values.map((value) => normalizePageSize(value));\n    return [...new Set(normalized)];\n}\n", "/**\n * Renders table header with sort and filter controls.\n */\nexport class HeaderRenderer {\n    /**\n     * Creates a header renderer instance.\n     *\n     * @param {{ options: Record<string, any>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ options, theme }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n    }\n\n    /**\n     * Renders header rows.\n     *\n     * @param {HTMLTableSectionElement} thead\n     * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n     * @param {Record<string, string>} columnFilters\n     * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n     * @param {Record<string, number>} columnWidths\n     * @param {{ start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean }} columnWindow\n     * @returns {void}\n     */\n    render(thead, columns, sortState, columnFilters, applyFixedColumn, columnWidths, columnWindow) {\n        const headRows = [];\n        const sortRow = document.createElement('tr');\n        sortRow.setAttribute('role', 'row');\n        const visibleColumns = columnWindow?.enabled ? columns.slice(columnWindow.start, columnWindow.end) : columns;\n\n        if (this.options.expandableRows) {\n            const expandHeader = document.createElement('th');\n            expandHeader.className = this.theme.classOf('headerCell', 'vt-header-cell');\n            sortRow.appendChild(expandHeader);\n        }\n\n        if (columnWindow?.enabled && columnWindow.leftWidth > 0) {\n            sortRow.appendChild(createSpacerHeader(columnWindow.leftWidth));\n        }\n\n        visibleColumns.forEach((column, index) => {\n            const th = document.createElement('th');\n            th.className = this.theme.classOf('headerCell', 'vt-header-cell');\n            th.dataset.key = column.key;\n            th.draggable = Boolean(this.options.columnReorder);\n            th.tabIndex = 0;\n            th.setAttribute('role', 'columnheader');\n            const baseIndex = columnWindow?.enabled ? columnWindow.start + index : index;\n            applyFixedColumn(th, baseIndex + (this.options.expandableRows ? 1 : 0));\n\n            if (columnWidths[column.key]) {\n                th.style.width = `${columnWidths[column.key]}px`;\n            }\n\n            const button = document.createElement('button');\n            button.type = 'button';\n            button.className = this.theme.classOf('sortTrigger', 'vt-sort-trigger');\n            button.dataset.key = column.key;\n\n            const sortIndex = sortState.findIndex((item) => item.key === column.key);\n            const sortMeta = sortIndex >= 0 ? sortState[sortIndex] : null;\n            const marker = sortMeta ? (sortMeta.direction === 'asc' ? ` \u25B2${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}` : ` \u25BC${sortState.length > 1 ? ` ${sortIndex + 1}` : ''}`) : '';\n\n            button.textContent = `${column.label}${marker}`;\n            button.disabled = column.sortable === false || !this.options.sortable;\n            th.setAttribute('aria-sort', sortMeta ? (sortMeta.direction === 'asc' ? 'ascending' : 'descending') : 'none');\n            th.appendChild(button);\n\n            if (this.options.columnResize) {\n                const resizeHandle = document.createElement('span');\n                resizeHandle.className = this.theme.classOf('resizeHandle', 'vt-resize-handle');\n                resizeHandle.dataset.key = column.key;\n                resizeHandle.tabIndex = 0;\n                resizeHandle.setAttribute('role', 'separator');\n                resizeHandle.setAttribute('aria-orientation', 'vertical');\n                th.appendChild(resizeHandle);\n            }\n\n            sortRow.appendChild(th);\n        });\n\n        if (columnWindow?.enabled && columnWindow.rightWidth > 0) {\n            sortRow.appendChild(createSpacerHeader(columnWindow.rightWidth));\n        }\n\n        if (this.options.rowActions.length) {\n            const actionTh = document.createElement('th');\n            actionTh.textContent = this.options.labels.actions;\n            actionTh.className = this.theme.classOf('actionHeader', 'vt-actions-header');\n            sortRow.appendChild(actionTh);\n        }\n\n        headRows.push(sortRow);\n\n        if (this.options.columnFilters) {\n            const filterRow = document.createElement('tr');\n            filterRow.className = this.theme.classOf('filterRow', 'vt-filter-row');\n            filterRow.setAttribute('role', 'row');\n\n            if (this.options.expandableRows) {\n                const expandFilterHeader = document.createElement('th');\n                expandFilterHeader.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n                filterRow.appendChild(expandFilterHeader);\n            }\n\n            if (columnWindow?.enabled && columnWindow.leftWidth > 0) {\n                filterRow.appendChild(createSpacerHeader(columnWindow.leftWidth));\n            }\n\n            visibleColumns.forEach((column, index) => {\n                const th = document.createElement('th');\n                th.className = this.theme.classOf('filterHeaderCell', 'vt-filter-header-cell');\n                const baseIndex = columnWindow?.enabled ? columnWindow.start + index : index;\n                applyFixedColumn(th, baseIndex + (this.options.expandableRows ? 1 : 0));\n                if (column.filterable === false) {\n                    filterRow.appendChild(th);\n                    return;\n                }\n\n                const input = document.createElement('input');\n                input.className = this.theme.classOf('columnFilter', 'vt-column-filter');\n                input.placeholder = `${this.options.labels.filter} ${column.label}`;\n                input.value = columnFilters[column.key] || '';\n                input.dataset.key = column.key;\n                th.appendChild(input);\n                filterRow.appendChild(th);\n            });\n\n            if (columnWindow?.enabled && columnWindow.rightWidth > 0) {\n                filterRow.appendChild(createSpacerHeader(columnWindow.rightWidth));\n            }\n\n            if (this.options.rowActions.length) {\n                filterRow.appendChild(document.createElement('th'));\n            }\n\n            headRows.push(filterRow);\n        }\n\n        thead.innerHTML = '';\n        headRows.forEach((row) => {\n            thead.appendChild(row);\n        });\n\n        if (this.options.fixedHeader) {\n            appendClassNames(thead, this.theme.classOf('fixedHeader', 'vt-fixed-header'));\n        }\n    }\n}\n\n/**\n * Creates one spacer header cell used for column virtualization.\n *\n * @param {number} width\n * @returns {HTMLTableCellElement}\n */\nfunction createSpacerHeader(width) {\n    const th = document.createElement('th');\n    th.className = 'vt-col-spacer';\n    th.style.width = `${width}px`;\n    th.style.minWidth = `${width}px`;\n    th.style.padding = '0';\n    th.style.border = 'none';\n    return th;\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n", "/**\n * Renders table body rows, expansion rows, and editable cell state.\n */\nexport class BodyRenderer {\n    /**\n     * Creates a body renderer instance.\n     *\n     * @param {{ options: Record<string, any>, hooks: Record<string, Function>, theme: import('../themes/theme-manager.js').ThemeManager }} config\n     */\n    constructor({ options, hooks, theme }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {Record<string, Function>} */\n        this.hooks = hooks;\n        /** @type {import('../themes/theme-manager.js').ThemeManager} */\n        this.theme = theme;\n        /** @type {Map<string, HTMLTableRowElement>} */\n        this.rowNodeCache = new Map();\n    }\n\n    /**\n     * Renders visible table body content.\n     *\n     * @param {HTMLTableSectionElement} tbody\n     * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n     * @param {Record<string, any>[]} rows\n     * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number } }} meta\n     * @param {(cell: HTMLElement, visualIndex: number) => void} applyFixedColumn\n     * @returns {void}\n     */\n    render(tbody, columns, rows, meta, applyFixedColumn) {\n        const columnWindow = meta.columnWindow || { enabled: false, start: 0, end: columns.length, leftWidth: 0, rightWidth: 0, totalColumns: columns.length };\n        const visibleColumns = columnWindow.enabled ? columns.slice(columnWindow.start, columnWindow.end) : columns;\n        const fragment = document.createDocumentFragment();\n        const postRenderRows = [];\n\n        if (!rows.length) {\n            const tr = document.createElement('tr');\n            tr.setAttribute('role', 'row');\n            const td = document.createElement('td');\n            td.setAttribute('role', 'gridcell');\n            td.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            td.className = this.theme.classOf('emptyCell', 'vt-empty');\n            td.textContent = this.options.labels.empty;\n            tr.appendChild(td);\n            fragment.appendChild(tr);\n            tbody.replaceChildren(fragment);\n            return;\n        }\n\n        const renderSlice = meta.virtualization.enabled ? rows.slice(meta.virtualization.start, meta.virtualization.end) : rows;\n\n        if (meta.virtualization.enabled && meta.virtualization.start > 0) {\n            const topSpacer = document.createElement('tr');\n            topSpacer.className = 'vt-virtual-top';\n            const topCell = document.createElement('td');\n            topCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            topCell.style.height = `${meta.virtualization.start * meta.virtualization.rowHeight}px`;\n            topCell.style.padding = '0';\n            topCell.style.border = 'none';\n            topSpacer.appendChild(topCell);\n            fragment.appendChild(topSpacer);\n        }\n\n        renderSlice.forEach((row, localIndex) => {\n            const index = meta.virtualization.enabled ? meta.virtualization.start + localIndex : localIndex;\n            const rowId = meta.getRowId(row, index);\n            const tr = this.rowNodeCache.get(rowId) || document.createElement('tr');\n            tr.className = this.theme.classOf('bodyRow', 'vt-row');\n            tr.dataset.rowId = rowId;\n            tr.setAttribute('role', 'row');\n            tr.replaceChildren();\n\n            if (this.options.fixedTopRows && index < this.options.fixedTopRows) {\n                appendClassNames(tr, this.theme.classOf('fixedTopRow', 'vt-fixed-top-row'));\n            }\n\n            if (this.options.expandableRows) {\n                const expandTd = document.createElement('td');\n                expandTd.className = this.theme.classOf('expandCell', 'vt-expand-cell');\n                applyFixedColumn(expandTd, 0);\n\n                const expandButton = document.createElement('button');\n                expandButton.type = 'button';\n                expandButton.className = this.theme.classOf('expandTrigger', 'vt-expand-trigger');\n                expandButton.dataset.rowId = rowId;\n                expandButton.textContent = meta.expandedRowIds.has(rowId) ? '\u2212' : '+';\n                expandButton.setAttribute('aria-expanded', String(meta.expandedRowIds.has(rowId)));\n                expandTd.appendChild(expandButton);\n                tr.appendChild(expandTd);\n            }\n\n            if (columnWindow.enabled && columnWindow.leftWidth > 0) {\n                tr.appendChild(createSpacerCell(columnWindow.leftWidth));\n            }\n\n            visibleColumns.forEach((column, columnIndex) => {\n                const td = document.createElement('td');\n                td.className = this.theme.classOf('bodyCell', 'vt-cell');\n                td.setAttribute('role', 'gridcell');\n                td.dataset.key = column.key;\n                td.dataset.rowId = rowId;\n                const baseIndex = columnWindow.enabled ? columnWindow.start + columnIndex : columnIndex;\n                applyFixedColumn(td, baseIndex + (this.options.expandableRows ? 1 : 0));\n\n                if (meta.columnWidths[column.key]) {\n                    td.style.width = `${meta.columnWidths[column.key]}px`;\n                }\n\n                const raw = row[column.key];\n                if (column.render) {\n                    setCellContent(td, column.render(raw, row), this.options.sanitizeHtml);\n                } else {\n                    td.textContent = String(raw ?? '');\n                }\n\n                const isEditable = meta.editableRows && column.editable !== false && meta.editableColumns[column.key] !== false;\n                if (isEditable) {\n                    appendClassNames(td, this.theme.classOf('editableCell', 'vt-cell-editable'));\n                }\n\n                tr.appendChild(td);\n            });\n\n            if (columnWindow.enabled && columnWindow.rightWidth > 0) {\n                tr.appendChild(createSpacerCell(columnWindow.rightWidth));\n            }\n\n            if (this.options.rowActions.length) {\n                const actionTd = document.createElement('td');\n                actionTd.className = this.theme.classOf('actionsCell', 'vt-actions-cell');\n                actionTd.setAttribute('role', 'gridcell');\n                this.options.rowActions.forEach((action) => {\n                    const button = document.createElement('button');\n                    button.type = 'button';\n                    button.className = `${this.theme.classOf('actionButton', 'vt-action-btn')} ${action.className || ''}`.trim();\n                    button.dataset.actionId = action.id;\n                    button.dataset.rowId = rowId;\n                    button.textContent = action.label;\n                    actionTd.appendChild(button);\n                });\n                tr.appendChild(actionTd);\n            }\n\n            fragment.appendChild(tr);\n            this.rowNodeCache.set(rowId, tr);\n            postRenderRows.push({ row, element: tr });\n\n            if (this.options.expandableRows && meta.expandedRowIds.has(rowId) && meta.expandRow) {\n                const expanded = document.createElement('tr');\n                expanded.className = this.theme.classOf('expandRow', 'vt-expand-row');\n                const expandedCell = document.createElement('td');\n                expandedCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + 1 + (this.options.rowActions.length ? 1 : 0);\n                expandedCell.className = this.theme.classOf('expandContent', 'vt-expand-content');\n                setCellContent(expandedCell, meta.expandRow(row), this.options.sanitizeHtml);\n                expanded.appendChild(expandedCell);\n                fragment.appendChild(expanded);\n            }\n        });\n\n        if (meta.virtualization.enabled && meta.virtualization.end < rows.length) {\n            const bottomSpacer = document.createElement('tr');\n            bottomSpacer.className = 'vt-virtual-bottom';\n            const bottomCell = document.createElement('td');\n            bottomCell.colSpan = visibleColumns.length + (columnWindow.enabled ? 2 : 0) + (this.options.expandableRows ? 1 : 0) + (this.options.rowActions.length ? 1 : 0);\n            bottomCell.style.height = `${(rows.length - meta.virtualization.end) * meta.virtualization.rowHeight}px`;\n            bottomCell.style.padding = '0';\n            bottomCell.style.border = 'none';\n            bottomSpacer.appendChild(bottomCell);\n            fragment.appendChild(bottomSpacer);\n        }\n\n        tbody.replaceChildren(fragment);\n        postRenderRows.forEach(({ row, element }) => {\n            this.hooks.afterRowRender?.({ row, element });\n        });\n        this.trimRowCache();\n    }\n\n    /**\n     * Clears stale cached row elements to bound memory growth.\n     *\n     * @returns {void}\n     */\n    trimRowCache() {\n        if (this.rowNodeCache.size <= 2000) return;\n        const keep = new Map();\n        for (const [key, value] of this.rowNodeCache.entries()) {\n            if (keep.size >= 1000) break;\n            keep.set(key, value);\n        }\n        this.rowNodeCache = keep;\n    }\n}\n\n/**\n * Sets cell content using optional sanitization for HTML string values.\n *\n * @param {HTMLElement} cell\n * @param {string | Node | null | undefined} content\n * @param {((html: string) => string) | null | undefined} sanitizer\n * @returns {void}\n */\nfunction setCellContent(cell, content, sanitizer) {\n    if (content instanceof Node) {\n        cell.replaceChildren(content);\n        return;\n    }\n\n    const html = String(content ?? '');\n    if (typeof sanitizer === 'function') {\n        cell.innerHTML = sanitizer(html);\n        return;\n    }\n\n    cell.innerHTML = html;\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n\n/**\n * Creates one body spacer cell for virtualized columns.\n *\n * @param {number} width\n * @returns {HTMLTableCellElement}\n */\nfunction createSpacerCell(width) {\n    const td = document.createElement('td');\n    td.className = 'vt-col-spacer';\n    td.style.width = `${width}px`;\n    td.style.minWidth = `${width}px`;\n    td.style.padding = '0';\n    td.style.border = 'none';\n    return td;\n}\n", "/**\n * Renders footer pagination summary and control state.\n */\nexport class FooterRenderer {\n    /**\n     * Creates a footer renderer instance.\n     *\n     * @param {{ options: Record<string, any> }} config\n     */\n    constructor({ options }) {\n        /** @type {Record<string, any>} */\n        this.options = options;\n    }\n\n    /**\n     * Renders footer state.\n     *\n     * @param {{ info: HTMLElement, first: HTMLButtonElement, prev: HTMLButtonElement, next: HTMLButtonElement, last: HTMLButtonElement }} refs\n     * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n     * @returns {void}\n     */\n    render(refs, { page, totalPages, totalRows, loading }) {\n        refs.info.textContent = loading ? this.options.labels.loading : this.options.labels.pageInfo({ page, totalPages, totalRows });\n        refs.first.disabled = Boolean(loading) || page <= 1;\n        refs.prev.disabled = Boolean(loading) || page <= 1;\n        refs.next.disabled = Boolean(loading) || page >= totalPages;\n        refs.last.disabled = Boolean(loading) || page >= totalPages;\n    }\n}\n", "/**\n * Resolves theme class names from semantic keys.\n */\nexport class ThemeManager {\n    /**\n     * Creates a theme manager instance.\n     *\n     * @param {Record<string, string>} classes\n     */\n    constructor(classes = {}) {\n        /** @type {Record<string, string>} */\n        this.classes = classes;\n    }\n\n    /**\n     * Replaces stored theme classes.\n     *\n     * @param {Record<string, string>} classes\n     * @returns {void}\n     */\n    setClasses(classes) {\n        this.classes = classes || {};\n    }\n\n    /**\n     * Returns composed class names for a semantic key.\n     *\n     * @param {string} key\n     * @param {string} base\n     * @returns {string}\n     */\n    classOf(key, base) {\n        const extra = this.classes?.[key];\n        return extra ? `${base} ${extra}` : base;\n    }\n}\n", "import { ShellRenderer } from './renderers/shell-renderer.js';\nimport { HeaderRenderer } from './renderers/header-renderer.js';\nimport { BodyRenderer } from './renderers/body-renderer.js';\nimport { FooterRenderer } from './renderers/footer-renderer.js';\nimport { ThemeManager } from './themes/theme-manager.js';\n\n/**\n * Coordinates specialized renderers for shell, header, body, and footer.\n */\nexport class Renderer {\n    /**\n     * Creates a renderer instance.\n     *\n     * @param {{ root: HTMLElement, options: Record<string, any>, hooks: Record<string, Function> }} config\n     */\n    constructor({ root, options, hooks }) {\n        /** @type {HTMLElement} */\n        this.root = root;\n        /** @type {Record<string, any>} */\n        this.options = options;\n        /** @type {Record<string, Function>} */\n        this.hooks = hooks;\n        /** @type {Record<string, HTMLElement>} */\n        this.refs = {};\n\n        /** @type {ThemeManager} */\n        this.theme = new ThemeManager(this.options.themeClasses);\n        /** @type {ShellRenderer} */\n        this.shellRenderer = new ShellRenderer({ root: this.root, options: this.options, theme: this.theme });\n        /** @type {HeaderRenderer} */\n        this.headerRenderer = new HeaderRenderer({ options: this.options, theme: this.theme });\n        /** @type {BodyRenderer} */\n        this.bodyRenderer = new BodyRenderer({ options: this.options, hooks: this.hooks, theme: this.theme });\n        /** @type {FooterRenderer} */\n        this.footerRenderer = new FooterRenderer({ options: this.options });\n    }\n\n    /**\n     * Updates renderer options.\n     *\n     * @param {Record<string, any>} options\n     * @returns {void}\n     */\n    setOptions(options) {\n        this.options = options;\n        this.theme.setClasses(this.options.themeClasses);\n        this.shellRenderer.options = this.options;\n        this.headerRenderer.options = this.options;\n        this.bodyRenderer.options = this.options;\n        this.footerRenderer.options = this.options;\n    }\n\n    /**\n     * Mounts the base table shell.\n     *\n     * @returns {void}\n     */\n    mount() {\n        this.refs = this.shellRenderer.mount();\n    }\n\n    /**\n     * Renders header content.\n     *\n     * @param {{ key: string, label: string, sortable?: boolean, filterable?: boolean }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sortState\n     * @param {Record<string, string>} columnFilters\n     * @param {Record<string, number>} columnWidths\n     * @param {{ start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean }} columnWindow\n     * @returns {void}\n     */\n    renderHeader(columns, sortState, columnFilters, columnWidths, columnWindow) {\n        this.headerRenderer.render(\n            this.refs.thead,\n            columns,\n            sortState,\n            columnFilters,\n            (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, columnWidths),\n            columnWidths,\n            columnWindow\n        );\n    }\n\n    /**\n     * Renders body content.\n     *\n     * @param {{ key: string, render?: (value: any, row: Record<string, any>) => string, editable?: boolean }[]} columns\n     * @param {Record<string, any>[]} rows\n     * @param {{ expandedRowIds: Set<string>, getRowId: (row: Record<string, any>, index: number) => string, expandRow: ((row: Record<string, any>) => string) | null, editableRows: boolean, editableColumns: Record<string, boolean>, columnWidths: Record<string, number>, virtualization: { enabled: boolean, start: number, end: number, rowHeight: number }, columnWindow: { start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number, enabled: boolean } }} meta\n     * @returns {void}\n     */\n    renderBody(columns, rows, meta) {\n        this.bodyRenderer.render(this.refs.tbody, columns, rows, meta, (cell, visualIndex) => this.applyFixedColumn(cell, visualIndex, columns, meta.columnWidths));\n    }\n\n    /**\n     * Renders footer content.\n     *\n     * @param {{ page: number, totalPages: number, totalRows: number, loading?: boolean }} details\n     * @returns {void}\n     */\n    renderFooter(details) {\n        this.footerRenderer.render(\n            {\n                info: this.refs.info,\n                first: this.refs.first,\n                prev: this.refs.prev,\n                next: this.refs.next,\n                last: this.refs.last\n            },\n            details\n        );\n    }\n\n    /**\n     * Applies sticky positioning for fixed columns.\n     *\n     * @param {HTMLElement} cell\n     * @param {number} visualIndex\n     * @param {{ key: string }[]} columns\n     * @param {Record<string, number>} columnWidths\n     * @returns {void}\n     */\n    applyFixedColumn(cell, visualIndex, columns, columnWidths) {\n        if (!this.options.fixedColumns || visualIndex >= this.options.fixedColumns) {\n            return;\n        }\n\n        let left = 0;\n        for (let i = 0; i < visualIndex; i += 1) {\n            const key = columns[i]?.key;\n            left += key && columnWidths[key] ? columnWidths[key] : 180;\n        }\n\n        cell.style.position = 'sticky';\n        cell.style.left = `${left}px`;\n        cell.style.zIndex = '2';\n        appendClassNames(cell, this.theme.classOf('fixedColumn', 'vt-fixed-column'));\n    }\n}\n\n/**\n * Appends one or more class tokens to an element.\n *\n * @param {HTMLElement} element\n * @param {string} classNames\n * @returns {void}\n */\nfunction appendClassNames(element, classNames) {\n    classNames\n        .split(/\\s+/)\n        .filter(Boolean)\n        .forEach((name) => {\n            element.classList.add(name);\n        });\n}\n", "/**\n * Executes filter/search/sort projections across worker shards.\n */\nexport class ProjectionWorkerPool {\n    /**\n     * Creates a worker pool instance.\n     *\n     * @param {{ size: number, timeoutMs?: number, retries?: number }} config\n     */\n    constructor({ size, timeoutMs, retries }) {\n        /** @type {number} */\n        this.size = Math.max(1, Number(size || 1));\n        /** @type {{ worker: Worker }[]} */\n        this.workers = [];\n        /** @type {Map<number, { resolve: (value: any) => void, reject: (reason: any) => void }>} */\n        this.pending = new Map();\n        /** @type {number} */\n        this.nextId = 1;\n        /** @type {number} */\n        this.timeoutMs = Math.max(50, Number(timeoutMs || 4000));\n        /** @type {number} */\n        this.retries = Math.max(0, Math.floor(Number(retries || 1)));\n        /** @type {Record<string, any>[]} */\n        this.rows = [];\n\n        for (let i = 0; i < this.size; i += 1) {\n            this.workers.push({ worker: this.createWorker() });\n        }\n    }\n\n    /**\n     * Terminates all worker instances.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        for (const slot of this.workers) {\n            slot.worker.terminate();\n        }\n        this.workers = [];\n        this.pending.clear();\n    }\n\n    /**\n     * Distributes rows across workers.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {Promise<void>}\n     */\n    setRows(rows) {\n        const data = Array.isArray(rows) ? rows : [];\n        this.rows = data;\n        const shardSize = Math.ceil((data.length || 1) / this.workers.length);\n\n        return Promise.all(\n            this.workers.map((slot, index) => {\n                const start = index * shardSize;\n                const end = Math.min(start + shardSize, data.length);\n                return this.runTask(slot.worker, {\n                    type: 'setRows',\n                    rows: data.slice(start, end),\n                    offset: start\n                }).then(() => {});\n            })\n        ).then(() => {});\n    }\n\n    /**\n     * Computes filtered/sorted row indices using worker shards.\n     *\n     * @param {{ keys: string[], searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }} query\n     * @returns {Promise<number[]>}\n     */\n    project(query) {\n        return Promise.all(\n            this.workers.map((slot) =>\n                this.runTask(slot.worker, {\n                    type: 'project',\n                    keys: query.keys,\n                    searchTerm: query.searchTerm,\n                    columnFilters: query.columnFilters,\n                    sorts: query.sorts\n                })\n            )\n        ).then((chunks) => this.mergeChunks(chunks, query.sorts));\n    }\n\n    /**\n     * Creates one worker with inline projection logic.\n     *\n     * @returns {Worker}\n     */\n    createWorker() {\n        const worker = new Worker(getWorkerUrl());\n        worker.onmessage = (event) => {\n            const payload = event.data || {};\n            const pending = this.pending.get(payload.id);\n            if (!pending) return;\n\n            this.pending.delete(payload.id);\n            if (payload.error) {\n                pending.reject(new Error(payload.error));\n                return;\n            }\n            pending.resolve(payload.result);\n        };\n        worker.onerror = () => {\n            this.pending.forEach(({ reject }) => reject(new Error('projection worker failed')));\n            this.pending.clear();\n        };\n        return worker;\n    }\n\n    /**\n     * Runs one task on a worker and resolves by task id.\n     *\n     * @param {Worker} worker\n     * @param {Record<string, any>} payload\n     * @returns {Promise<any>}\n     */\n    runTask(worker, payload) {\n        return this.runTaskAttempt(worker, payload, this.retries);\n    }\n\n    /**\n     * Runs one task with retry and timeout guards.\n     *\n     * @param {Worker} worker\n     * @param {Record<string, any>} payload\n     * @param {number} retriesLeft\n     * @returns {Promise<any>}\n     */\n    runTaskAttempt(worker, payload, retriesLeft) {\n        const id = this.nextId;\n        this.nextId += 1;\n        let timeoutHandle;\n\n        return new Promise((resolve, reject) => {\n            const onReject = (error) => {\n                clearTimeout(timeoutHandle);\n                if (retriesLeft > 0) {\n                    this.runTaskAttempt(worker, payload, retriesLeft - 1)\n                        .then(resolve)\n                        .catch(reject);\n                    return;\n                }\n                reject(error);\n            };\n\n            const onResolve = (result) => {\n                clearTimeout(timeoutHandle);\n                resolve(result);\n            };\n\n            this.pending.set(id, { resolve: onResolve, reject: onReject });\n            timeoutHandle = setTimeout(() => {\n                this.pending.delete(id);\n                onReject(new Error(`projection worker timeout after ${this.timeoutMs}ms`));\n            }, this.timeoutMs);\n            worker.postMessage({\n                ...payload,\n                id\n            });\n        });\n    }\n\n    /**\n     * Merges per-shard result chunks into one globally ordered index array.\n     *\n     * @param {number[][]} chunks\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @returns {number[]}\n     */\n    mergeChunks(chunks, sorts) {\n        if (!Array.isArray(chunks) || !chunks.length) return [];\n        if (!Array.isArray(sorts) || !sorts.length) return chunks.flat();\n\n        const pointers = new Int32Array(chunks.length);\n        const output = [];\n\n        while (true) {\n            let bestChunk = -1;\n            let bestIndex = -1;\n\n            for (let i = 0; i < chunks.length; i += 1) {\n                const pointer = pointers[i];\n                const chunk = chunks[i];\n                if (pointer >= chunk.length) continue;\n\n                const currentIndex = chunk[pointer];\n                if (bestChunk === -1) {\n                    bestChunk = i;\n                    bestIndex = currentIndex;\n                    continue;\n                }\n\n                const comparison = compareRowsBySorts(this.rows[currentIndex], this.rows[bestIndex], sorts);\n                if (comparison < 0 || (comparison === 0 && currentIndex < bestIndex)) {\n                    bestChunk = i;\n                    bestIndex = currentIndex;\n                }\n            }\n\n            if (bestChunk === -1) break;\n            output.push(bestIndex);\n            pointers[bestChunk] += 1;\n        }\n\n        return output;\n    }\n}\n\n/** @type {string | null} */\nlet cachedWorkerUrl = null;\n\n/**\n * Returns a blob URL for the projection worker implementation.\n *\n * @returns {string}\n */\nfunction getWorkerUrl() {\n    if (cachedWorkerUrl) return cachedWorkerUrl;\n\n    const source = `\n    const toText = (value) => String(value ?? '').toLowerCase();\n\n    let rows = [];\n    let offset = 0;\n    let textColumns = new Map();\n    let numericColumns = new Map();\n\n    const getTextColumn = (key) => {\n      if (textColumns.has(key)) return textColumns.get(key);\n      const values = new Array(rows.length);\n      for (let i = 0; i < rows.length; i += 1) {\n        values[i] = toText(rows[i] && rows[i][key]);\n      }\n      textColumns.set(key, values);\n      return values;\n    };\n\n    const getNumericColumn = (key) => {\n      if (numericColumns.has(key)) return numericColumns.get(key);\n      const values = new Float64Array(rows.length);\n      const flags = new Uint8Array(rows.length);\n      for (let i = 0; i < rows.length; i += 1) {\n        const parsed = Number(rows[i] && rows[i][key]);\n        if (Number.isFinite(parsed)) {\n          values[i] = parsed;\n          flags[i] = 1;\n        }\n      }\n      const output = { values, flags };\n      numericColumns.set(key, output);\n      return output;\n    };\n\n    self.onmessage = (event) => {\n      const data = event.data || {};\n\n      try {\n        if (data.type === 'setRows') {\n          rows = Array.isArray(data.rows) ? data.rows : [];\n          offset = Number(data.offset || 0);\n          textColumns = new Map();\n          numericColumns = new Map();\n          self.postMessage({ id: data.id, result: true });\n          return;\n        }\n\n        if (data.type === 'project') {\n          const keys = Array.isArray(data.keys) ? data.keys : [];\n          const searchTerm = toText(data.searchTerm || '');\n          const sorts = Array.isArray(data.sorts) ? data.sorts : [];\n          const filters = data.columnFilters && typeof data.columnFilters === 'object'\n            ? data.columnFilters\n            : {};\n          const filterEntries = Object.entries(filters);\n          const output = [];\n          const textByKey = new Map();\n          const numericByKey = new Map();\n          const getText = (key) => {\n            if (textByKey.has(key)) return textByKey.get(key);\n            const values = getTextColumn(key);\n            textByKey.set(key, values);\n            return values;\n          };\n          const getNumeric = (key) => {\n            if (numericByKey.has(key)) return numericByKey.get(key);\n            const values = getNumericColumn(key);\n            numericByKey.set(key, values);\n            return values;\n          };\n\n          for (let i = 0; i < rows.length; i += 1) {\n            let matchesFilters = true;\n\n            for (const [key, term] of filterEntries) {\n              if (!getText(key)[i].includes(toText(term))) {\n                matchesFilters = false;\n                break;\n              }\n            }\n            if (!matchesFilters) continue;\n\n            if (!searchTerm) {\n              output.push(offset + i);\n              continue;\n            }\n\n            let matchesSearch = false;\n            for (const key of keys) {\n              if (getText(key)[i].includes(searchTerm)) {\n                matchesSearch = true;\n                break;\n              }\n            }\n            if (matchesSearch) output.push(offset + i);\n          }\n\n          if (sorts.length > 0) {\n            output.sort((leftIndex, rightIndex) => {\n              const leftRowIndex = leftIndex - offset;\n              const rightRowIndex = rightIndex - offset;\n              for (const sort of sorts) {\n                const numeric = getNumeric(sort.key);\n                const text = getText(sort.key);\n                let cmp = 0;\n                const bothNumeric = numeric.flags[leftRowIndex] && numeric.flags[rightRowIndex];\n                if (bothNumeric) {\n                  cmp = numeric.values[leftRowIndex] - numeric.values[rightRowIndex];\n                } else {\n                  const leftText = text[leftRowIndex];\n                  const rightText = text[rightRowIndex];\n                  if (leftText < rightText) cmp = -1;\n                  else if (leftText > rightText) cmp = 1;\n                }\n\n                if (cmp !== 0) return sort.direction === 'desc' ? -cmp : cmp;\n              }\n              return leftIndex - rightIndex;\n            });\n          }\n\n          self.postMessage({ id: data.id, result: output });\n          return;\n        }\n\n        self.postMessage({ id: data.id, result: null });\n      } catch (error) {\n        self.postMessage({ id: data.id, error: error && error.message ? error.message : 'worker error' });\n      }\n    };\n  `;\n\n    cachedWorkerUrl = URL.createObjectURL(new Blob([source], { type: 'application/javascript' }));\n    return cachedWorkerUrl;\n}\n\n/**\n * Compares two rows by sort definitions.\n *\n * @param {Record<string, any>} leftRow\n * @param {Record<string, any>} rightRow\n * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n * @returns {number}\n */\nfunction compareRowsBySorts(leftRow, rightRow, sorts) {\n    for (const sort of sorts) {\n        const leftRaw = leftRow?.[sort.key];\n        const rightRaw = rightRow?.[sort.key];\n        const leftNum = Number(leftRaw);\n        const rightNum = Number(rightRaw);\n        const leftFinite = Number.isFinite(leftNum);\n        const rightFinite = Number.isFinite(rightNum);\n\n        let comparison = 0;\n        if (leftFinite && rightFinite) {\n            comparison = leftNum - rightNum;\n        } else {\n            const leftText = String(leftRaw ?? '').toLowerCase();\n            const rightText = String(rightRaw ?? '').toLowerCase();\n            if (leftText < rightText) comparison = -1;\n            else if (leftText > rightText) comparison = 1;\n        }\n\n        if (comparison !== 0) {\n            return sort.direction === 'desc' ? -comparison : comparison;\n        }\n    }\n\n    return 0;\n}\n", "import { ProjectionWorkerPool } from './parallel/projection-worker-pool.js';\n\n/**\n * Stores and computes table state projections.\n */\nexport class StateStore {\n    /**\n     * Creates a state store.\n     *\n     * @param {{ rows: Record<string, any>[], pageSize: number, initialSort: { key: string, direction?: 'asc'|'desc' } | null, parallel?: { enabled?: boolean, threshold?: number, workers?: number|'auto', timeoutMs?: number, retries?: number } }} config\n     */\n    constructor({ rows, pageSize, initialSort, parallel }) {\n        /** @type {Record<string, any>[]} */\n        this.rows = rows;\n        /** @type {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }} */\n        this.state = {\n            page: 1,\n            pageSize: normalizePageSize(pageSize),\n            searchTerm: '',\n            columnFilters: {},\n            sorts: initialSort ? [{ key: initialSort.key, direction: initialSort.direction || 'asc' }] : [],\n            columnOrder: [],\n            columnWidths: {},\n            columnVisibility: {}\n        };\n\n        /** @type {number} */\n        this.rowsVersion = 0;\n        /** @type {number} */\n        this.revision = 0;\n        /** @type {{ rowsVersion: number, columnsKey: string, searchTerm: string, filtersKey: string, rows: Record<string, any>[] } | null} */\n        this.filterCache = null;\n        /** @type {{ rowsVersion: number, columnsKey: string, sortsKey: string, comparator: (left: number, right: number) => number, sourceText: Map<string, string[]>, sourceNumeric: Map<string, { values: Float64Array, flags: Uint8Array }> } | null} */\n        this.sortComparatorCache = null;\n        /** @type {{ revision: number, columnsKey: string, rows: Record<string, any>[] } | null} */\n        this.projectionCache = null;\n        /** @type {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> } | null} */\n        this.columnIndexCache = null;\n        const parallelWorkers = resolveParallelWorkers(parallel?.workers);\n        /** @type {{ enabled: boolean, threshold: number, workers: number, timeoutMs: number, retries: number }} */\n        this.parallel = {\n            enabled: parallel?.enabled !== false,\n            threshold: Math.max(1000, Number(parallel?.threshold ?? 20000)),\n            workers: parallelWorkers,\n            timeoutMs: Math.max(50, Number(parallel?.timeoutMs ?? 4000)),\n            retries: Math.max(0, Math.floor(Number(parallel?.retries ?? 1)))\n        };\n        /** @type {ProjectionWorkerPool | null} */\n        this.projectionWorkerPool = null;\n        /** @type {Promise<void>} */\n        this.projectionWorkerReady = Promise.resolve();\n\n        if (this.parallel.enabled && typeof Worker !== 'undefined') {\n            this.projectionWorkerPool = new ProjectionWorkerPool({\n                size: this.parallel.workers,\n                timeoutMs: this.parallel.timeoutMs,\n                retries: this.parallel.retries\n            });\n            this.projectionWorkerReady = this.projectionWorkerPool.setRows(this.rows).catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n            });\n        }\n    }\n\n    /**\n     * Sets the full rows array.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {void}\n     */\n    setRows(rows) {\n        this.rows = Array.isArray(rows) ? rows : [];\n        this.rowsVersion += 1;\n        this.invalidateFiltersAndProjection();\n        this.columnIndexCache = null;\n        this.syncWorkerRows();\n    }\n\n    /**\n     * Sets the global search term.\n     *\n     * @param {string} searchTerm\n     * @returns {void}\n     */\n    setSearchTerm(searchTerm) {\n        this.state.searchTerm = (searchTerm || '').toLowerCase().trim();\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Sets a per-column filter term.\n     *\n     * @param {string} key\n     * @param {string} value\n     * @returns {void}\n     */\n    setColumnFilter(key, value) {\n        const normalized = (value || '').toLowerCase().trim();\n        if (!normalized) {\n            delete this.state.columnFilters[key];\n        } else {\n            this.state.columnFilters[key] = normalized;\n        }\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Clears all active filters.\n     *\n     * @returns {void}\n     */\n    clearFilters() {\n        this.state.searchTerm = '';\n        this.state.columnFilters = {};\n        this.state.page = 1;\n        this.invalidateFiltersAndProjection();\n    }\n\n    /**\n     * Sets the active page index.\n     *\n     * @param {number} page\n     * @returns {void}\n     */\n    setPage(page) {\n        this.state.page = normalizePage(page);\n    }\n\n    /**\n     * Sets the page size and resets pagination.\n     *\n     * @param {number} pageSize\n     * @returns {void}\n     */\n    setPageSize(pageSize) {\n        this.state.pageSize = normalizePageSize(pageSize);\n        this.state.page = 1;\n    }\n\n    /**\n     * Toggles column sort direction.\n     *\n     * @param {string} key\n     * @param {boolean} additive\n     * @param {number} maxSorts\n     * @returns {void}\n     */\n    toggleSort(key, additive, maxSorts) {\n        const existingIndex = this.state.sorts.findIndex((item) => item.key === key);\n\n        if (!additive) {\n            if (existingIndex === -1) {\n                this.state.sorts = [{ key, direction: 'asc' }];\n            } else {\n                const current = this.state.sorts[existingIndex];\n                this.state.sorts = [{ key, direction: current.direction === 'asc' ? 'desc' : 'asc' }];\n            }\n            this.invalidateProjection();\n            return;\n        }\n\n        if (existingIndex === -1) {\n            this.state.sorts.push({ key, direction: 'asc' });\n            if (this.state.sorts.length > maxSorts) {\n                this.state.sorts.shift();\n            }\n            this.invalidateProjection();\n            return;\n        }\n\n        const current = this.state.sorts[existingIndex];\n        this.state.sorts[existingIndex] = {\n            key,\n            direction: current.direction === 'asc' ? 'desc' : 'asc'\n        };\n        this.invalidateProjection();\n    }\n\n    /**\n     * Sets absolute sort state.\n     *\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @returns {void}\n     */\n    setSorts(sorts) {\n        this.state.sorts = Array.isArray(sorts) ? sorts : [];\n        this.state.page = 1;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Clears active sorts.\n     *\n     * @returns {void}\n     */\n    clearSorts() {\n        this.state.sorts = [];\n        this.state.page = 1;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Sets ordered column keys.\n     *\n     * @param {string[]} order\n     * @returns {void}\n     */\n    setColumnOrder(order) {\n        this.state.columnOrder = Array.isArray(order) ? [...order] : [];\n    }\n\n    /**\n     * Sets one column width in pixels.\n     *\n     * @param {string} key\n     * @param {number} width\n     * @returns {void}\n     */\n    setColumnWidth(key, width) {\n        const normalized = Math.max(60, Math.round(width || 0));\n        this.state.columnWidths[key] = normalized;\n    }\n\n    /**\n     * Sets column visibility by key.\n     *\n     * @param {string} key\n     * @param {boolean} visible\n     * @returns {void}\n     */\n    setColumnVisibility(key, visible) {\n        this.state.columnVisibility[key] = Boolean(visible);\n    }\n\n    /**\n     * Applies a state payload.\n     *\n     * @param {Partial<{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }>} payload\n     * @returns {void}\n     */\n    setState(payload) {\n        if (!payload) return;\n        let affectsProjection = false;\n        let affectsFilters = false;\n        if (typeof payload.page === 'number') this.state.page = normalizePage(payload.page);\n        if (typeof payload.pageSize === 'number') this.state.pageSize = normalizePageSize(payload.pageSize);\n        if (typeof payload.searchTerm === 'string') {\n            this.state.searchTerm = payload.searchTerm.toLowerCase().trim();\n            affectsProjection = true;\n            affectsFilters = true;\n        }\n        if (payload.columnFilters && typeof payload.columnFilters === 'object') {\n            const nextFilters = {};\n            for (const [key, value] of Object.entries(payload.columnFilters)) {\n                const normalized = String(value ?? '')\n                    .toLowerCase()\n                    .trim();\n                if (normalized) {\n                    nextFilters[key] = normalized;\n                }\n            }\n            this.state.columnFilters = nextFilters;\n            affectsProjection = true;\n            affectsFilters = true;\n        }\n        if (Array.isArray(payload.sorts)) {\n            this.state.sorts = [...payload.sorts];\n            affectsProjection = true;\n        }\n        if (Array.isArray(payload.columnOrder)) this.state.columnOrder = [...payload.columnOrder];\n        if (payload.columnWidths && typeof payload.columnWidths === 'object') {\n            this.state.columnWidths = { ...payload.columnWidths };\n        }\n        if (payload.columnVisibility && typeof payload.columnVisibility === 'object') {\n            this.state.columnVisibility = { ...payload.columnVisibility };\n        }\n        if (affectsFilters) {\n            this.invalidateFiltersAndProjection();\n        } else if (affectsProjection) {\n            this.invalidateProjection();\n        }\n    }\n\n    /**\n     * Returns serializable state.\n     *\n     * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[], columnOrder: string[], columnWidths: Record<string, number>, columnVisibility: Record<string, boolean> }}\n     */\n    getState() {\n        return {\n            page: this.state.page,\n            pageSize: this.state.pageSize,\n            searchTerm: this.state.searchTerm,\n            columnFilters: { ...this.state.columnFilters },\n            sorts: [...this.state.sorts],\n            columnOrder: [...this.state.columnOrder],\n            columnWidths: { ...this.state.columnWidths },\n            columnVisibility: { ...this.state.columnVisibility }\n        };\n    }\n\n    /**\n     * Returns ordered columns based on current state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ key: string }[]}\n     */\n    getOrderedColumns(columns) {\n        if (!this.state.columnOrder.length) return columns;\n\n        const map = new Map(columns.map((column) => [column.key, column]));\n        const ordered = this.state.columnOrder.map((key) => map.get(key)).filter(Boolean);\n        const selected = new Set(ordered.map((column) => column.key));\n        const rest = columns.filter((column) => !selected.has(column.key));\n        return [...ordered, ...rest];\n    }\n\n    /**\n     * Returns visible columns based on visibility map.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ key: string }[]}\n     */\n    getVisibleColumns(columns) {\n        return columns.filter((column) => this.state.columnVisibility[column.key] !== false);\n    }\n\n    /**\n     * Returns query payload for server-side fetches.\n     *\n     * @returns {{ page: number, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }}\n     */\n    getQuery() {\n        return {\n            page: this.state.page,\n            pageSize: this.state.pageSize,\n            searchTerm: this.state.searchTerm,\n            columnFilters: { ...this.state.columnFilters },\n            sorts: [...this.state.sorts]\n        };\n    }\n\n    /**\n     * Returns rows visible for the current state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n     */\n    getVisibleRows(columns) {\n        const sorted = this.getProjectedRows(columns);\n        const { page, pageSize } = this.state;\n        const start = (page - 1) * pageSize;\n        return {\n            rows: sorted.slice(start, start + pageSize),\n            totalRows: sorted.length,\n            totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n        };\n    }\n\n    /**\n     * Returns rows visible for the current state, using worker projection when enabled.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getVisibleRowsAsync(columns) {\n        return this.getProjectedRowsAsync(columns).then((sorted) => {\n            const { page, pageSize } = this.state;\n            const start = (page - 1) * pageSize;\n            return {\n                rows: sorted.slice(start, start + pageSize),\n                totalRows: sorted.length,\n                totalPages: Math.max(1, Math.ceil(sorted.length / pageSize))\n            };\n        });\n    }\n\n    /**\n     * Filters rows using column-level filters.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applyColumnFilters(rows, columns) {\n        const columnSet = new Set(columns.map((item) => item.key));\n        const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n        if (!activeFilters.length) return rows;\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const filterColumns = activeFilters.map(([key, term]) => ({\n                term,\n                text: this.getIndexedText(index, key)\n            }));\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matches = true;\n                for (const filterColumn of filterColumns) {\n                    if (!filterColumn.text[i].includes(filterColumn.term)) {\n                        matches = false;\n                        break;\n                    }\n                }\n                if (matches) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matches = true;\n            for (const [key, term] of activeFilters) {\n                if (\n                    !String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(term)\n                ) {\n                    matches = false;\n                    break;\n                }\n            }\n            if (matches) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Filters rows using a case-insensitive contains match.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySearch(rows, columns) {\n        if (!this.state.searchTerm) return rows;\n\n        const keys = columns.map((column) => column.key);\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const searchKeys = this.getSearchableKeys(index, keys, this.state.searchTerm);\n            const searchColumns = searchKeys.map((key) => this.getIndexedText(index, key));\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matches = false;\n                for (const searchColumn of searchColumns) {\n                    if (searchColumn[i].includes(this.state.searchTerm)) {\n                        matches = true;\n                        break;\n                    }\n                }\n                if (matches) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matches = false;\n            for (const key of keys) {\n                if (\n                    String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(this.state.searchTerm)\n                ) {\n                    matches = true;\n                    break;\n                }\n            }\n            if (matches) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Sorts rows by the active sort configuration.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySort(rows, columns) {\n        return this.applySortWithCache(rows, columns);\n    }\n\n    /**\n     * Invalidates cached row projections.\n     *\n     * @returns {void}\n     */\n    invalidateProjection() {\n        this.revision += 1;\n        this.projectionCache = null;\n        this.sortComparatorCache = null;\n    }\n\n    /**\n     * Invalidates cached filtered and projected rows.\n     *\n     * @returns {void}\n     */\n    invalidateFiltersAndProjection() {\n        this.filterCache = null;\n        this.invalidateProjection();\n    }\n\n    /**\n     * Syncs worker shards with current source rows.\n     *\n     * @returns {void}\n     */\n    syncWorkerRows() {\n        if (!this.projectionWorkerPool) return;\n\n        this.projectionWorkerReady = this.projectionWorkerPool.setRows(this.rows).catch(() => {\n            this.projectionWorkerPool?.destroy();\n            this.projectionWorkerPool = null;\n        });\n    }\n\n    /**\n     * Returns whether current query should run in worker shards.\n     *\n     * @returns {boolean}\n     */\n    canUseWorkerProjection() {\n        if (!this.projectionWorkerPool) return false;\n        if (this.rows.length < this.parallel.threshold) return false;\n        const hasFilters = Boolean(this.state.searchTerm) || Boolean(Object.keys(this.state.columnFilters).length);\n        const hasSorts = Boolean(this.state.sorts.length);\n        if (!hasFilters && !hasSorts) return false;\n        return true;\n    }\n\n    /**\n     * Disposes worker resources.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.projectionWorkerPool?.destroy();\n        this.projectionWorkerPool = null;\n    }\n\n    /**\n     * Returns sorted+filtered projection for current query state.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    getProjectedRows(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.projectionCache && this.projectionCache.revision === this.revision && this.projectionCache.columnsKey === columnsKey) {\n            return this.projectionCache.rows;\n        }\n\n        const filtered = this.getFilteredRows(columns, columnsKey);\n        const sorted = this.applySortWithCache(filtered, columns);\n        if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n            const index = this.getColumnIndex(columns);\n            for (const column of columns) {\n                this.getIndexedText(index, column.key);\n                this.getIndexedNumeric(index, column.key);\n                this.hasAlphaValues(index, column.key);\n            }\n        }\n        this.projectionCache = {\n            revision: this.revision,\n            columnsKey,\n            rows: sorted\n        };\n        return sorted;\n    }\n\n    /**\n     * Returns sorted+filtered projection, optionally using worker projection.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getProjectedRowsAsync(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.projectionCache && this.projectionCache.revision === this.revision && this.projectionCache.columnsKey === columnsKey) {\n            return Promise.resolve(this.projectionCache.rows);\n        }\n\n        if (this.canUseWorkerProjection()) {\n            return this.getProjectedRowsFromWorkers(columns, columnsKey);\n        }\n\n        return this.getFilteredRowsWithWorkersAsync(columns, columnsKey).then((filtered) => {\n            const sorted = this.applySortWithCache(filtered, columns);\n            if (!this.state.searchTerm && !Object.keys(this.state.columnFilters).length && this.rows.length > 20000) {\n                const index = this.getColumnIndex(columns);\n                for (const column of columns) {\n                    this.getIndexedText(index, column.key);\n                    this.getIndexedNumeric(index, column.key);\n                    this.hasAlphaValues(index, column.key);\n                }\n            }\n            this.projectionCache = {\n                revision: this.revision,\n                columnsKey,\n                rows: sorted\n            };\n            return sorted;\n        });\n    }\n\n    /**\n     * Returns projection rows computed by worker shards.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getProjectedRowsFromWorkers(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n\n        return this.projectionWorkerReady\n            .then(() =>\n                this.projectionWorkerPool.project({\n                    keys: columns.map((column) => column.key),\n                    searchTerm,\n                    columnFilters: this.state.columnFilters,\n                    sorts: this.state.sorts\n                })\n            )\n            .then((indices) => {\n                const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                this.projectionCache = {\n                    revision: this.revision,\n                    columnsKey,\n                    rows\n                };\n                return rows;\n            })\n            .catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n                return Promise.resolve(this.getProjectedRows(columns));\n            });\n    }\n\n    /**\n     * Returns filtered rows for active filter/search state.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Record<string, any>[]}\n     */\n    getFilteredRows(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n        if (this.filterCache && this.filterCache.rowsVersion === this.rowsVersion && this.filterCache.columnsKey === columnsKey && this.filterCache.searchTerm === searchTerm && this.filterCache.filtersKey === filtersKey) {\n            return this.filterCache.rows;\n        }\n\n        const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n        const rows = this.applyFiltersAndSearch(baseRows, columns);\n        this.filterCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            searchTerm,\n            filtersKey,\n            rows\n        };\n        return rows;\n    }\n\n    /**\n     * Returns filtered rows, using worker shards when configured.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {string} columnsKey\n     * @returns {Promise<Record<string, any>[]>}\n     */\n    getFilteredRowsWithWorkersAsync(columns, columnsKey) {\n        const searchTerm = this.state.searchTerm;\n        const filtersKey = this.serializeActiveFilters(columns);\n        if (this.filterCache && this.filterCache.rowsVersion === this.rowsVersion && this.filterCache.columnsKey === columnsKey && this.filterCache.searchTerm === searchTerm && this.filterCache.filtersKey === filtersKey) {\n            return Promise.resolve(this.filterCache.rows);\n        }\n\n        if (!this.canUseWorkerProjection()) {\n            const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n            const rows = this.applyFiltersAndSearch(baseRows, columns);\n            this.filterCache = {\n                rowsVersion: this.rowsVersion,\n                columnsKey,\n                searchTerm,\n                filtersKey,\n                rows\n            };\n            return Promise.resolve(rows);\n        }\n\n        return this.projectionWorkerReady\n            .then(() =>\n                this.projectionWorkerPool.project({\n                    keys: columns.map((column) => column.key),\n                    searchTerm,\n                    columnFilters: this.state.columnFilters,\n                    sorts: []\n                })\n            )\n            .then((indices) => {\n                const rows = indices.map((index) => this.rows[index]).filter(Boolean);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                return rows;\n            })\n            .catch(() => {\n                this.projectionWorkerPool?.destroy();\n                this.projectionWorkerPool = null;\n\n                const baseRows = this.resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey);\n                const rows = this.applyFiltersAndSearch(baseRows, columns);\n                this.filterCache = {\n                    rowsVersion: this.rowsVersion,\n                    columnsKey,\n                    searchTerm,\n                    filtersKey,\n                    rows\n                };\n                return rows;\n            });\n    }\n\n    /**\n     * Applies column filters and global search in one pass.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applyFiltersAndSearch(rows, columns) {\n        const keys = columns.map((column) => column.key);\n        const columnSet = new Set(keys);\n        const activeFilters = Object.entries(this.state.columnFilters).filter(([key]) => columnSet.has(key));\n        const searchTerm = this.state.searchTerm;\n\n        if (!activeFilters.length && !searchTerm) return rows;\n\n        if (rows === this.rows) {\n            const index = this.getColumnIndex(columns);\n            const filterColumns = activeFilters.map(([key, term]) => ({\n                term,\n                text: this.getIndexedText(index, key)\n            }));\n            const searchColumns = searchTerm ? this.getSearchableKeys(index, keys, searchTerm).map((key) => this.getIndexedText(index, key)) : null;\n            const output = [];\n\n            for (let i = 0; i < rows.length; i += 1) {\n                let matchesFilters = true;\n                for (const filterColumn of filterColumns) {\n                    if (!filterColumn.text[i].includes(filterColumn.term)) {\n                        matchesFilters = false;\n                        break;\n                    }\n                }\n                if (!matchesFilters) continue;\n\n                if (!searchColumns) {\n                    output.push(rows[i]);\n                    continue;\n                }\n\n                let matchesSearch = false;\n                for (const searchColumn of searchColumns) {\n                    if (searchColumn[i].includes(searchTerm)) {\n                        matchesSearch = true;\n                        break;\n                    }\n                }\n                if (matchesSearch) output.push(rows[i]);\n            }\n            return output;\n        }\n\n        const output = [];\n        for (const row of rows) {\n            let matchesFilters = true;\n            for (const [key, term] of activeFilters) {\n                if (\n                    !String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(term)\n                ) {\n                    matchesFilters = false;\n                    break;\n                }\n            }\n            if (!matchesFilters) continue;\n\n            if (!searchTerm) {\n                output.push(row);\n                continue;\n            }\n\n            let matchesSearch = false;\n            for (const key of keys) {\n                if (\n                    String(row?.[key] ?? '')\n                        .toLowerCase()\n                        .includes(searchTerm)\n                ) {\n                    matchesSearch = true;\n                    break;\n                }\n            }\n            if (matchesSearch) output.push(row);\n        }\n        return output;\n    }\n\n    /**\n     * Applies sort rules using pre-normalized arrays and stable merge sort.\n     *\n     * @param {Record<string, any>[]} rows\n     * @param {{ key: string }[]} columns\n     * @returns {Record<string, any>[]}\n     */\n    applySortWithCache(rows, columns) {\n        if (!this.state.sorts.length) return rows;\n\n        const columnSet = new Set(columns.map((item) => item.key));\n        const sorts = this.state.sorts.filter((item) => columnSet.has(item.key));\n        if (!sorts.length) return rows;\n\n        const rowCount = rows.length;\n        const order = Array.from({ length: rowCount }).map((_, index) => index);\n        const comparator = this.getCompiledSortComparator(columns, sorts, rows);\n\n        if (rowCount < 5000) {\n            mergeSort(order, comparator);\n        } else {\n            order.sort(comparator);\n        }\n\n        const output = new Array(rowCount);\n        for (let i = 0; i < rowCount; i += 1) {\n            output[i] = rows[order[i]];\n        }\n        return output;\n    }\n\n    /**\n     * Returns a narrowed base row set for incremental query updates when possible.\n     *\n     * @param {string} columnsKey\n     * @param {string} searchTerm\n     * @param {string} filtersKey\n     * @returns {Record<string, any>[]}\n     */\n    resolveIncrementalBaseRows(columnsKey, searchTerm, filtersKey) {\n        if (!this.filterCache) return this.rows;\n        if (this.filterCache.rowsVersion !== this.rowsVersion) return this.rows;\n        if (this.filterCache.columnsKey !== columnsKey) return this.rows;\n        if (!isIncrementalRefinement(this.filterCache.searchTerm, searchTerm)) return this.rows;\n        if (!isIncrementalFilterRefinement(this.filterCache.filtersKey, filtersKey)) return this.rows;\n        return this.filterCache.rows;\n    }\n\n    /**\n     * Returns a compiled row-index comparator for the current sort state.\n     *\n     * @param {{ key: string }[]} columns\n     * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n     * @param {Record<string, any>[]} rows\n     * @returns {(left: number, right: number) => number}\n     */\n    getCompiledSortComparator(columns, sorts, rows) {\n        const columnsKey = this.getColumnsKey(columns);\n        const sortsKey = serializeSorts(sorts);\n        const index = this.getColumnIndex(columns);\n        if (this.sortComparatorCache && this.sortComparatorCache.rowsVersion === this.rowsVersion && this.sortComparatorCache.columnsKey === columnsKey && this.sortComparatorCache.sortsKey === sortsKey) {\n            return this.buildLocalComparator(this.sortComparatorCache.comparator, rows, index.rowIndex);\n        }\n\n        const sourceText = new Map();\n        const sourceNumeric = new Map();\n        for (const sort of sorts) {\n            sourceText.set(sort.key, this.getIndexedText(index, sort.key));\n            sourceNumeric.set(sort.key, this.getIndexedNumeric(index, sort.key));\n        }\n\n        const comparator = (leftSourceIndex, rightSourceIndex) => {\n            for (const sort of sorts) {\n                const numeric = sourceNumeric.get(sort.key);\n                const text = sourceText.get(sort.key);\n                const bothNumeric = numeric.flags[leftSourceIndex] && numeric.flags[rightSourceIndex];\n                let cmp = 0;\n                if (bothNumeric) {\n                    cmp = numeric.values[leftSourceIndex] - numeric.values[rightSourceIndex];\n                } else {\n                    const leftText = text[leftSourceIndex];\n                    const rightText = text[rightSourceIndex];\n                    if (leftText < rightText) cmp = -1;\n                    else if (leftText > rightText) cmp = 1;\n                }\n                if (cmp !== 0) return sort.direction === 'desc' ? -cmp : cmp;\n            }\n            return leftSourceIndex - rightSourceIndex;\n        };\n\n        this.sortComparatorCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            sortsKey,\n            comparator,\n            sourceText,\n            sourceNumeric\n        };\n        return this.buildLocalComparator(comparator, rows, index.rowIndex);\n    }\n\n    /**\n     * Maps source-index comparator to local row-order comparator.\n     *\n     * @param {(leftSourceIndex: number, rightSourceIndex: number) => number} sourceComparator\n     * @param {Record<string, any>[]} rows\n     * @param {WeakMap<Record<string, any>, number>} rowIndex\n     * @returns {(left: number, right: number) => number}\n     */\n    buildLocalComparator(sourceComparator, rows, rowIndex) {\n        return (leftIndex, rightIndex) => {\n            const leftSource = rowIndex.get(rows[leftIndex]);\n            const rightSource = rowIndex.get(rows[rightIndex]);\n            if (leftSource === undefined || rightSource === undefined) {\n                return leftIndex - rightIndex;\n            }\n            const cmp = sourceComparator(leftSource, rightSource);\n            if (cmp !== 0) return cmp;\n            return leftIndex - rightIndex;\n        };\n    }\n\n    /**\n     * Returns canonical key string for a column set.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {string}\n     */\n    getColumnsKey(columns) {\n        return columns.map((column) => column.key).join('|');\n    }\n\n    /**\n     * Serializes active filters for cache keying.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {string}\n     */\n    serializeActiveFilters(columns) {\n        const columnSet = new Set(columns.map((item) => item.key));\n        const active = Object.entries(this.state.columnFilters)\n            .filter(([key]) => columnSet.has(key))\n            .sort(([leftKey], [rightKey]) => compareText(leftKey, rightKey));\n        if (!active.length) return '';\n        return active.map(([key, value]) => `${key}:${value}`).join('|');\n    }\n\n    /**\n     * Returns normalized text index for current rows and columns.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ rowsVersion: number, columnsKey: string, rows: Record<string, any>[], rowIndex: WeakMap<Record<string, any>, number>, textByKey: Map<string, string[]>, numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }>, hasAlphaByKey: Map<string, boolean> }}\n     */\n    getColumnIndex(columns) {\n        const columnsKey = this.getColumnsKey(columns);\n        if (this.columnIndexCache && this.columnIndexCache.rowsVersion === this.rowsVersion && this.columnIndexCache.columnsKey === columnsKey && this.columnIndexCache.rows === this.rows) {\n            return this.columnIndexCache;\n        }\n\n        const rowIndex = new WeakMap();\n        for (let i = 0; i < this.rows.length; i += 1) {\n            rowIndex.set(this.rows[i], i);\n        }\n\n        this.columnIndexCache = {\n            rowsVersion: this.rowsVersion,\n            columnsKey,\n            rows: this.rows,\n            textByKey: new Map(),\n            rowIndex,\n            numericByKey: new Map(),\n            hasAlphaByKey: new Map()\n        };\n        return this.columnIndexCache;\n    }\n\n    /**\n     * Returns normalized text values for one indexed column.\n     *\n     * @param {{ rows: Record<string, any>[], textByKey: Map<string, string[]> }} index\n     * @param {string} key\n     * @returns {string[]}\n     */\n    getIndexedText(index, key) {\n        const cached = index.textByKey.get(key);\n        if (cached) return cached;\n\n        const values = new Array(index.rows.length);\n        for (let i = 0; i < index.rows.length; i += 1) {\n            values[i] = String(index.rows[i]?.[key] ?? '').toLowerCase();\n        }\n        index.textByKey.set(key, values);\n        return values;\n    }\n\n    /**\n     * Returns normalized numeric values and finite flags for one indexed column.\n     *\n     * @param {{ rows: Record<string, any>[], numericByKey: Map<string, { values: Float64Array, flags: Uint8Array }> }} index\n     * @param {string} key\n     * @returns {{ values: Float64Array, flags: Uint8Array }}\n     */\n    getIndexedNumeric(index, key) {\n        const cached = index.numericByKey.get(key);\n        if (cached) return cached;\n\n        const values = new Float64Array(index.rows.length);\n        const flags = new Uint8Array(index.rows.length);\n        for (let i = 0; i < index.rows.length; i += 1) {\n            const parsed = Number(index.rows[i]?.[key]);\n            if (Number.isFinite(parsed)) {\n                values[i] = parsed;\n                flags[i] = 1;\n            }\n        }\n\n        const next = { values, flags };\n        index.numericByKey.set(key, next);\n        return next;\n    }\n\n    /**\n     * Returns search keys optimized for the current term.\n     *\n     * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n     * @param {string[]} keys\n     * @param {string} term\n     * @returns {string[]}\n     */\n    getSearchableKeys(index, keys, term) {\n        if (!HAS_ALPHA_RE.test(term)) return keys;\n\n        const filtered = keys.filter((key) => this.hasAlphaValues(index, key));\n        return filtered.length ? filtered : keys;\n    }\n\n    /**\n     * Returns whether a column can contain alphabetic characters.\n     *\n     * @param {{ hasAlphaByKey: Map<string, boolean> }} index\n     * @param {string} key\n     * @returns {boolean}\n     */\n    hasAlphaValues(index, key) {\n        const cached = index.hasAlphaByKey.get(key);\n        if (cached !== undefined) return cached;\n\n        const values = this.getIndexedText(index, key);\n        let hasAlpha = false;\n        for (let i = 0; i < values.length; i += 1) {\n            if (HAS_ALPHA_RE.test(values[i])) {\n                hasAlpha = true;\n                break;\n            }\n        }\n\n        index.hasAlphaByKey.set(key, hasAlpha);\n        return hasAlpha;\n    }\n}\n\n/**\n * Normalizes a page number into a valid positive integer.\n *\n * @param {number} page\n * @returns {number}\n */\nfunction normalizePage(page) {\n    if (!Number.isFinite(page)) return 1;\n    return Math.max(1, Math.floor(page));\n}\n\n/**\n * Normalizes a page size into a valid positive integer.\n *\n * @param {number} pageSize\n * @returns {number}\n */\nfunction normalizePageSize(pageSize) {\n    if (!Number.isFinite(pageSize)) return 1;\n    return Math.max(1, Math.floor(pageSize));\n}\n\n/** @type {RegExp} */\nconst HAS_ALPHA_RE = /[a-z]/;\n\n/**\n * Compares two lowercase text values.\n *\n * @param {string} left\n * @param {string} right\n * @returns {number}\n */\nfunction compareText(left, right) {\n    if (left < right) return -1;\n    if (left > right) return 1;\n    return 0;\n}\n\n/**\n * Returns whether next query is a narrowing form of previous.\n *\n * @param {string} previous\n * @param {string} next\n * @returns {boolean}\n */\nfunction isIncrementalRefinement(previous, next) {\n    return next.startsWith(previous);\n}\n\n/**\n * Returns whether next active filter set refines previous.\n *\n * @param {string} previous\n * @param {string} next\n * @returns {boolean}\n */\nfunction isIncrementalFilterRefinement(previous, next) {\n    if (!previous) return true;\n    if (!next) return false;\n    const previousEntries = previous.split('|').filter(Boolean);\n    const nextEntries = new Map(next.split('|').filter(Boolean).map((entry) => {\n        const separator = entry.indexOf(':');\n        const key = separator >= 0 ? entry.slice(0, separator) : entry;\n        const value = separator >= 0 ? entry.slice(separator + 1) : '';\n        return [key, value];\n    }));\n    for (const entry of previousEntries) {\n        const separator = entry.indexOf(':');\n        const key = separator >= 0 ? entry.slice(0, separator) : entry;\n        const value = separator >= 0 ? entry.slice(separator + 1) : '';\n        const nextValue = nextEntries.get(key);\n        if (typeof nextValue !== 'string') return false;\n        if (!nextValue.startsWith(value)) return false;\n    }\n    return true;\n}\n\n/**\n * Serializes sort definitions for cache keying.\n *\n * @param {{ key: string, direction: 'asc'|'desc' }[]} sorts\n * @returns {string}\n */\nfunction serializeSorts(sorts) {\n    return sorts.map((sort) => `${sort.key}:${sort.direction}`).join('|');\n}\n\n/**\n * Performs stable merge sort on index arrays using a shared scratch buffer.\n *\n * @param {number[]} items\n * @param {(left: number, right: number) => number} compare\n * @returns {void}\n */\nfunction mergeSort(items, compare) {\n    const size = items.length;\n    if (size < 2) return;\n\n    const buffer = new Array(size);\n    let width = 1;\n\n    while (width < size) {\n        for (let start = 0; start < size; start += width * 2) {\n            const middle = Math.min(start + width, size);\n            const end = Math.min(start + width * 2, size);\n            let left = start;\n            let right = middle;\n            let write = start;\n\n            while (left < middle && right < end) {\n                if (compare(items[left], items[right]) <= 0) {\n                    buffer[write] = items[left];\n                    left += 1;\n                } else {\n                    buffer[write] = items[right];\n                    right += 1;\n                }\n                write += 1;\n            }\n\n            while (left < middle) {\n                buffer[write] = items[left];\n                left += 1;\n                write += 1;\n            }\n            while (right < end) {\n                buffer[write] = items[right];\n                right += 1;\n                write += 1;\n            }\n        }\n\n        for (let i = 0; i < size; i += 1) {\n            items[i] = buffer[i];\n        }\n        width *= 2;\n    }\n}\n\n/**\n * Resolves configured parallel worker count.\n *\n * @param {number | string | undefined} input\n * @returns {number}\n */\nfunction resolveParallelWorkers(input) {\n    if (typeof input === 'number' && Number.isFinite(input)) {\n        return Math.max(1, Math.floor(input));\n    }\n\n    if (input === 'auto' || input == null) {\n        const cores = typeof navigator !== 'undefined' && Number.isFinite(navigator.hardwareConcurrency) ? navigator.hardwareConcurrency : 4;\n        return Math.max(2, Math.min(8, Math.floor(cores) - 1));\n    }\n\n    const numeric = Number(input);\n    if (Number.isFinite(numeric)) {\n        return Math.max(1, Math.floor(numeric));\n    }\n    return 4;\n}\n", "/**\n * Merges two plain objects recursively.\n *\n * @param {Record<string, any>} base\n * @param {Record<string, any>} extra\n * @returns {Record<string, any>}\n */\nexport function deepMerge(base, extra) {\n    const output = { ...base };\n\n    for (const key of Object.keys(extra || {})) {\n        const baseValue = output[key];\n        const extraValue = extra[key];\n\n        if (isObject(baseValue) && isObject(extraValue)) {\n            output[key] = deepMerge(baseValue, extraValue);\n        } else {\n            output[key] = extraValue;\n        }\n    }\n\n    return output;\n}\n\n/**\n * Checks whether a value is a non-array object.\n *\n * @param {unknown} value\n * @returns {boolean}\n */\nfunction isObject(value) {\n    return value !== null && typeof value === 'object' && !Array.isArray(value);\n}\n", "/**\n * Provides a minimal publish-subscribe event bus.\n */\nexport class EventEmitter {\n    /**\n     * Creates a new event emitter instance.\n     */\n    constructor() {\n        /** @type {Map<string, Function[]>} */\n        this.listeners = new Map();\n    }\n\n    /**\n     * Registers an event callback.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {() => void}\n     */\n    on(event, callback) {\n        const list = this.listeners.get(event) || [];\n        list.push(callback);\n        this.listeners.set(event, list);\n        return () => this.off(event, callback);\n    }\n\n    /**\n     * Removes an event callback.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {void}\n     */\n    off(event, callback) {\n        const list = this.listeners.get(event);\n        if (!list) return;\n        this.listeners.set(\n            event,\n            list.filter((item) => item !== callback)\n        );\n    }\n\n    /**\n     * Emits an event payload to registered listeners.\n     *\n     * @param {string} event\n     * @param {any} payload\n     * @returns {void}\n     */\n    emit(event, payload) {\n        const list = this.listeners.get(event);\n        if (!list) return;\n        for (const callback of list) callback(payload);\n    }\n}\n", "/**\n * Resolves client-side table view projections.\n */\nexport class ClientDataSource {\n    /**\n     * Creates a client data source instance.\n     *\n     * @param {{ store: import('../state-store.js').StateStore }} config\n     */\n    constructor({ store }) {\n        /** @type {import('../state-store.js').StateStore} */\n        this.store = store;\n    }\n\n    /**\n     * Resolves table view data.\n     *\n     * @param {{ columns: { key: string }[] }} context\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getView({ columns }) {\n        if (typeof this.store.getVisibleRowsAsync === 'function' && typeof this.store.canUseWorkerProjection === 'function' && this.store.canUseWorkerProjection()) {\n            return this.store.getVisibleRowsAsync(columns);\n        }\n        return Promise.resolve(this.store.getVisibleRows(columns));\n    }\n}\n", "/**\n * Resolves server-side table view projections.\n */\nexport class ServerDataSource {\n    /**\n     * Creates a server data source instance.\n     *\n     * @param {{ store: import('../state-store.js').StateStore, fetchData: Function | null, onLoadingChange: (loading: boolean) => void }} config\n     */\n    constructor({ store, fetchData, onLoadingChange }) {\n        /** @type {import('../state-store.js').StateStore} */\n        this.store = store;\n        /** @type {Function | null} */\n        this.fetchData = fetchData;\n        /** @type {(loading: boolean) => void} */\n        this.onLoadingChange = onLoadingChange;\n    }\n\n    /**\n     * Resolves table view data.\n     *\n     * @returns {Promise<{ rows: Record<string, any>[], totalRows: number, totalPages: number }>}\n     */\n    getView() {\n        if (typeof this.fetchData !== 'function') {\n            return Promise.reject(new Error('VanillaTable serverSide mode requires options.fetchData(query).'));\n        }\n\n        this.onLoadingChange(true);\n\n        const query = this.store.getQuery();\n        return Promise.resolve(this.fetchData(query))\n            .then((response) => {\n                const rows = Array.isArray(response?.rows) ? response.rows : [];\n                const totalRows = Number(response?.totalRows || rows.length);\n                this.store.setRows(rows);\n\n                return {\n                    rows,\n                    totalRows,\n                    totalPages: Math.max(1, Math.ceil(totalRows / this.store.state.pageSize))\n                };\n            })\n            .finally(() => {\n                this.onLoadingChange(false);\n            });\n    }\n}\n", "import { ClientDataSource } from './client-data-source.js';\nimport { ServerDataSource } from './server-data-source.js';\n\n/**\n * Creates a data source strategy for current options.\n *\n * @param {{ options: Record<string, any>, store: import('../state-store.js').StateStore, onLoadingChange: (loading: boolean) => void }} config\n * @returns {ClientDataSource | ServerDataSource}\n */\nexport function createDataSource({ options, store, onLoadingChange }) {\n    if (options.serverSide) {\n        return new ServerDataSource({\n            store,\n            fetchData: options.fetchData,\n            onLoadingChange\n        });\n    }\n\n    return new ClientDataSource({ store });\n}\n", "/**\n * Synchronizes table state with URL and local storage.\n */\nexport class StateSync {\n    /**\n     * Creates state sync instance.\n     *\n     * @param {{ persistence: { enabled: boolean, storageKey: string | null }, urlSync: { enabled: boolean, param: string }, tableId: string }} config\n     */\n    constructor({ persistence, urlSync, tableId }) {\n        /** @type {{ enabled: boolean, storageKey: string | null }} */\n        this.persistence = persistence;\n        /** @type {{ enabled: boolean, param: string }} */\n        this.urlSync = urlSync;\n        /** @type {string} */\n        this.tableId = tableId;\n    }\n\n    /**\n     * Loads stored or URL state payload.\n     *\n     * @returns {Record<string, any>}\n     */\n    load() {\n        const fromUrl = this.loadFromUrl();\n        const fromStorage = this.loadFromStorage();\n        return {\n            ...fromStorage,\n            ...fromUrl\n        };\n    }\n\n    /**\n     * Persists state to configured sinks.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    save(state) {\n        if (this.persistence.enabled) {\n            this.saveToStorage(state);\n        }\n\n        if (this.urlSync.enabled) {\n            this.saveToUrl(state);\n        }\n    }\n\n    /**\n     * Loads state from local storage.\n     *\n     * @returns {Record<string, any>}\n     */\n    loadFromStorage() {\n        if (!this.persistence.enabled || typeof window === 'undefined') return {};\n        const key = this.getStorageKey();\n\n        try {\n            const raw = window.localStorage.getItem(key);\n            if (!raw) return {};\n            const parsed = JSON.parse(raw);\n            return parsed && typeof parsed === 'object' ? parsed : {};\n        } catch {\n            return {};\n        }\n    }\n\n    /**\n     * Saves state to local storage.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    saveToStorage(state) {\n        if (typeof window === 'undefined') return;\n\n        try {\n            window.localStorage.setItem(this.getStorageKey(), JSON.stringify(state));\n        } catch {\n            // Ignores storage write failures.\n        }\n    }\n\n    /**\n     * Loads state payload from URL param.\n     *\n     * @returns {Record<string, any>}\n     */\n    loadFromUrl() {\n        if (!this.urlSync.enabled || typeof window === 'undefined') return {};\n\n        try {\n            const params = new URLSearchParams(window.location.search);\n            const encoded = params.get(this.urlSync.param || 'vt');\n            if (!encoded) return {};\n            const json = decodeURIComponent(encoded);\n            const parsed = JSON.parse(json);\n            return parsed && typeof parsed === 'object' ? parsed : {};\n        } catch {\n            return {};\n        }\n    }\n\n    /**\n     * Saves state payload to URL param.\n     *\n     * @param {Record<string, any>} state\n     * @returns {void}\n     */\n    saveToUrl(state) {\n        if (typeof window === 'undefined') return;\n\n        try {\n            const params = new URLSearchParams(window.location.search);\n            params.set(this.urlSync.param || 'vt', encodeURIComponent(JSON.stringify(state)));\n            const next = `${window.location.pathname}?${params.toString()}${window.location.hash}`;\n            window.history.replaceState({}, '', next);\n        } catch {\n            // Ignores URL sync failures.\n        }\n    }\n\n    /**\n     * Returns storage key.\n     *\n     * @returns {string}\n     */\n    getStorageKey() {\n        return this.persistence.storageKey || `vanilla-tables:${this.tableId}`;\n    }\n}\n", "import { defaultOptions } from './default-options.js';\nimport { Renderer } from './renderer.js';\nimport { StateStore } from './state-store.js';\nimport { deepMerge } from '../utils/deep-merge.js';\nimport { EventEmitter } from '../utils/event-emitter.js';\nimport { createDataSource } from './data-sources/create-data-source.js';\nimport { StateSync } from './sync/state-sync.js';\n\n/**\n * Coordinates state, rendering, and plugin extensions.\n */\nexport class VanillaTable {\n    /**\n     * Creates a table instance.\n     *\n     * @param {HTMLElement} element\n     * @param {Record<string, any>[]} rows\n     * @param {Record<string, any>} [options]\n     */\n    constructor(element, rows, options = {}) {\n        if (!(element instanceof HTMLElement)) {\n            throw new Error('VanillaTable requires a valid HTMLElement as first argument.');\n        }\n\n        /** @type {HTMLElement} */\n        this.root = element;\n        /** @type {Record<string, any>[]} */\n        this.rows = Array.isArray(rows) ? rows : [];\n        /** @type {Record<string, any>} */\n        this.options = deepMerge(defaultOptions, options);\n        this.options.i18n = {\n            ...defaultOptions.i18n,\n            ...(this.options.i18n || {})\n        };\n        this.options.labels = {\n            ...this.options.labels,\n            search: this.options.i18n.search || this.options.labels.search,\n            filter: this.options.i18n.filter || this.options.labels.filter,\n            rows: this.options.i18n.rows || this.options.labels.rows,\n            actions: this.options.i18n.actions || this.options.labels.actions,\n            loading: this.options.i18n.loading || this.options.labels.loading,\n            empty: this.options.i18n.empty || this.options.labels.empty,\n            first: this.options.i18n.first || this.options.labels.first,\n            prev: this.options.i18n.prev || this.options.labels.prev,\n            next: this.options.i18n.next || this.options.labels.next,\n            last: this.options.i18n.last || this.options.labels.last,\n            pageInfo:\n                typeof this.options.i18n.pageInfo === 'string'\n                    ? ({ page, totalPages, totalRows }) => this.options.i18n.pageInfo.replace('{page}', String(page)).replace('{totalPages}', String(totalPages)).replace('{totalRows}', String(totalRows))\n                    : this.options.labels.pageInfo\n        };\n\n        if (!this.options.columns.length) {\n            this.options.columns = inferColumns(this.rows);\n        }\n\n        /** @type {EventEmitter} */\n        this.events = new EventEmitter();\n        /** @type {Record<string, Function>} */\n        this.hooks = {};\n        /** @type {StateStore} */\n        this.store = new StateStore({\n            rows: this.rows,\n            pageSize: this.options.pageSize,\n            initialSort: this.options.initialSort,\n            parallel: this.options.parallel\n        });\n\n        const initialOrder = this.options.columns.map((column) => column.key);\n        this.store.setColumnOrder(initialOrder);\n\n        /** @type {Renderer} */\n        this.renderer = new Renderer({ root: element, options: this.options, hooks: this.hooks });\n        /** @type {ReturnType<typeof createDataSource>} */\n        this.dataSource = createDataSource({\n            options: this.options,\n            store: this.store,\n            onLoadingChange: (loading) => this.handleLoadingChange(loading)\n        });\n\n        /** @type {StateSync} */\n        this.stateSync = new StateSync({\n            persistence: this.options.persistence,\n            urlSync: this.options.urlSync,\n            tableId: this.getTableId()\n        });\n\n        /** @type {Set<string>} */\n        this.expandedRowIds = new Set();\n        /** @type {number | null} */\n        this.searchTimer = null;\n        /** @type {boolean} */\n        this.loading = false;\n        /** @type {Record<string, any>} */\n        this.lastView = { rows: [], totalRows: 0, totalPages: 1 };\n        /** @type {number | null} */\n        this.lastAnimationFrame = null;\n        /** @type {{ enabled: boolean, start: number, end: number, rowHeight: number }} */\n        this.virtualization = {\n            enabled: Boolean(this.options.virtualScroll.enabled),\n            start: 0,\n            end: this.options.pageSize,\n            rowHeight: this.options.virtualScroll.rowHeight\n        };\n        /** @type {{ enabled: boolean, start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number }} */\n        this.columnVirtualization = {\n            enabled: Boolean(this.options.virtualColumns?.enabled),\n            start: 0,\n            end: this.options.columns.length,\n            leftWidth: 0,\n            rightWidth: 0,\n            totalColumns: this.options.columns.length\n        };\n        /** @type {{ lastTop: number, lastAt: number, dynamicOverscan: number }} */\n        this.scrollProfile = {\n            lastTop: 0,\n            lastAt: 0,\n            dynamicOverscan: this.options.virtualScroll.overscan\n        };\n\n        this.applySyncedState();\n    }\n\n    /**\n     * Initializes DOM and listeners.\n     *\n     * @returns {VanillaTable}\n     */\n    init() {\n        this.renderer.mount();\n        this.bindEvents();\n        void this.refresh();\n        this.emitEvent('init', { instance: this });\n        return this;\n    }\n\n    /**\n     * Re-renders current state to the DOM.\n     *\n     * @returns {Promise<void>}\n     */\n    refresh() {\n        let columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n\n        return this.dataSource\n            .getView({ columns })\n            .then((view) => {\n                if (!columns.length && view.rows.length) {\n                    this.options.columns = inferColumns(view.rows);\n                    this.store.setColumnOrder(this.options.columns.map((column) => column.key));\n                    columns = this.store.getVisibleColumns(this.store.getOrderedColumns(this.options.columns));\n                }\n\n                if (this.store.state.page > view.totalPages) {\n                    this.store.setPage(view.totalPages);\n                    return this.refresh();\n                }\n\n                this.lastView = view;\n                this.virtualization = this.computeVirtualWindow(view.rows.length);\n\n                this.columnVirtualization = this.computeColumnWindow(columns);\n                this.renderer.renderHeader(columns, this.store.state.sorts, this.store.state.columnFilters, this.store.state.columnWidths, this.columnVirtualization);\n                this.renderer.renderBody(columns, view.rows, {\n                    expandedRowIds: this.expandedRowIds,\n                    getRowId: (row, index) => this.getRowId(row, index),\n                    expandRow: this.options.expandRow,\n                    editableRows: this.options.editableRows,\n                    editableColumns: this.options.editableColumns,\n                    columnWidths: this.store.state.columnWidths,\n                    virtualization: this.virtualization,\n                    columnWindow: this.columnVirtualization\n                });\n                this.renderer.renderFooter({\n                    page: this.store.state.page,\n                    totalPages: view.totalPages,\n                    totalRows: view.totalRows,\n                    loading: this.loading\n                });\n                this.renderer.refs.table?.setAttribute('aria-rowcount', String(view.totalRows));\n\n                this.persistState();\n                this.emitEvent('change', { state: this.getState(), view });\n                this.emitEvent('state:change', this.getState());\n            })\n            .catch((error) => {\n                this.emitEvent('error', { error });\n            });\n    }\n\n    /**\n     * Handles data loading state transitions.\n     *\n     * @param {boolean} loading\n     * @returns {void}\n     */\n    handleLoadingChange(loading) {\n        this.loading = loading;\n        this.renderer.renderFooter({\n            page: this.store.state.page,\n            totalPages: 1,\n            totalRows: 0,\n            loading\n        });\n        this.emitEvent('loading:change', { loading });\n    }\n\n    /**\n     * Attaches DOM event handlers.\n     *\n     * @returns {void}\n     */\n    bindEvents() {\n        this.bindSearchEvents();\n        this.bindSortEvents();\n        this.bindFilterEvents();\n        this.bindPaginationEvents();\n        this.bindExpandEvents();\n        this.bindEditEvents();\n        this.bindActionEvents();\n        this.bindColumnResizeEvents();\n        this.bindColumnReorderEvents();\n        this.bindVirtualScrollEvents();\n        this.bindKeyboardA11yEvents();\n    }\n\n    /**\n     * Attaches search input handlers.\n     *\n     * @returns {void}\n     */\n    bindSearchEvents() {\n        this.renderer.refs.search?.addEventListener('input', (event) => {\n            if (this.searchTimer) clearTimeout(this.searchTimer);\n\n            const applySearch = () => {\n                this.store.setSearchTerm(event.target.value);\n                this.emitEvent('search:change', { term: this.store.state.searchTerm });\n                this.scheduleRefresh(false);\n            };\n\n            if (this.options.debounceMs <= 0) {\n                applySearch();\n                return;\n            }\n\n            this.searchTimer = setTimeout(applySearch, this.options.debounceMs);\n        });\n    }\n\n    /**\n     * Attaches sort handlers.\n     *\n     * @returns {void}\n     */\n    bindSortEvents() {\n        this.renderer.refs.thead?.addEventListener('click', (event) => {\n            const button = event.target.closest('.vt-sort-trigger');\n            if (!button || button.disabled) return;\n            this.store.toggleSort(button.dataset.key, this.options.multiSort && event.shiftKey, this.options.maxSorts);\n            this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches filter handlers.\n     *\n     * @returns {void}\n     */\n    bindFilterEvents() {\n        this.renderer.refs.thead?.addEventListener('input', (event) => {\n            const input = event.target.closest('.vt-column-filter');\n            if (!input) return;\n            this.store.setColumnFilter(input.dataset.key, input.value);\n            this.emitEvent('filter:change', {\n                key: input.dataset.key,\n                value: this.store.state.columnFilters[input.dataset.key] || ''\n            });\n            this.scheduleRefresh(false);\n        });\n    }\n\n    /**\n     * Attaches pagination handlers.\n     *\n     * @returns {void}\n     */\n    bindPaginationEvents() {\n        this.renderer.refs.pageSize?.addEventListener('change', (event) => {\n            this.store.setPageSize(Number(event.target.value));\n            this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n            void this.refresh();\n        });\n\n        this.renderer.refs.prev?.addEventListener('click', () => {\n            this.store.setPage(this.store.state.page - 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.next?.addEventListener('click', () => {\n            this.store.setPage(this.store.state.page + 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.first?.addEventListener('click', () => {\n            this.store.setPage(1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n\n        this.renderer.refs.last?.addEventListener('click', () => {\n            this.store.setPage(this.lastView.totalPages || 1);\n            this.emitEvent('page:change', { page: this.store.state.page });\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches row expansion handlers.\n     *\n     * @returns {void}\n     */\n    bindExpandEvents() {\n        this.renderer.refs.tbody?.addEventListener('click', (event) => {\n            const trigger = event.target.closest('.vt-expand-trigger');\n            if (!trigger) return;\n            const rowId = trigger.dataset.rowId;\n            this.toggleRow(rowId);\n        });\n    }\n\n    /**\n     * Attaches inline edit handlers.\n     *\n     * @returns {void}\n     */\n    bindEditEvents() {\n        this.renderer.refs.tbody?.addEventListener('dblclick', (event) => {\n            if (!this.options.editableRows) return;\n\n            const cell = event.target.closest('.vt-cell-editable');\n            if (!cell || cell.querySelector('input')) return;\n\n            const rowId = cell.dataset.rowId;\n            const key = cell.dataset.key;\n            const row = this.findRowById(rowId);\n            if (!row) return;\n\n            const input = document.createElement('input');\n            input.type = 'text';\n            input.value = String(row[key] ?? '');\n            input.className = 'vt-inline-input';\n            cell.innerHTML = '';\n            cell.appendChild(input);\n            input.focus();\n\n            const submit = () => {\n                row[key] = input.value;\n                this.emitEvent('edit', { rowId, row, key, value: input.value });\n                this.emitEvent('row:edit', { rowId, row, key, value: input.value });\n                void this.refresh();\n            };\n\n            input.addEventListener('blur', submit, { once: true });\n            input.addEventListener('keydown', (keyboardEvent) => {\n                if (keyboardEvent.key === 'Enter') {\n                    input.blur();\n                }\n            });\n        });\n    }\n\n    /**\n     * Attaches row action handlers.\n     *\n     * @returns {void}\n     */\n    bindActionEvents() {\n        this.renderer.refs.tbody?.addEventListener('click', (event) => {\n            const actionButton = event.target.closest('.vt-action-btn');\n            if (!actionButton) return;\n\n            const rowId = actionButton.dataset.rowId;\n            const actionId = actionButton.dataset.actionId;\n            const row = this.findRowById(rowId);\n            const action = this.options.rowActions.find((item) => item.id === actionId);\n            if (!action || !row) return;\n\n            Promise.resolve(action.onClick ? action.onClick({ row, rowId, actionId, table: this, event }) : null).finally(() => {\n                this.emitEvent('row:action', { row, rowId, actionId });\n            });\n        });\n    }\n\n    /**\n     * Attaches column resize handlers.\n     *\n     * @returns {void}\n     */\n    bindColumnResizeEvents() {\n        if (!this.options.columnResize) return;\n\n        this.renderer.refs.thead?.addEventListener('mousedown', (event) => {\n            const handle = event.target.closest('.vt-resize-handle');\n            if (!handle) return;\n\n            event.preventDefault();\n\n            const key = handle.dataset.key;\n            const startX = event.clientX;\n            const startWidth = this.store.state.columnWidths[key] || this.renderer.refs.thead.querySelector(`th[data-key=\"${key}\"]`)?.getBoundingClientRect().width || 180;\n\n            const onMove = (moveEvent) => {\n                const nextWidth = startWidth + (moveEvent.clientX - startX);\n                this.store.setColumnWidth(key, nextWidth);\n                this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n                void this.refresh();\n            };\n\n            const onUp = () => {\n                window.removeEventListener('mousemove', onMove);\n                window.removeEventListener('mouseup', onUp);\n                this.persistState();\n            };\n\n            window.addEventListener('mousemove', onMove);\n            window.addEventListener('mouseup', onUp);\n        });\n    }\n\n    /**\n     * Attaches column reorder handlers.\n     *\n     * @returns {void}\n     */\n    bindColumnReorderEvents() {\n        if (!this.options.columnReorder) return;\n\n        let draggingKey = null;\n\n        this.renderer.refs.thead?.addEventListener('dragstart', (event) => {\n            const th = event.target.closest('th[data-key]');\n            if (!th) return;\n            draggingKey = th.dataset.key;\n            event.dataTransfer.effectAllowed = 'move';\n        });\n\n        this.renderer.refs.thead?.addEventListener('dragover', (event) => {\n            if (!draggingKey) return;\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'move';\n        });\n\n        this.renderer.refs.thead?.addEventListener('drop', (event) => {\n            if (!draggingKey) return;\n            event.preventDefault();\n\n            const targetTh = event.target.closest('th[data-key]');\n            if (!targetTh) return;\n\n            const targetKey = targetTh.dataset.key;\n            if (!targetKey || targetKey === draggingKey) return;\n\n            const current = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n            const next = current.filter((key) => key !== draggingKey);\n            const targetIndex = next.indexOf(targetKey);\n            next.splice(targetIndex, 0, draggingKey);\n\n            this.store.setColumnOrder(next);\n            this.emitEvent('column:reorder', { order: next });\n            void this.refresh();\n            draggingKey = null;\n        });\n\n        this.renderer.refs.thead?.addEventListener('dragend', () => {\n            draggingKey = null;\n        });\n    }\n\n    /**\n     * Attaches virtual scroll handlers.\n     *\n     * @returns {void}\n     */\n    bindVirtualScrollEvents() {\n        if (!this.options.virtualScroll.enabled && !this.options.virtualColumns?.enabled) return;\n\n        this.renderer.refs.tableWrap?.addEventListener('scroll', () => {\n            const wrap = this.renderer.refs.tableWrap;\n            if (this.options.virtualScroll.adaptiveOverscan && wrap) {\n                const now = (typeof performance !== 'undefined' ? performance.now() : Date.now());\n                const deltaTop = Math.abs(wrap.scrollTop - this.scrollProfile.lastTop);\n                const deltaTime = Math.max(1, now - this.scrollProfile.lastAt);\n                const velocity = deltaTop / deltaTime;\n                const boost = Math.min(20, Math.floor(velocity * 16));\n                this.scrollProfile.dynamicOverscan = Math.max(this.options.virtualScroll.overscan, this.options.virtualScroll.overscan + boost);\n                this.scrollProfile.lastTop = wrap.scrollTop;\n                this.scrollProfile.lastAt = now;\n            }\n            if (this.lastAnimationFrame) {\n                cancelAnimationFrame(this.lastAnimationFrame);\n            }\n            this.lastAnimationFrame = requestAnimationFrame(() => {\n                this.scheduleRefresh(true);\n            });\n        });\n    }\n\n    /**\n     * Schedules one refresh using animation or idle callbacks.\n     *\n     * @param {boolean} urgent\n     * @returns {void}\n     */\n    scheduleRefresh(urgent) {\n        if (urgent || typeof requestIdleCallback !== 'function') {\n            void this.refresh();\n            return;\n        }\n        requestIdleCallback(() => {\n            void this.refresh();\n        });\n    }\n\n    /**\n     * Attaches keyboard accessibility handlers.\n     *\n     * @returns {void}\n     */\n    bindKeyboardA11yEvents() {\n        this.renderer.refs.thead?.addEventListener('keydown', (event) => {\n            const resizeHandle = event.target.closest('.vt-resize-handle');\n            if (resizeHandle && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n                event.preventDefault();\n                const key = resizeHandle.dataset.key;\n                const current = this.store.state.columnWidths[key] || 180;\n                const delta = event.key === 'ArrowLeft' ? -16 : 16;\n                this.setColumnWidth(key, current + delta);\n                return;\n            }\n\n            const th = event.target.closest('th[data-key]');\n            if (!th || !this.options.columnReorder) return;\n\n            if (event.altKey && (event.key === 'ArrowLeft' || event.key === 'ArrowRight')) {\n                event.preventDefault();\n                const currentOrder = this.store.getOrderedColumns(this.options.columns).map((column) => column.key);\n                const key = th.dataset.key;\n                const index = currentOrder.indexOf(key);\n                if (index < 0) return;\n\n                const targetIndex = event.key === 'ArrowLeft' ? Math.max(0, index - 1) : Math.min(currentOrder.length - 1, index + 1);\n                if (targetIndex === index) return;\n\n                const next = [...currentOrder];\n                next.splice(index, 1);\n                next.splice(targetIndex, 0, key);\n                this.reorderColumns(next);\n            }\n        });\n    }\n\n    /**\n     * Sets table data and refreshes.\n     *\n     * @param {Record<string, any>[]} rows\n     * @returns {Promise<void>}\n     */\n    setData(rows) {\n        this.rows = Array.isArray(rows) ? rows : [];\n        this.store.setRows(this.rows);\n        this.store.setPage(1);\n        this.emitEvent('data:set', { count: this.rows.length });\n        return this.refresh();\n    }\n\n    /**\n     * Adds one row.\n     *\n     * @param {Record<string, any>} row\n     * @returns {Promise<void>}\n     */\n    addRow(row) {\n        this.store.setRows([...this.store.rows, row]);\n        this.emitEvent('data:add', { row });\n        return this.refresh();\n    }\n\n    /**\n     * Removes one row by identifier.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    removeRowById(rowId) {\n        this.store.setRows(this.store.rows.filter((row, index) => this.getRowId(row, index) !== String(rowId)));\n        this.emitEvent('data:remove', { rowId });\n        return this.refresh();\n    }\n\n    /**\n     * Sets global search term.\n     *\n     * @param {string} term\n     * @returns {Promise<void>}\n     */\n    search(term) {\n        this.store.setSearchTerm(term);\n        this.emitEvent('search:change', { term: this.store.state.searchTerm });\n        return this.refresh();\n    }\n\n    /**\n     * Sets one column filter.\n     *\n     * @param {string} key\n     * @param {string} value\n     * @returns {Promise<void>}\n     */\n    filterBy(key, value) {\n        this.store.setColumnFilter(key, value);\n        this.emitEvent('filter:change', { key, value: this.store.state.columnFilters[key] || '' });\n        return this.refresh();\n    }\n\n    /**\n     * Clears all filters.\n     *\n     * @returns {Promise<void>}\n     */\n    clearFilters() {\n        this.store.clearFilters();\n        this.emitEvent('filter:clear', {});\n        return this.refresh();\n    }\n\n    /**\n     * Sets one sort rule.\n     *\n     * @param {string} key\n     * @param {'asc'|'desc'} [direction]\n     * @param {boolean} [additive]\n     * @returns {Promise<void>}\n     */\n    sortBy(key, direction = 'asc', additive = false) {\n        if (!additive) {\n            this.store.setSorts([{ key, direction }]);\n        } else {\n            const next = [...this.store.state.sorts.filter((item) => item.key !== key), { key, direction }];\n            this.store.setSorts(next.slice(-this.options.maxSorts));\n        }\n        this.emitEvent('sort:change', { sorts: [...this.store.state.sorts] });\n        return this.refresh();\n    }\n\n    /**\n     * Clears sort state.\n     *\n     * @returns {Promise<void>}\n     */\n    clearSort() {\n        this.store.clearSorts();\n        this.emitEvent('sort:clear', {});\n        return this.refresh();\n    }\n\n    /**\n     * Goes to one page.\n     *\n     * @param {number} page\n     * @returns {Promise<void>}\n     */\n    goToPage(page) {\n        this.store.setPage(page);\n        this.emitEvent('page:change', { page: this.store.state.page });\n        return this.refresh();\n    }\n\n    /**\n     * Sets page size.\n     *\n     * @param {number} pageSize\n     * @returns {Promise<void>}\n     */\n    setPageSize(pageSize) {\n        this.store.setPageSize(pageSize);\n        this.emitEvent('pagesize:change', { pageSize: this.store.state.pageSize });\n        return this.refresh();\n    }\n\n    /**\n     * Expands one row.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    expandRow(rowId) {\n        this.expandedRowIds.add(String(rowId));\n        this.emitEvent('row:expand', { rowId: String(rowId) });\n        return this.refresh();\n    }\n\n    /**\n     * Collapses one row.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    collapseRow(rowId) {\n        this.expandedRowIds.delete(String(rowId));\n        this.emitEvent('row:collapse', { rowId: String(rowId) });\n        return this.refresh();\n    }\n\n    /**\n     * Toggles one row expansion state.\n     *\n     * @param {string} rowId\n     * @returns {Promise<void>}\n     */\n    toggleRow(rowId) {\n        const normalized = String(rowId);\n        if (this.expandedRowIds.has(normalized)) {\n            return this.collapseRow(normalized);\n        }\n        return this.expandRow(normalized);\n    }\n\n    /**\n     * Expands all current rows.\n     *\n     * @returns {Promise<void>}\n     */\n    expandAllRows() {\n        this.store.rows.forEach((row, index) => {\n            this.expandedRowIds.add(this.getRowId(row, index));\n        });\n        this.emitEvent('row:expandAll', {});\n        return this.refresh();\n    }\n\n    /**\n     * Collapses all rows.\n     *\n     * @returns {Promise<void>}\n     */\n    collapseAllRows() {\n        this.expandedRowIds.clear();\n        this.emitEvent('row:collapseAll', {});\n        return this.refresh();\n    }\n\n    /**\n     * Updates one cell value.\n     *\n     * @param {string} rowId\n     * @param {string} key\n     * @param {any} value\n     * @returns {Promise<void>}\n     */\n    updateCell(rowId, key, value) {\n        const row = this.findRowById(String(rowId));\n        if (!row) return Promise.resolve();\n        row[key] = value;\n        this.emitEvent('edit', { rowId: String(rowId), row, key, value });\n        this.emitEvent('row:edit', { rowId: String(rowId), row, key, value });\n        return this.refresh();\n    }\n\n    /**\n     * Sets editable mode for one column.\n     *\n     * @param {string} key\n     * @param {boolean} editable\n     * @returns {Promise<void>}\n     */\n    setColumnEditable(key, editable) {\n        this.options.columns = this.options.columns.map((column) => (column.key === key ? { ...column, editable } : column));\n        this.options.editableColumns[key] = editable;\n        this.emitEvent('column:editable', { key, editable });\n        return this.refresh();\n    }\n\n    /**\n     * Sets one column width.\n     *\n     * @param {string} key\n     * @param {number} width\n     * @returns {Promise<void>}\n     */\n    setColumnWidth(key, width) {\n        this.store.setColumnWidth(key, width);\n        this.emitEvent('column:resize', { key, width: this.store.state.columnWidths[key] });\n        return this.refresh();\n    }\n\n    /**\n     * Reorders columns by key array.\n     *\n     * @param {string[]} order\n     * @returns {Promise<void>}\n     */\n    reorderColumns(order) {\n        this.store.setColumnOrder(order);\n        this.emitEvent('column:reorder', { order: [...order] });\n        return this.refresh();\n    }\n\n    /**\n     * Sets visibility for one column.\n     *\n     * @param {string} key\n     * @param {boolean} visible\n     * @returns {Promise<void>}\n     */\n    setColumnVisibility(key, visible) {\n        this.store.setColumnVisibility(key, visible);\n        this.emitEvent('column:visibility', { key, visible: Boolean(visible) });\n        return this.refresh();\n    }\n\n    /**\n     * Toggles visibility for one column.\n     *\n     * @param {string} key\n     * @returns {Promise<void>}\n     */\n    toggleColumnVisibility(key) {\n        const next = this.store.state.columnVisibility[key] === false;\n        return this.setColumnVisibility(key, next);\n    }\n\n    /**\n     * Applies theme classes and re-renders.\n     *\n     * @param {Record<string, string>} classes\n     * @returns {Promise<VanillaTable>}\n     */\n    setThemeClasses(classes) {\n        this.options.themeClasses = {\n            ...this.options.themeClasses,\n            ...(classes || {})\n        };\n        this.renderer.setOptions(this.options);\n        this.renderer.mount();\n        this.bindEvents();\n        return this.refresh().then(() => this);\n    }\n\n    /**\n     * Returns current serializable state.\n     *\n     * @returns {Record<string, any>}\n     */\n    getState() {\n        return {\n            ...this.store.getState(),\n            expandedRowIds: [...this.expandedRowIds]\n        };\n    }\n\n    /**\n     * Applies one state payload.\n     *\n     * @param {Record<string, any>} payload\n     * @returns {Promise<void>}\n     */\n    setState(payload) {\n        this.store.setState(payload);\n        if (Array.isArray(payload?.expandedRowIds)) {\n            this.expandedRowIds = new Set(payload.expandedRowIds.map((value) => String(value)));\n        }\n        return this.refresh();\n    }\n\n    /**\n     * Returns latest view payload.\n     *\n     * @returns {{ rows: Record<string, any>[], totalRows: number, totalPages: number }}\n     */\n    getView() {\n        return this.lastView;\n    }\n\n    /**\n     * Returns all current source rows.\n     *\n     * @returns {Record<string, any>[]}\n     */\n    getRows() {\n        return this.store.rows;\n    }\n\n    /**\n     * Subscribes to lifecycle events.\n     *\n     * @param {string} event\n     * @param {(payload: any) => void} callback\n     * @returns {() => void}\n     */\n    on(event, callback) {\n        return this.events.on(event, callback);\n    }\n\n    /**\n     * Applies a plugin function to the instance.\n     *\n     * @param {(table: VanillaTable) => void} plugin\n     * @returns {VanillaTable}\n     */\n    use(plugin) {\n        plugin(this);\n        return this;\n    }\n\n    /**\n     * Registers a render lifecycle hook.\n     *\n     * @param {string} name\n     * @param {(context: any) => void} callback\n     * @returns {VanillaTable}\n     */\n    registerHook(name, callback) {\n        this.hooks[name] = callback;\n        return this;\n    }\n\n    /**\n     * Clears rendered markup and emits destroy event.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.searchTimer) {\n            clearTimeout(this.searchTimer);\n            this.searchTimer = null;\n        }\n        if (this.lastAnimationFrame) {\n            cancelAnimationFrame(this.lastAnimationFrame);\n            this.lastAnimationFrame = null;\n        }\n        this.store.destroy();\n        this.root.innerHTML = '';\n        this.emitEvent('destroy', {});\n    }\n\n    /**\n     * Resolves a row identifier.\n     *\n     * @param {Record<string, any>} row\n     * @param {number} index\n     * @returns {string}\n     */\n    getRowId(row, index) {\n        const value = row[this.options.rowIdKey];\n        return String(value ?? `${index}`);\n    }\n\n    /**\n     * Finds a row by string identifier.\n     *\n     * @param {string} rowId\n     * @returns {Record<string, any> | undefined}\n     */\n    findRowById(rowId) {\n        return this.store.rows.find((row, index) => this.getRowId(row, index) === rowId);\n    }\n\n    /**\n     * Emits one event payload.\n     *\n     * @param {string} event\n     * @param {any} payload\n     * @returns {void}\n     */\n    emitEvent(event, payload) {\n        this.events.emit(event, payload);\n        if (this.options.events.debug && typeof console !== 'undefined') {\n            console.debug(`[vanilla-tables] ${event}`, payload);\n        }\n    }\n\n    /**\n     * Persists current state via configured sync backends.\n     *\n     * @returns {void}\n     */\n    persistState() {\n        this.stateSync.save(this.getState());\n    }\n\n    /**\n     * Applies synced state from storage and URL.\n     *\n     * @returns {void}\n     */\n    applySyncedState() {\n        const synced = this.stateSync.load();\n        this.store.setState(synced);\n        if (Array.isArray(synced?.expandedRowIds)) {\n            this.expandedRowIds = new Set(synced.expandedRowIds.map((value) => String(value)));\n        }\n    }\n\n    /**\n     * Computes virtual scroll window.\n     *\n     * @param {number} totalRows\n     * @returns {{ enabled: boolean, start: number, end: number, rowHeight: number }}\n     */\n    computeVirtualWindow(totalRows) {\n        if (!this.options.virtualScroll.enabled || !this.renderer.refs.tableWrap) {\n            return {\n                enabled: false,\n                start: 0,\n                end: totalRows,\n                rowHeight: this.options.virtualScroll.rowHeight\n            };\n        }\n\n        const wrap = this.renderer.refs.tableWrap;\n        const rowHeight = this.options.virtualScroll.rowHeight;\n        const overscan = this.options.virtualScroll.adaptiveOverscan ? this.scrollProfile.dynamicOverscan : this.options.virtualScroll.overscan;\n        const visibleCount = Math.ceil((wrap.clientHeight || this.options.virtualScroll.height) / rowHeight);\n        const start = Math.max(0, Math.floor(wrap.scrollTop / rowHeight) - overscan);\n        const end = Math.min(totalRows, start + visibleCount + overscan * 2);\n\n        return {\n            enabled: true,\n            start,\n            end,\n            rowHeight\n        };\n    }\n\n    /**\n     * Computes virtual column window.\n     *\n     * @param {{ key: string }[]} columns\n     * @returns {{ enabled: boolean, start: number, end: number, leftWidth: number, rightWidth: number, totalColumns: number }}\n     */\n    computeColumnWindow(columns) {\n        if (!this.options.virtualColumns?.enabled || !this.renderer.refs.tableWrap) {\n            return {\n                enabled: false,\n                start: 0,\n                end: columns.length,\n                leftWidth: 0,\n                rightWidth: 0,\n                totalColumns: columns.length\n            };\n        }\n\n        const wrap = this.renderer.refs.tableWrap;\n        const defaultWidth = Math.max(40, Number(this.options.virtualColumns.width || 180));\n        const overscan = Math.max(0, Number(this.options.virtualColumns.overscan || 0));\n        const widths = columns.map((column) => this.store.state.columnWidths[column.key] || defaultWidth);\n        const targetStart = wrap.scrollLeft;\n        const targetEnd = wrap.scrollLeft + wrap.clientWidth;\n        let acc = 0;\n        let firstVisible = 0;\n        while (firstVisible < widths.length && acc + widths[firstVisible] < targetStart) {\n            acc += widths[firstVisible];\n            firstVisible += 1;\n        }\n        let accEnd = acc;\n        let lastVisible = firstVisible;\n        while (lastVisible < widths.length && accEnd < targetEnd) {\n            accEnd += widths[lastVisible];\n            lastVisible += 1;\n        }\n\n        const start = Math.max(0, firstVisible - overscan);\n        const end = Math.min(widths.length, lastVisible + overscan);\n        const leftWidth = widths.slice(0, start).reduce((sum, value) => sum + value, 0);\n        const rightWidth = widths.slice(end).reduce((sum, value) => sum + value, 0);\n\n        return {\n            enabled: true,\n            start,\n            end,\n            leftWidth,\n            rightWidth,\n            totalColumns: columns.length\n        };\n    }\n\n    /**\n     * Resolves a stable table id used for state sync.\n     *\n     * @returns {string}\n     */\n    getTableId() {\n        if (this.root.id) return this.root.id;\n        const token = Math.random().toString(36).slice(2, 10);\n        return `vt-${token}`;\n    }\n}\n\n/**\n * Infers column metadata from the first data row.\n *\n * @param {Record<string, any>[]} rows\n * @returns {{ key: string, label: string, editable: boolean }[]}\n */\nfunction inferColumns(rows) {\n    if (!rows.length) return [];\n\n    return Object.keys(rows[0]).map((key) => ({\n        key,\n        label: key.charAt(0).toUpperCase() + key.slice(1),\n        editable: true\n    }));\n}\n", "/**\n * Creates a plugin that applies striping classes to rendered rows.\n *\n * @param {{ className?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function stripedRowsPlugin(options = {}) {\n    const className = options.className || 'vt-row-striped';\n\n    return (table) => {\n        table.registerHook('afterRowRender', ({ element }) => {\n            const index = Array.from(element.parentElement.children).indexOf(element);\n            if (index % 2 === 1) {\n                element.classList.add(className);\n            }\n        });\n    };\n}\n", "/**\n * Creates a theme plugin that maps semantic keys to CSS classes.\n *\n * @param {Record<string, string>} classes\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function themePlugin(classes) {\n    return (table) => {\n        table.setThemeClasses(classes || {});\n    };\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bootstrap-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bootstrapThemePlugin() {\n    return themePlugin({\n        shell: 'border-0 rounded-0 bg-transparent',\n        controls: 'd-flex flex-wrap gap-2 align-items-center justify-content-between w-100',\n        searchWrap: 'd-inline-flex align-items-center gap-2',\n        sizeWrap: 'd-inline-flex align-items-center gap-2',\n        searchInput: 'form-control form-control-sm',\n        sizeSelect: 'form-select form-select-sm',\n        tableWrap: 'table-responsive',\n        table: 'table table-hover table-striped mb-0',\n        sortTrigger: 'btn btn-sm p-0 border-0 bg-transparent text-body fw-semibold',\n        actionHeader: 'text-body fw-semibold small',\n        columnFilter: 'form-control form-control-sm',\n        actionSelect: 'form-select form-select-sm w-auto',\n        actionButton: 'btn btn-outline-secondary btn-sm',\n        footer: 'd-flex justify-content-between align-items-center mt-2',\n        paginationGroup: 'd-inline-flex align-items-center gap-2 ms-auto',\n        firstButton: 'btn btn-outline-secondary btn-sm',\n        prevButton: 'btn btn-outline-secondary btn-sm',\n        nextButton: 'btn btn-outline-secondary btn-sm',\n        lastButton: 'btn btn-outline-secondary btn-sm',\n        expandTrigger: 'btn btn-outline-primary btn-sm',\n        editableCell: 'bg-light-subtle'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Bulma-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function bulmaThemePlugin() {\n    return themePlugin({\n        shell: 'is-block',\n        controls: 'level is-mobile mb-3',\n        searchWrap: 'field has-addons',\n        sizeWrap: 'field has-addons',\n        searchInput: 'input is-small',\n        sizeSelect: 'select is-small',\n        tableWrap: 'table-container',\n        table: 'table is-fullwidth is-hoverable is-striped',\n        sortTrigger: 'button is-white is-small',\n        columnFilter: 'input is-small',\n        footer: 'level mt-3',\n        paginationGroup: 'buttons are-small',\n        firstButton: 'button is-light is-small',\n        prevButton: 'button is-light is-small',\n        nextButton: 'button is-light is-small',\n        lastButton: 'button is-light is-small',\n        expandTrigger: 'button is-info is-light is-small',\n        editableCell: 'has-background-light',\n        actionButton: 'button is-small is-primary is-light',\n        actionSelect: 'select is-small',\n        actionHeader: 'has-text-weight-semibold',\n        fixedHeader: 'has-background-white-ter',\n        fixedFooter: 'has-background-white-ter'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Material UI-like utility class theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function muiThemePlugin() {\n    return themePlugin({\n        shell: 'MuiBox-root',\n        controls: 'MuiToolbar-root MuiToolbar-gutters',\n        searchWrap: 'MuiFormControl-root',\n        sizeWrap: 'MuiFormControl-root',\n        searchInput: 'MuiInputBase-input MuiInputBase-sizeSmall',\n        sizeSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n        tableWrap: 'MuiTableContainer-root',\n        table: 'MuiTable-root',\n        headerCell: 'MuiTableCell-root MuiTableCell-head',\n        bodyCell: 'MuiTableCell-root',\n        sortTrigger: 'mui-sort-trigger',\n        columnFilter: 'MuiInputBase-input MuiInputBase-sizeSmall',\n        footer: 'MuiToolbar-root MuiToolbar-gutters',\n        paginationGroup: 'MuiPagination-root',\n        firstButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        prevButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        nextButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        lastButton: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        expandTrigger: 'MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-sizeSmall',\n        editableCell: 'MuiTableCell-editable',\n        actionButton: 'MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-sizeSmall',\n        actionSelect: 'MuiNativeSelect-select MuiInputBase-input MuiInputBase-sizeSmall',\n        actionHeader: 'MuiTableCell-root MuiTableCell-head',\n        fixedHeader: 'MuiTable-stickyHeader',\n        fixedFooter: 'MuiTableFooter-root',\n        fixedColumn: 'MuiTableCell-sticky'\n    });\n}\n", "import { themePlugin } from './theme-plugin.js';\n\n/**\n * Creates a Tailwind-compatible theme plugin.\n *\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function tailwindThemePlugin() {\n    return themePlugin({\n        shell: 'block',\n        controls: 'flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 p-3',\n        searchWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n        sizeWrap: 'inline-flex items-center gap-2 text-sm text-slate-700',\n        searchInput: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n        sizeSelect: 'rounded-md border border-slate-300 px-2 py-1 text-sm',\n        tableWrap: 'overflow-x-auto',\n        table: 'min-w-full divide-y divide-slate-200',\n        headerCell: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n        bodyRow: 'border-b border-slate-100',\n        bodyCell: 'px-3 py-2 text-sm text-slate-800',\n        sortTrigger: 'inline-flex items-center gap-1 text-xs font-semibold text-slate-700 hover:text-slate-900',\n        columnFilter: 'w-full rounded-md border border-slate-300 px-2 py-1 text-sm',\n        filterRow: 'bg-white',\n        filterHeaderCell: 'bg-white px-3 py-2',\n        footer: 'flex items-center justify-between gap-2 border-t border-slate-200 p-3',\n        paginationGroup: 'inline-flex items-center gap-2 ml-auto',\n        firstButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        prevButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        nextButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        lastButton: 'rounded-md border border-slate-300 px-2 py-1 text-sm hover:bg-slate-50',\n        info: 'text-sm text-slate-600',\n        expandTrigger: 'rounded-md border border-slate-300 px-2 py-0.5 text-sm hover:bg-slate-50',\n        editableCell: 'bg-amber-50',\n        actionsCell: 'px-3 py-2',\n        actionButton: 'rounded-md border border-slate-300 px-2 py-1 text-xs hover:bg-slate-50',\n        actionSelect: 'rounded-md border border-slate-300 bg-white px-2 py-1 text-sm',\n        actionHeader: 'bg-slate-50 px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-600',\n        emptyCell: 'px-3 py-6 text-center text-sm text-slate-500',\n        expandContent: 'bg-slate-50 px-3 py-2 text-sm text-slate-700',\n        fixedHeader: 'sticky top-0 z-10',\n        fixedFooter: 'sticky bottom-0 z-10 bg-white',\n        fixedColumn: 'bg-white'\n    });\n}\n", "/**\n * Creates a plugin that renders row actions as a compact dropdown.\n *\n * @param {{ placeholder?: string }} [options]\n * @returns {(table: import('../core/vanilla-table.js').VanillaTable) => void}\n */\nexport function actionsDropdownPlugin(options = {}) {\n    return (table) => {\n        table.registerHook('afterRowRender', ({ element }) => {\n            const cell = element.querySelector('.vt-actions-cell');\n            if (!cell) return;\n\n            const buttons = [...cell.querySelectorAll('.vt-action-btn')];\n            if (buttons.length < 2) return;\n\n            const select = document.createElement('select');\n            select.className = table.renderer?.theme?.classOf ? table.renderer.theme.classOf('actionSelect', 'vt-action-select') : 'vt-action-select';\n\n            const placeholder = document.createElement('option');\n            placeholder.value = '';\n            placeholder.textContent = options.placeholder || 'Actions';\n            select.appendChild(placeholder);\n\n            buttons.forEach((button) => {\n                const option = document.createElement('option');\n                option.value = button.dataset.actionId || '';\n                option.textContent = button.textContent || button.dataset.actionId || '';\n                select.appendChild(option);\n            });\n\n            select.addEventListener('change', () => {\n                const id = select.value;\n                if (!id) return;\n\n                const rowId = element.dataset.rowId;\n                const row = table.findRowById(rowId);\n                const action = table.options.rowActions.find((item) => item.id === id);\n                if (action && row) {\n                    Promise.resolve(action.onClick ? action.onClick({ row, rowId, actionId: id, table, event: new Event('change') }) : null).finally(() => {\n                        table.emitEvent('row:action', { row, rowId, actionId: id });\n                        table.refresh();\n                    });\n                }\n\n                select.value = '';\n            });\n\n            cell.innerHTML = '';\n            cell.appendChild(select);\n        });\n    };\n}\n", "/**\n * Creates a REST fetch adapter.\n *\n * @param {{ endpoint: string, method?: 'GET'|'POST', headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(query: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createRestAdapter({ endpoint, method = 'GET', headers = {}, mapResponse }) {\n    return (query) => {\n        const upper = method.toUpperCase();\n        const isGet = upper === 'GET';\n\n        let url = endpoint;\n        const init = {\n            method: upper,\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers\n            }\n        };\n\n        if (isGet) {\n            const params = new URLSearchParams({ q: JSON.stringify(query) });\n            url = `${endpoint}${endpoint.includes('?') ? '&' : '?'}${params.toString()}`;\n        } else {\n            init.body = JSON.stringify(query);\n        }\n\n        return fetch(url, init)\n            .then((response) => response.json())\n            .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n    };\n}\n\n/**\n * Creates a GraphQL fetch adapter.\n *\n * @param {{ endpoint: string, query: string, variablesKey?: string, headers?: Record<string, string>, mapResponse?: (response: any) => { rows: any[], totalRows: number } }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createGraphQLAdapter({ endpoint, query, variablesKey = 'tableQuery', headers = {}, mapResponse }) {\n    return (tableQuery) =>\n        fetch(endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers\n            },\n            body: JSON.stringify({\n                query,\n                variables: {\n                    [variablesKey]: tableQuery\n                }\n            })\n        })\n            .then((response) => response.json())\n            .then((payload) => (mapResponse ? mapResponse(payload) : payload));\n}\n\n/**\n * Creates a cursor pagination adapter.\n *\n * @param {{ fetchPage: (args: { cursor: string | null, pageSize: number, searchTerm: string, columnFilters: Record<string, string>, sorts: { key: string, direction: 'asc'|'desc' }[] }) => Promise<{ rows: any[], nextCursor: string | null, totalRows?: number }> }} config\n * @returns {(tableQuery: Record<string, any>) => Promise<{ rows: any[], totalRows: number }>}\n */\nexport function createCursorAdapter({ fetchPage }) {\n    let lastCursor = null;\n\n    return (tableQuery) => {\n        if (tableQuery.page <= 1) {\n            lastCursor = null;\n        }\n\n        return Promise.resolve(\n            fetchPage({\n                cursor: lastCursor,\n                pageSize: tableQuery.pageSize,\n                searchTerm: tableQuery.searchTerm,\n                columnFilters: tableQuery.columnFilters,\n                sorts: tableQuery.sorts\n            })\n        ).then((result) => {\n            lastCursor = result.nextCursor || null;\n            return {\n                rows: result.rows || [],\n                totalRows: Number(result.totalRows || (result.rows || []).length)\n            };\n        });\n    };\n}\n"],
  "mappings": "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",
  "names": ["appendClassNames", "appendClassNames", "normalizePageSize", "current", "output"]
}
